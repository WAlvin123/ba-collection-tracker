/*! For license information please see main.e18fbe69.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var O,j=Object.assign;function U(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case E:return"Profiler";case _:return"StrictMode";case x:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,_e=null;function Ee(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),Se(e.stateNode,e.type,t))}}function Ae(e){Te?_e?_e.push(e):_e=[e]:Te=e}function Ce(){if(Te){var e=Te,t=_e;if(_e=Te=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function xe(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Te||null!==_e)&&(xe(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Me=!1}function Le(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,je=null,Ue=!1,Fe=null,ze={onError:function(e){Oe=!0,je=e}};function Ve(e,t,n,r,i,a,s,o,l){Oe=!1,je=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ke(i),e;if(s===r)return Ke(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=ht(o):0!==(a&=s)&&(r=ht(a))}else 0!==(s=n&~i)?r=ht(s):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,St,Tt,_t,Et,At=!1,Ct=[],It=null,xt=null,Nt=null,Pt=new Map,Rt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Ot(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,(function(){Tt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){At=!1,null!==It&&Ut(It)&&(It=null),null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),Pt.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==xt&&Vt(xt,e),null!==Nt&&Vt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)jt(n),null===n.blockedOn&&Mt.shift()}var Ht=w.ReactCurrentBatchConfig,Kt=!0;function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Gt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Wt(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Ot(It,e,t,n,r,i),!0;case"dragenter":return xt=Ot(xt,e,t,n,r,i),!0;case"mouseover":return Nt=Ot(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ot(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Ot(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=ke(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),hn=j({},cn,{view:0,detail:0}),dn=an(hn),pn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(pn),mn=an(j({},pn,{dataTransfer:0})),gn=an(j({},hn,{relatedTarget:0})),yn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),wn=an(j({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function En(){return _n}var An=j({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(An),In=an(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=an(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Mn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var On=u&&"TextEvent"in window&&!Ln,jn=u&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ae(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];qn(t,Wn,e,ke(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Tr={},_r={};function Er(e){if(Tr[e])return Tr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Tr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),xr=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Pr.length;Mr++){var Dr=Pr[Mr];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Ar,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(xr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var u=je;Oe=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;jr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;jr(i,o,c),a=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=vi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Pe((function(){var r=a,i=ke(n),s=[];e:{var o=Nr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xn;break;case Ar:case Cr:case Ir:l=yn;break;case xr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Re(f,d))&&u.push(qr(f,m,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:wi(l),p=null==c?o:wi(c),(o=new u(m,f+"leave",l,n,i)).target=h,o.relatedTarget=p,m=null,vi(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Wr(p))f++;for(p=0,m=d;m;m=Wr(m))p++;for(;0<f-p;)u=Wr(u),f--;for(;0<p-f;)d=Wr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==l&&Qr(s,o,l,u,!1),null!==c&&null!==h&&Qr(s,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Kn(o))if($n)g=sr;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(s,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?wi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&zn(e,t)?(e=en(),Zt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Ur(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Re(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,a))&&s.unshift(qr(n,l,o)):i||null!=(l=Re(n,a))&&s.push(qr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[pi]||null}var Si=[],Ti=-1;function _i(e){return{current:e}}function Ei(e){0>Ti||(e.current=Si[Ti],Si[Ti]=null,Ti--)}function Ai(e,t){Ti++,Si[Ti]=e.current,e.current=t}var Ci={},Ii=_i(Ci),xi=_i(!1),Ni=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ei(xi),Ei(Ii)}function Di(e,t,n){if(Ii.current!==Ci)throw Error(a(168));Ai(Ii,t),Ai(xi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return j({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,Ai(Ii,e),Ai(xi,xi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(xi),Ei(Ii),Ai(Ii,e)):Ei(xi),Ai(xi,n)}var Ui=null,Fi=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{bt=t,zi=!1}}return null}var Hi=[],Ki=0,qi=null,Gi=0,Wi=[],Qi=0,Yi=null,Ji=1,$i="";function Xi(e,t){Hi[Ki++]=Gi,Hi[Ki++]=qi,qi=e,Gi=t}function Zi(e,t,n){Wi[Qi++]=Ji,Wi[Qi++]=$i,Wi[Qi++]=Yi,Yi=e;var r=Ji;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ji=1<<32-st(t)+i|n<<i|r,$i=a+e}else Ji=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Ki],Hi[Ki]=null,Gi=Hi[--Ki],Hi[Ki]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),va=null,ba=null,wa=null;function ka(){wa=ba=va=null}function Sa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Ta(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){va=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===va)throw Error(a(308));ba=e,va.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Aa=null;function Ca(e){null===Aa?Aa=[e]:Aa.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,xa(e,r)}function xa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,xa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,xa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(s=0,u=c=l=null,o=a;;){var d=o.lane,p=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=j({},h,d);break e;case 2:Na=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,s|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);jl|=s,e.lanes=s,e.memoizedState=h}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ma(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ma(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ma(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Ha(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Ni:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===T?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case R:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Wa(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),ia&&Xi(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===u?c=h:u.sibling=h,u=h);return ia&&Xi(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=f(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),ia&&Xi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return ia&&Xi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),ia&&Xi(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===T&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===T){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=Ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===T?((a=Oc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Lc(s.type,s.key,s.props,null,r.mode,l)).ref=Ga(r,a,s),l.return=r,r=l)}return o(r);case S:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(L(s))return g(r,a,s,l);Wa(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Uc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Ja=Ya(!0),$a=Ya(!1),Xa={},Za=_i(Xa),es=_i(Xa),ts=_i(Xa);function ns(e){if(e===Xa)throw Error(a(174));return e}function rs(e,t){switch(Ai(ts,t),Ai(es,e),Ai(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ai(Za,t)}function is(){Ei(Za),Ei(es),Ei(ts)}function as(e){ns(ts.current);var t=ns(Za.current),n=le(t,e.type);t!==n&&(Ai(es,e),Ai(Za,n))}function ss(e){es.current===e&&(Ei(Za),Ei(es))}var os=_i(0);function ls(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cs=[];function us(){for(var e=0;e<cs.length;e++)cs[e]._workInProgressVersionPrimary=null;cs.length=0}var hs=w.ReactCurrentDispatcher,ds=w.ReactCurrentBatchConfig,ps=0,fs=null,ms=null,gs=null,ys=!1,vs=!1,bs=0,ws=0;function ks(){throw Error(a(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ts(e,t,n,r,i,s){if(ps=s,fs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?so:oo,e=n(r,i),vs){s=0;do{if(vs=!1,bs=0,25<=s)throw Error(a(301));s+=1,gs=ms=null,t.updateQueue=null,hs.current=lo,e=n(r,i)}while(vs)}if(hs.current=ao,t=null!==ms&&null!==ms.next,ps=0,gs=ms=fs=null,ys=!1,t)throw Error(a(300));return e}function _s(){var e=0!==bs;return bs=0,e}function Es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gs?fs.memoizedState=gs=e:gs=gs.next=e,gs}function As(){if(null===ms){var e=fs.alternate;e=null!==e?e.memoizedState:null}else e=ms.next;var t=null===gs?fs.memoizedState:gs.next;if(null!==t)gs=t,ms=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ms=e).memoizedState,baseState:ms.baseState,baseQueue:ms.baseQueue,queue:ms.queue,next:null},null===gs?fs.memoizedState=gs=e:gs=gs.next=e}return gs}function Cs(e,t){return"function"===typeof t?t(e):t}function Is(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ms,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((ps&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,fs.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,fs.lanes|=s,jl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=As(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(wo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function Ps(e,t){var n=fs,r=As(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,wo=!0),r=r.queue,Hs(Ds.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==gs&&1&gs.memoizedState.tag){if(n.flags|=2048,Us(9,Ms.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(a(349));0!==(30&ps)||Rs(n,t,i)}return i}function Rs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fs.updateQueue)?(t={lastEffect:null,stores:null},fs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ms(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Os(e)}function Ds(e,t,n){return n((function(){Ls(t)&&Os(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Os(e){var t=xa(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=Es();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,fs,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fs.updateQueue)?(t={lastEffect:null,stores:null},fs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return As().memoizedState}function zs(e,t,n,r){var i=Es();fs.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function Vs(e,t,n,r){var i=As();r=void 0===r?null:r;var a=void 0;if(null!==ms){var s=ms.memoizedState;if(a=s.destroy,null!==r&&Ss(r,s.deps))return void(i.memoizedState=Us(t,n,a,r))}fs.flags|=e,i.memoizedState=Us(1|t,n,a,r)}function Bs(e,t){return zs(8390656,8,e,t)}function Hs(e,t){return Vs(2048,8,e,t)}function Ks(e,t){return Vs(4,2,e,t)}function qs(e,t){return Vs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ws(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4,4,Gs.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=As();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),fs.lanes|=n,jl|=n,e.baseState=!0),t)}function Xs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ds.transition;ds.transition={};try{e(!1),t()}finally{bt=n,ds.transition=r}}function Zs(){return As().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ia(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ca(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===fs||null!==t&&t===fs}function ro(e,t){vs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var ao={readContext:Ea,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},so={readContext:Ea,useCallback:function(e,t){return Es().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Bs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Es();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Es();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,fs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Es().memoizedState=e},useState:js,useDebugValue:Qs,useDeferredValue:function(e){return Es().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Xs.bind(null,e[1]),Es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fs,i=Es();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Nl)throw Error(a(349));0!==(30&ps)||Rs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bs(Ds.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ms.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Es(),t=Nl.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-st(Ji)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ws++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ea,useCallback:Ys,useContext:Ea,useEffect:Hs,useImperativeHandle:Ws,useInsertionEffect:Ks,useLayoutEffect:qs,useMemo:Js,useReducer:Is,useRef:Fs,useState:function(){return Is(Cs)},useDebugValue:Qs,useDeferredValue:function(e){return $s(As(),ms.memoizedState,e)},useTransition:function(){return[Is(Cs)[0],As().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:Zs,unstable_isNewReconciler:!1},lo={readContext:Ea,useCallback:Ys,useContext:Ea,useEffect:Hs,useImperativeHandle:Ws,useInsertionEffect:Ks,useLayoutEffect:qs,useMemo:Js,useReducer:xs,useRef:Fs,useState:function(){return xs(Cs)},useDebugValue:Qs,useDeferredValue:function(e){var t=As();return null===ms?t.memoizedState=e:$s(t,ms.memoizedState,e)},useTransition:function(){return[xs(Cs)[0],As().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:Zs,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),ho(0,t)},n}function mo(e,t,n){(n=Ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function ko(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ja(t,e.child,n,r)}function So(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=Ts(e,t,n,r,a,i),n=_s(),null===e||wo?(ia&&n&&ea(t),t.flags|=1,ko(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function To(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_o(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Dl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Dl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Dl,Ml),Ml|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Dl,Ml),Ml|=r;return ko(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var a=Ri(n)?Ni:Ii.current;return a=Pi(t,a),_a(t,i),n=Ts(e,t,n,r,a,i),r=_s(),null===e||wo?(ia&&r&&ea(t),t.flags|=1,ko(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Io(e,t,n,r,i){if(Ri(n)){var a=!0;Oi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ko(e,t),Ha(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Ri(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&Ka(t,s,r,c),Na=!1;var d=t.memoizedState;s.state=d,ja(t,r,s,i),l=t.memoizedState,o!==r||d!==l||xi.current||Na?("function"===typeof u&&(za(t,n,u,r),l=t.memoizedState),(o=Na||Ba(t,n,o,r,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ra(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ga(t.type,o),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Pi(t,l=Ri(n)?Ni:Ii.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&Ka(t,s,r,l),Na=!1,d=t.memoizedState,s.state=d,ja(t,r,s,i);var f=t.memoizedState;o!==h||d!==f||xi.current||Na?("function"===typeof p&&(za(t,n,p,r),f=t.memoizedState),(c=Na||Ba(t,n,c,r,d,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return xo(e,t,n,r,a,i)}function xo(e,t,n,r,i,a){Ao(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),qo(e,t,a);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,o,a)):ko(e,t,o,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),rs(e,t.containerInfo)}function Po(e,t,n,r,i){return pa(),fa(i),t.flags|=256,ko(e,t,n,r),t.child}var Ro,Mo,Do,Lo,Oo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,s=os.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(os,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(s=Oc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Nl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,xa(e,i),rc(r,e,i,-1))}return gc(),zo(e,t,o,r=uo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Ji,Wi[Qi++]=$i,Wi[Qi++]=Yi,Ji=e.id,$i=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Dc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fa(r),Ja(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ta(e.return,t,n)}function Bo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ko(e,t,r.children,n),0!==(2&(r=os.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(os,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ls(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ls(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Ri(t.type)&&Mi(),Wo(t),null;case 3:return r=t.stateNode,is(),Ei(xi),Ei(Ii),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Mo(e,t),Wo(t),null;case 5:ss(t);var i=ns(ts.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wo(t),null}if(e=ns(Za.current),ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in ve(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ns(ts.current),ns(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ei(os),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),pa(),t.flags|=98560,s=!1;else if(s=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[di]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),s=!1}else null!==aa&&(oc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&os.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return is(),Mo(e,t),null===e&&Br(t.stateNode.containerInfo),Wo(t),null;case 10:return Sa(t.type._context),Wo(t),null;case 19:if(Ei(os),null===(s=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Go(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ls(e))){for(t.flags|=128,Go(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(os,1&os.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Hl&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ls(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Wo(t),null}else 2*$e()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=os.current,Ai(os,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),Ei(xi),Ei(Ii),us(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ss(t),null;case 13:if(Ei(os),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(os),null;case 4:return is(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ns(Za.current);var a,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,$o=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||el(n,t);case 6:var r=hl,i=dl;hl=null,pl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&tl(n,t,s),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!$o&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,pl(e,t,n),$o=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=xc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(a(160));fl(s,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":X(i,s);break;case"textarea":ae(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||h,gl(t,e),$o=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(d);continue}}null!==f?(f.return=p,Zo=f):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(a(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Jo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Jo;var c=$o;if(Jo=s,($o=l)&&!c)for(Zo=i;null!==Zo;)l=(s=Zo).child,22===s.tag&&null!==s.memoizedState?Tl(i):null!==l?(l.return=s,Zo=l):Tl(i);for(;null!==a;)Zo=a,wl(a,t,n),a=a.sibling;Zo=i,Jo=o,$o=c}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zo=a):kl(e)}}function kl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ua(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}$o||512&t.flags&&al(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Tl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var a=t.return;try{al(t)}catch(l){Ec(t,a,l)}break;case 5:var s=t.return;try{al(t)}catch(l){Ec(t,s,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var _l,El=Math.ceil,Al=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,xl=0,Nl=null,Pl=null,Rl=0,Ml=0,Dl=_i(0),Ll=0,Ol=null,jl=0,Ul=0,Fl=0,zl=null,Vl=null,Bl=0,Hl=1/0,Kl=null,ql=!1,Gl=null,Wl=null,Ql=!1,Yl=null,Jl=0,$l=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&xl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Rl?Rl&-Rl:null!==ma.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(a(185));yt(e,n,r),0!==(2&xl)&&e===Nl||(e===Nl&&(0===(2&xl)&&(Ul|=n),4===Ll&&lc(e,Rl)),ic(e,r),1===n&&0===xl&&0===(1&t.mode)&&(Hl=$e()+500,Fi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Nl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),si((function(){0===(6&xl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,ec=0,0!==(6&xl))throw Error(a(327));var n=e.callbackNode;if(Tc()&&e.callbackNode!==n)return null;var r=dt(e,e===Nl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=xl;xl|=2;var s=mc();for(Nl===e&&Rl===t||(Kl=null,Hl=$e()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}ka(),Al.current=s,xl=i,null!==Pl?t=0:(Nl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ol,pc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(s=ft(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ol,pc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,Vl,Kl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vl,Kl),t);break}Sc(e,Vl,Kl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vl,Kl),r);break}Sc(e,Vl,Kl);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&xl))throw Error(a(327));Tc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ol,pc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vl,Kl),ic(e,$e()),null}function uc(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(Hl=$e()+500,Fi&&Bi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&xl)&&Tc();var t=xl;xl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(xl=t))&&Bi()}}function dc(){Ml=Dl.current,Ei(Dl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:is(),Ei(xi),Ei(Ii),us();break;case 5:ss(r);break;case 4:is();break;case 13:case 19:Ei(os);break;case 10:Sa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Nl=e,Pl=e=Dc(e.current,null),Rl=Ml=t,Ll=0,Ol=null,Fl=Ul=jl=0,Vl=zl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Aa=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(ka(),hs.current=ao,ys){for(var r=fs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(ps=0,gs=ms=fs=null,vs=!1,bs=0,Cl.current=null,null===n||null===n.return){Ll=1,Ol=t,Pl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=yo(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&go(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(s,u,t),gc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),fa(co(c,l));break e}}s=c=co(c,l),4!==Ll&&(Ll=2),null===zl?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Oa(s,fo(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Oa(s,mo(s,l,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=Al.current;return Al.current=ao,null===e?ao:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Nl||0===(268435455&jl)&&0===(268435455&Ul)||lc(Nl,Rl)}function yc(e,t){var n=xl;xl|=2;var r=mc();for(Nl===e&&Rl===t||(Kl=null,pc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(ka(),xl=n,Al.current=r,null!==Pl)throw Error(a(261));return Nl=null,Rl=0,Ll}function vc(){for(;null!==Pl;)wc(Pl)}function bc(){for(;null!==Pl&&!Ye();)wc(Pl)}function wc(e){var t=_l(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?kc(e):Pl=t,Cl.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Ml)))return void(Pl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Ll=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Tc()}while(null!==Yl);if(0!==(6&xl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Nl&&(Pl=Nl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Nc(tt,(function(){return Tc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var o=bt;bt=1;var l=xl;xl|=4,Cl.current=null,function(e,t){if(ei=Kt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++h===r&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Ec(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),yl(n,e),fr(ti),Kt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Je(),xl=l,bt=o,Il.transition=s}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Tc(),s=e.pendingLanes,0!==(1&s)?e===Xl?$l++:($l=0,Xl=e):$l=0,Bi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function Tc(){if(null!==Yl){var e=wt(Jl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&xl))throw Error(a(331));var i=xl;for(xl|=4,Zo=e.current;null!==Zo;){var s=Zo,o=s.child;if(0!==(16&Zo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,s)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var p=(h=Zo).sibling,f=h.return;if(sl(h),h===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(s=Zo).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Zo=v;break e}Zo=s.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Ec(l,l.return,S)}if(l===o){Zo=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Zo=k;break e}Zo=l.return}}if(xl=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Da(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>$e()-Bl?pc(e,0):Fl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=xa(e,t))&&(yt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function xc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Nc(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return Oc(n.children,i,s,t);case _:o=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=s,e;case x:return(e=Rc(13,n,t,i)).elementType=x,e.lanes=s,e;case N:return(e=Rc(19,n,t,i)).elementType=N,e.lanes=s,e;case M:return jc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case C:o=9;break e;case I:o=11;break e;case P:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,s,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Bc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Hc(e,t,n,r,i,a,s,o,l){return(e=Vc(n,r,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=Ma(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Kc(e,t,n,r){var i=t.current,a=tc(),s=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,s))&&(rc(e,i,s,a),La(e,i,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:No(t),pa();break;case 5:as(t);break;case 1:Ri(t.type)&&Oi(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(os,1&os.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Ai(os,1&os.current),null!==(e=qo(e,t,n))?e.sibling:null);Ai(os,1&os.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(os,os.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return qo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ko(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);_a(t,n),i=Ts(null,t,r,e,i,n);var s=_s();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=xo(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),ko(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=To(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(No(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,r,n,i=co(Error(a(423)),t));break e}if(r!==i){t=Po(e,t,r,n,i=co(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=qo(e,t,n);break e}ko(e,t,r,n)}t=t.child}return t;case 5:return as(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Ao(e,t),ko(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uo(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):ko(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ko(e,t,t.pendingProps,n),t.child;case 8:case 12:return ko(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ai(ya,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!xi.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Ma(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ta(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ta(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}ko(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ea(i)),t.flags|=1,ko(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),To(e,t,r,i=ga(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Ko(e,t),t.tag=1,Ri(r)?(e=!0,Oi(t)):e=!1,_a(t,n),Ha(t,r,i),qa(t,r,i,n),xo(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Eo(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=qc(s);o.call(e)}}Kc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(s);a.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[fi]=s.current,Br(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return qc(s)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Kc(null,e,null,null)})),t[fi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&jt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,$e()),0===(6&xl)&&(Hl=$e()+500,Bi()))}break;case 13:hc((function(){var t=xa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},St=function(e){if(13===e.tag){var t=xa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=nc(e),n=xa(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},_t=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));W(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,xe=hc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ae,Ce,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),at=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,o),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:T.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+I(l,0):a,k(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),x(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",k(e))for(var c=0;c<e.length;c++){var u=a+I(o=e[c],c);l+=x(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=x(o=o.value,t,i,u=a+I(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},M={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,M(S);else{var t=r(u);null!==t&&D(k,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,v(A),A=-1),f=!0;var a=p;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!x());){var s=d.callback;if("function"===typeof s){d.callback=null,p=d.priorityLevel;var o=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&D(k,h.startTime-n),l=!1}return l}finally{d=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,_=!1,E=null,A=-1,C=5,I=-1;function x(){return!(t.unstable_now()-I<C)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?T():(_=!1,E=null)}}else _=!1}if("function"===typeof b)T=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,T=function(){R.postMessage(null)}}else T=function(){y(N,0)};function M(e){E=e,_||(_=!0,T())}function D(e,n){A=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(A),A=-1):g=!0,D(k,a-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,M(S))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e,t=n(791),r=n.t(t,2),i=n(250);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const s="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,p=l.history,f=e.Pop,m=null,g=y();function y(){return(p.state||{idx:null}).idx}function v(){f=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:f,location:w.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,p.replaceState(a({},p.state,{idx:g}),""));let w={get action(){return f},get location(){return t(l,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,v),m=e,()=>{l.removeEventListener(s,v),m=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let i=u(w.location,t,n);r&&r(i,t),g=y()+1;let a=c(i,g),s=w.createHref(i);try{p.pushState(a,"",s)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(s)}d&&m&&m({action:f,location:w.location,delta:1})},replace:function(t,n){f=e.Replace;let i=u(w.location,t,n);r&&r(i,t),g=y();let a=c(i,g),s=w.createHref(i);p.replaceState(a,"",s),d&&m&&m({action:f,location:w.location,delta:0})},go:e=>p.go(e)};return w}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=x(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let a=null;for(let s=0;null==a&&s<i.length;++s)a=A(i[s],I(r));return a}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(o(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let l=D([r,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=y(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const v=/^:[\w-]+$/,b=3,w=2,k=1,S=10,T=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=T),t&&(r+=w),n.filter((e=>!_(e))).reduce(((e,t)=>e+(v.test(t)?b:""===t?k:S)),r)}function A(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let s=0;s<n.length;++s){let e=n[s],o=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=C({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;a.push({params:r,pathname:D([i,c.pathname]),pathnameBase:L(D([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return a}function C(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:a,pathnameBase:s,pattern:e}}function I(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=P(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=d(e):(i=a({},e),o(!i.pathname||!i.pathname.includes("?"),N("?","pathname","search",i)),o(!i.pathname||!i.pathname.includes("#"),N("#","pathname","hash",i)),o(!i.search||!i.search.includes("#"),N("#","search","hash",i)));let s,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:O(r),hash:j(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),p=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!p||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],z=(new Set(F),["get",...F]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const B=t.createContext(null);const H=t.createContext(null);const K=t.createContext(null);const q=t.createContext(null);const G=t.createContext({outlet:null,matches:[],isDataRoute:!1});const W=t.createContext(null);function Q(){return null!=t.useContext(q)}function Y(){return Q()||o(!1),t.useContext(q).location}function J(e){t.useContext(K).static||t.useLayoutEffect(e)}function $(){let{isDataRoute:e}=t.useContext(G);return e?function(){let{router:e}=se(ie.UseNavigateStable),n=le(ae.UseNavigateStable),r=t.useRef(!1);J((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){Q()||o(!1);let e=t.useContext(B),{basename:n,future:r,navigator:i}=t.useContext(K),{matches:a}=t.useContext(G),{pathname:s}=Y(),l=JSON.stringify(R(a,r.v7_relativeSplatPath)),c=t.useRef(!1);return J((()=>{c.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let a=M(t,JSON.parse(l),s,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:D([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[n,i,l,s,e])}()}function X(n,r,i,a){Q()||o(!1);let{navigator:s}=t.useContext(K),{matches:l}=t.useContext(G),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let p,f=Y();if(r){var g;let e="string"===typeof r?d(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||o(!1),p=e}else p=f;let y=p.pathname||"/",v=m(n,{pathname:"/"===h?y:y.slice(h.length)||"/"});let b=re(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:D([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,a);return r&&b?t.createElement(q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:e.Pop}},b):b}function Z(){let e=function(){var e;let n=t.useContext(W),r=oe(ae.UseRouteError),i=le(ae.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ee=t.createElement(Z,null);class te extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(G.Provider,{value:this.props.routeContext},t.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ne(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(B);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(G.Provider,{value:n},i)}function re(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let l=e,c=null==(a=r)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,i,a)=>{let s,o=!1,d=null,p=null;var f;r&&(s=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||ee,u&&(h<0&&0===a?(f="route-fallback",!1||ce[f]||(ce[f]=!0),o=!0,p=null):h===a&&(o=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,a+1)),g=()=>{let n;return n=s?d:o?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ne,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(te,{location:r.location,revalidation:r.revalidation,component:d,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ie=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ie||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function se(e){let n=t.useContext(B);return n||o(!1),n}function oe(e){let n=t.useContext(H);return n||o(!1),n}function le(e){let n=function(e){let n=t.useContext(G);return n||o(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||o(!1),r.route.id}const ce={};r.startTransition;function ue(e){o(!1)}function he(n){let{basename:r="/",children:i=null,location:a,navigationType:s=e.Pop,navigator:l,static:c=!1,future:u}=n;Q()&&o(!1);let h=r.replace(/^\/*/,"/"),p=t.useMemo((()=>({basename:h,navigator:l,static:c,future:V({v7_relativeSplatPath:!1},u)})),[h,u,l,c]);"string"===typeof a&&(a=d(a));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:v="default"}=a,b=t.useMemo((()=>{let e=x(f,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:s}}),[h,f,m,g,y,v,s]);return null==b?null:t.createElement(K.Provider,{value:p},t.createElement(q.Provider,{children:i,value:b}))}function de(e){let{children:t,location:n}=e;return X(pe(t),n)}new Promise((()=>{}));t.Component;function pe(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,pe(e.props.children,a));e.type!==ue&&o(!1),e.props.index&&e.props.children&&o(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=pe(e.props.children,a)),r.push(s)})),r}const fe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;o||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new ge;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(e){return function(e){const t=fe(e);return me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ve=function(e){try{return me.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const be=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,we=()=>{try{return be()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ba-collection-tracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ve(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ke=e=>{var t,n;return null===(n=null===(t=we())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Se=()=>{var e;return null===(e=we())||void 0===e?void 0:e.config},Te=e=>{var t;return null===(t=we())||void 0===t?void 0:t["_".concat(e)]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ee(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return!function(){var e;const t=null===(e=we())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Ie extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}}class xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ne,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ie(n,a,t)}}const Ne=/\{\$([^}]+)}/g;function Pe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(Re(n)&&Re(a)){if(!Pe(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Re(e){return null!==e&&"object"===typeof e}function Me(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function De(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Le(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Oe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=je),void 0===r.error&&(r.error=je),void 0===r.complete&&(r.complete=je);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function je(){}function Ue(e){return e&&e._delegate?e._delegate:e}class Fe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ze="[DEFAULT]";class Ve{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _e;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ze})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ze?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return this.component?this.component.multipleInstances?e:ze:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ve(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const He=[];var Ke;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ke||(Ke={}));const qe={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Ge=Ke.INFO,We={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Qe=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=We[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Ye{constructor(e){this.name=e,this._logLevel=Ge,this._logHandler=Qe,this._userLogHandler=null,He.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...t),this._logHandler(this,Ke.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...t),this._logHandler(this,Ke.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...t),this._logHandler(this,Ke.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...t),this._logHandler(this,Ke.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...t),this._logHandler(this,Ke.ERROR,...t)}}const Je=(e,t)=>t.some((t=>e instanceof t));let $e,Xe;const Ze=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap;let it={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ot(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function at(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xe||(Xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(lt(this),n),ot(Ze.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ot(e.apply(lt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(lt(this),t,...r);return tt.set(a,t.sort?t.sort():[t]),ot(a)}}function st(e){return"function"===typeof e?at(e):(e instanceof IDBTransaction&&function(e){if(et.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));et.set(e,t)}(e),Je(e,$e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,it):e)}function ot(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ot(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&Ze.set(t,e)})).catch((()=>{})),rt.set(t,e),t}(e);if(nt.has(e))return nt.get(e);const t=st(e);return t!==e&&(nt.set(e,t),rt.set(t,e)),t}const lt=e=>rt.get(e);const ct=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],ht=new Map;function dt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ht.get(t))return ht.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ut.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ct.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return ht.set(t,a),a}it=(e=>({...e,get:(t,n,r)=>dt(t,n)||e.get(t,n,r),has:(t,n)=>!!dt(t,n)||e.has(t,n)}))(it);class pt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const ft="@firebase/app",mt="0.9.28",gt=new Ye("@firebase/app"),yt="[DEFAULT]",vt={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,wt=new Map;function kt(e,t){try{e.container.addComponent(t)}catch(n){gt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function St(e){const t=e.name;if(wt.has(t))return gt.debug("There were multiple attempts to register component ".concat(t,".")),!1;wt.set(t,e);for(const n of bt.values())kt(n,e);return!0}function Tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const _t=new xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Et{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Fe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _t.create("app-deleted",{appName:this._name})}}const At="10.8.1";function Ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:yt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _t.create("bad-app-name",{appName:String(i)});if(n||(n=Se()),!n)throw _t.create("no-options");const a=bt.get(i);if(a){if(Pe(n,a.options)&&Pe(r,a.config))return a;throw _t.create("duplicate-app",{appName:i})}const s=new Be(i);for(const l of wt.values())s.addComponent(l);const o=new Et(n,r,s);return bt.set(i,o),o}function It(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt;const t=bt.get(e);if(!t&&e===yt&&Se())return Ct();if(!t)throw _t.create("no-app",{appName:e});return t}function xt(e,t,n){var r;let i=null!==(r=vt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void gt.warn(e.join(" "))}St(new Fe("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Nt="firebase-heartbeat-database",Pt=1,Rt="firebase-heartbeat-store";let Mt=null;function Dt(){return Mt||(Mt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=ot(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(ot(s.result),e.oldVersion,e.newVersion,ot(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(Nt,Pt,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Rt)}catch(n){console.warn(n)}}}).catch((e=>{throw _t.create("idb-open",{originalErrorMessage:e.message})}))),Mt}async function Lt(e,t){try{const n=(await Dt()).transaction(Rt,"readwrite"),r=n.objectStore(Rt);await r.put(t,Ot(e)),await n.done}catch(n){if(n instanceof Ie)gt.warn(n.message);else{const e=_t.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});gt.warn(e.message)}}}function Ot(e){return"".concat(e.name,"!").concat(e.options.appId)}class jt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ft(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ut();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ut(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),zt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=ye(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ut(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ce()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Dt()).transaction(Rt),n=await t.objectStore(Rt).get(Ot(e));return await t.done,n}catch(t){if(t instanceof Ie)gt.warn(t.message);else{const e=_t.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});gt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function zt(e){return ye(JSON.stringify({version:2,heartbeats:e})).length}var Vt;Vt="",St(new Fe("platform-logger",(e=>new pt(e)),"PRIVATE")),St(new Fe("heartbeat",(e=>new jt(e)),"PRIVATE")),xt(ft,mt,Vt),xt(ft,mt,"esm2017"),xt("fire-js","");xt("firebase","10.8.1","app");function Bt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kt=Ht,qt=new xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gt=new Ye("@firebase/auth");function Wt(e){if(Gt.logLevel<=Ke.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gt.error("Auth (".concat(At,"): ").concat(e),...n)}}function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $t(e,...n)}function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $t(e,...n)}function Jt(e,t,n){const r=Object.assign(Object.assign({},Kt()),{[t]:n});return new xe("auth","Firebase",r).create(t,{appName:e.name})}function $t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return qt.create(e,...n)}function Xt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $t(t,...r)}}function Zt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function en(e,t){e||Zt(t)}function tn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nn(){return"http:"===rn()||"https:"===rn()}function rn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function an(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class sn{constructor(e,t){this.shortDelay=e,this.longDelay=t,en(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return an()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(e,t){en(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ln{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},un=new sn(3e4,6e4);function hn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dn(e,t,n,r){return pn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=Me(Object.assign({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ln.fetch()(mn(e,e.config.apiHost,n,s),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function pn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},cn),t);try{const t=new yn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw vn(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw vn(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw vn(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw vn(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Jt(e,o,s);Qt(e,o)}}catch(i){if(i instanceof Ie)throw i;Qt(e,"network-request-failed",{message:String(i)})}}async function fn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await dn(e,t,n,r,i);return"mfaPendingCredential"in a&&Qt(e,"multi-factor-auth-required",{_serverResponse:a}),a}function mn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?on(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function gn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Yt(this.auth,"network-request-failed"))),un.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function vn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yt(e,t,r);return i.customData._tokenResponse=n,i}function bn(e){return void 0!==e&&void 0!==e.enterprise}class wn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function kn(e,t){return dn(e,"GET","/v2/recaptchaConfig",hn(e,t))}function Sn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Tn(e){return 1e3*Number(e)}function _n(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Wt("JWT malformed, contained fewer than 3 sections"),null;try{const e=ve(n);return e?JSON.parse(e):(Wt("Failed to decode base64 JWT payload"),null)}catch(i){return Wt("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function En(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ie&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class An{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Cn{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function In(e){var t;const n=e.auth,r=await e.getIdToken(),i=await En(e,async function(e,t){return dn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Xt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map((e=>{var{providerId:t}=e,n=Bt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&a.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Cn(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class xn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xt(e.idToken,"internal-error"),Xt("undefined"!==typeof e.idToken,"internal-error"),Xt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=_n(e);return Xt(t,"internal-error"),Xt("undefined"!==typeof t.exp,"internal-error"),Xt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Xt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await pn(e,{},(async()=>{const n=Me({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=mn(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(a,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new xn;return n&&(Xt("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Xt("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Xt("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xn,this.toJSON())}_performRefresh(){return Zt("not implemented")}}function Nn(e,t){Xt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Pn{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Bt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cn(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await En(this,this.stsTokenManager.getToken(this.auth,e));return Xt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ue(e),r=await n.getIdToken(t),i=_n(r);Xt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Sn(Tn(i.auth_time)),issuedAtTime:Sn(Tn(i.iat)),expirationTime:Sn(Tn(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ue(e);await In(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await In(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await En(this,async function(e,t){return dn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:k,stsTokenManager:S}=t;Xt(v&&S,e,"internal-error");const T=xn.fromJSON(this.name,S);Xt("string"===typeof v,e,"internal-error"),Nn(u,e.name),Nn(h,e.name),Xt("boolean"===typeof b,e,"internal-error"),Xt("boolean"===typeof w,e,"internal-error"),Nn(d,e.name),Nn(p,e.name),Nn(f,e.name),Nn(m,e.name),Nn(g,e.name),Nn(y,e.name);const _=new Pn({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:T,createdAt:g,lastLoginAt:y});return k&&Array.isArray(k)&&(_.providerData=k.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xn;r.updateFromServerResponse(t);const i=new Pn({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await In(i),i}}const Rn=new Map;function Mn(e){en(e instanceof Function,"Expected a class definition");let t=Rn.get(e);return t?(en(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rn.set(e,t),t)}class Dn{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dn.type="NONE";const Ln=Dn;function On(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class jn{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=On(this.userKey,r.apiKey,i),this.fullPersistenceKey=On("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new jn(Mn(Ln),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Mn(Ln);const a=On(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Pn._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new jn(i,e,n)):new jn(i,e,n)}}function Un(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fn(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Kn(t))return"Blackberry";if(qn(t))return"Webos";if(zn(t))return"Safari";if((t.includes("chrome/")||Vn(t))&&!t.includes("edge/"))return"Chrome";if(Hn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/firefox\//i.test(e)}function zn(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/crios\//i.test(e)}function Bn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iemobile/i.test(e)}function Hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/android/i.test(e)}function Kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/blackberry/i.test(e)}function qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/webos/i.test(e)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wn(){return function(){const e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Gn(e)||Hn(e)||qn(e)||Kn(e)||/windows phone/i.test(e)||Bn(e)}function Yn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Un(Ee());break;case"Worker":t="".concat(Un(Ee()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(At,"/").concat(r)}class Jn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class $n{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Xn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new er(this),this.idTokenSubscription=new er(this),this.beforeStateQueue=new Jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mn(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await jn.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==a||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(a)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await In(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ue(e):null;return t&&Xt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Mn(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return dn(e,"GET","/v2/passwordPolicy",hn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new $n(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return dn(e,"POST","/v2/accounts:revokeToken",hn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mn(e)||this._popupRedirectResolver;Xt(t,this,"argument-error"),this.redirectPersistenceManager=await jn.create(this,[Mn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xt(s,this,"internal-error"),s.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Gt.logLevel<=Ke.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Gt.warn("Auth (".concat(At,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Zn(e){return Ue(e)}class er{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Oe(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nr(e){return tr.loadJS(e)}function rr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ir{constructor(e){this.type="recaptcha-enterprise",this.auth=Zn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;bn(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{kn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new wn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&bn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=tr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),nr(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ar(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ir(e);let a;try{a=await i.verify(n)}catch(o){a=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function sr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ar(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await ar(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function or(e,t,n){const r=Zn(e);Xt(r._canInitEmulator,r,"emulator-config-failed"),Xt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=lr(t),{host:s,port:o}=function(e){const t=lr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:cr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:cr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function lr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ur{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zt("not implemented")}_getIdTokenResponse(e){return Zt("not implemented")}_linkToIdToken(e,t){return Zt("not implemented")}_getReauthenticationResolver(e){return Zt("not implemented")}}async function hr(e,t){return dn(e,"POST","/v1/accounts:signUp",t)}async function dr(e,t){return fn(e,"POST","/v1/accounts:signInWithPassword",hn(e,t))}class pr extends ur{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pr(e,t,"password")}static _fromEmailAndCode(e,t){return new pr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return sr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",dr);case"emailLink":return async function(e,t){return fn(e,"POST","/v1/accounts:signInWithEmailLink",hn(e,t))}(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hr);case"emailLink":return async function(e,t){return fn(e,"POST","/v1/accounts:signInWithEmailLink",hn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fr(e,t){return fn(e,"POST","/v1/accounts:signInWithIdp",hn(e,t))}class mr extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Bt(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new mr(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return fr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Me(t)}return e}}const gr={USER_NOT_FOUND:"user-not-found"};class yr extends ur{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new yr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new yr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return fn(e,"POST","/v1/accounts:signInWithPhoneNumber",hn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await fn(e,"POST","/v1/accounts:signInWithPhoneNumber",hn(e,t));if(n.temporaryProof)throw vn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return fn(e,"POST","/v1/accounts:signInWithPhoneNumber",hn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),gr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new yr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class vr{constructor(e){var t,n,r,i,a,s;const o=De(Le(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Xt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=De(Le(e)).link,n=t?De(Le(t)).deep_link_id:null,r=De(Le(e)).deep_link_id;return(r?De(Le(r)).link:null)||r||n||t||e}(e);try{return new vr(t)}catch(n){return null}}}class br{constructor(){this.providerId=br.PROVIDER_ID}static credential(e,t){return pr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=vr.parseLink(t);return Xt(n,"argument-error"),pr._fromEmailAndCode(e,n.code,n.tenantId)}}br.PROVIDER_ID="password",br.EMAIL_PASSWORD_SIGN_IN_METHOD="password",br.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class kr extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends kr{constructor(){super("facebook.com")}static credential(e){return mr._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch(n){return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Sr.PROVIDER_ID="facebook.com";class Tr extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mr._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tr.credential(n,r)}catch(i){return null}}}Tr.GOOGLE_SIGN_IN_METHOD="google.com",Tr.PROVIDER_ID="google.com";class _r extends kr{constructor(){super("github.com")}static credential(e){return mr._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _r.credential(t.oauthAccessToken)}catch(n){return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com",_r.PROVIDER_ID="github.com";class Er extends kr{constructor(){super("twitter.com")}static credential(e,t){return mr._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Er.credential(n,r)}catch(i){return null}}}async function Ar(e,t){return fn(e,"POST","/v1/accounts:signUp",hn(e,t))}Er.TWITTER_SIGN_IN_METHOD="twitter.com",Er.PROVIDER_ID="twitter.com";class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Pn._fromIdTokenResponse(e,n,r),a=Ir(n);return new Cr({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ir(n);return new Cr({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ir(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class xr extends Ie{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,xr.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new xr(e,t,n,r)}}function Nr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw xr._fromErrorAndOperation(e,n,t,r);throw n}))}async function Pr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await En(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cr._forOperation(e,"link",r)}async function Rr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await En(e,Nr(r,i,t,e),n);Xt(a.idToken,r,"internal-error");const s=_n(a.idToken);Xt(s,r,"internal-error");const{sub:o}=s;return Xt(e.uid===o,r,"user-mismatch"),Cr._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Qt(r,"user-mismatch"),a}}async function Mr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Nr(e,r,t),a=await Cr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Dr(e,t){return Mr(Zn(e),t)}async function Lr(e){const t=Zn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const Or="__sak";class jr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Or,"1"),this.storage.removeItem(Or),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ur extends jr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ee();return zn(e)||Gn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Wn()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ur.type="LOCAL";const Fr=Ur;class zr extends jr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zr.type="SESSION";const Vr=zr;class Br{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Br(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Br.receivers=[];class Kr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((s,o)=>{const l=Hr("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function qr(){return window}function Gr(){return"undefined"!==typeof qr().WorkerGlobalScope&&"function"===typeof qr().importScripts}const Wr="firebaseLocalStorageDb",Qr="firebaseLocalStorage",Yr="fbase_key";class Jr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function $r(e,t){return e.transaction([Qr],t?"readwrite":"readonly").objectStore(Qr)}function Xr(){const e=indexedDB.open(Wr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Qr,{keyPath:Yr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Qr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Wr);return new Jr(e).toPromise()}(),t(await Xr()))}))}))}async function Zr(e,t,n){const r=$r(e,!0).put({[Yr]:t,value:n});return new Jr(r).toPromise()}function ei(e,t){const n=$r(e,!0).delete(t);return new Jr(n).toPromise()}class ti{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Xr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gr()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Br._getInstance(Gr()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Kr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xr();return await Zr(e,Or,"1"),await ei(e,Or),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=$r(e,!1).get(t),r=await new Jr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ei(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=$r(e,!1).getAll();return new Jr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ti.type="LOCAL";const ni=ti;rr("rcb"),new sn(3e4,6e4);const ri="recaptcha";async function ii(e,t,n){var r;const i=await n.verify();try{let a;if(Xt("string"===typeof i,e,"argument-error"),Xt(n.type===ri,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){Xt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dn(e,"POST","/v2/accounts/mfaEnrollment:start",hn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Xt("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;Xt(n,e,"missing-multi-factor-info");const s=await function(e,t){return dn(e,"POST","/v2/accounts/mfaSignIn:start",hn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dn(e,"POST","/v1/accounts:sendVerificationCode",hn(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ai{constructor(e){this.providerId=ai.PROVIDER_ID,this.auth=Zn(e)}verifyPhoneNumber(e,t){return ii(this.auth,e,Ue(t))}static credential(e,t){return yr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ai.credentialFromTaggedObject(t)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?yr._fromTokenResponse(n,r):null}}function si(e,t){return t?Mn(t):(Xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ai.PROVIDER_ID="phone",ai.PHONE_SIGN_IN_METHOD="phone";class oi extends ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function li(e){return Mr(e.auth,new oi(e),e.bypassAuthState)}function ci(e){const{auth:t,user:n}=e;return Xt(n,t,"internal-error"),Rr(n,new oi(e),e.bypassAuthState)}async function ui(e){const{auth:t,user:n}=e;return Xt(n,t,"internal-error"),Pr(n,new oi(e),e.bypassAuthState)}class hi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return li;case"linkViaPopup":case"linkViaRedirect":return ui;case"reauthViaPopup":case"reauthViaRedirect":return ci;default:Qt(this.auth,"internal-error")}}resolve(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){en(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const di=new sn(2e3,1e4);class pi extends hi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xt(e,this.auth,"internal-error"),e}async onExecution(){en(1===this.filter.length,"Popup operations only handle one event");const e=Hr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Yt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,di.get())};e()}}pi.currentPopupAction=null;const fi="pendingRedirect",mi=new Map;class gi extends hi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=mi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=bi(t),r=vi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}mi.set(this.auth._key(),e)}return this.bypassAuthState||mi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function yi(e,t){mi.set(e._key(),t)}function vi(e){return Mn(e._redirectPersistence)}function bi(e){return On(fi,e.config.apiKey,e.name)}async function wi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Zn(e),i=si(r,t),a=new gi(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class ki{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ti(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ti(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Si(e))}saveEventToCache(e){this.cachedEventUids.add(Si(e)),this.lastProcessedEventTime=Date.now()}}function Si(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ti(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const _i=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ei=/^https?/;async function Ai(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return dn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ci(r))return}catch(n){}Qt(e,"unauthorized-domain")}function Ci(e){const t=tn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ei.test(n))return!1;if(_i.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ii=new sn(3e4,6e4);function xi(){const e=qr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ni(e){return new Promise(((t,n)=>{var r,i,a;function s(){xi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xi(),n(Yt(e,"network-request-failed"))},timeout:Ii.get()})}if(null===(i=null===(r=qr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=qr().gapi)||void 0===a?void 0:a.load)){const t=rr("iframefcb");return qr()[t]=()=>{gapi.load?s():n(Yt(e,"network-request-failed"))},nr("".concat(tr.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw Pi=null,e}))}let Pi=null;const Ri=new sn(5e3,15e3),Mi="__/auth/iframe",Di="emulator/auth/iframe",Li={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ji(e){const t=e.config;Xt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?on(t,Di):"https://".concat(e.config.authDomain,"/").concat(Mi),r={apiKey:t.apiKey,appName:e.name,v:At},i=Oi.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Me(r).slice(1))}async function Ui(e){const t=await function(e){return Pi=Pi||Ni(e),Pi}(e),n=qr().gapi;return Xt(n,e,"internal-error"),t.open({where:document.body,url:ji(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Li,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Yt(e,"network-request-failed"),a=qr().setTimeout((()=>{r(i)}),Ri.get());function s(){qr().clearTimeout(a),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}const Fi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Vi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Fi),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Ee().toLowerCase();n&&(o=Vn(c)?"_blank":n),Fn(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Gn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new zi(null);const h=window.open(t||"",o,u);Xt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new zi(h)}const Bi="__/auth/handler",Hi="emulator/auth/handler",Ki=encodeURIComponent("fac");async function qi(e,t,n,r,i,a){Xt(e.config.authDomain,e,"auth-domain-config-required"),Xt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:At,eventId:i};if(t instanceof wr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof kr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ki,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bi);return on(t,Hi)}(e),"?").concat(Me(o).slice(1)).concat(c)}const Gi="webStorageSupport";const Wi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vr,this._completeRedirectFn=wi,this._overrideRedirectResult=yi}async _openPopup(e,t,n,r){var i;en(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Vi(e,await qi(e,t,n,tn(),r),Hr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){qr().location.href=e}(await qi(e,t,n,tn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(en(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ui(e),n=new ki(e);return t.register("authEvent",(t=>{Xt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gi,{type:Gi},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Gi];void 0!==i&&t(!!i),Qt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ai(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qn()||zn()||Gn()}};var Qi="@firebase/auth",Yi="1.6.1";class Ji{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $i=Te("authIdTokenMaxAge")||300;let Xi=null;var Zi;!function(e){tr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Yt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Zi="Browser",St(new Fe("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Xt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:Zi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(Zi)},c=new Xn(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mn);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),St(new Fe("auth-internal",(e=>(e=>new Ji(e))(Zn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),xt(Qi,Yi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Zi)),xt(Qi,Yi,"esm2017");var ea,ta="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},na={},ra=ra||{},ia=ta||self;function aa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oa="closure_uid_"+(1e9*Math.random()>>>0),la=0;function ca(e,t,n){return e.call.apply(e.bind,arguments)}function ua(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ha(e,t,n){return(ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ca:ua).apply(null,arguments)}function da(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function pa(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fa(){this.s=this.s,this.o=this.o}fa.prototype.s=!1,fa.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,oa)&&e[oa]||(e[oa]=++la))},fa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ga(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ya(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(aa(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function va(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}va.prototype.h=function(){this.defaultPrevented=!0};var ba=function(){if(!ia.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};ia.addEventListener("test",e,t),ia.removeEventListener("test",e,t)}catch(n){}return e}();function wa(e){return/^[\s\xa0]*$/.test(e)}function ka(){var e=ia.navigator;return e&&(e=e.userAgent)?e:""}function Sa(e){return-1!=ka().indexOf(e)}function Ta(e){return Ta[" "](e),e}Ta[" "]=function(){};var _a,Ea,Aa=Sa("Opera"),Ca=Sa("Trident")||Sa("MSIE"),Ia=Sa("Edge"),xa=Ia||Ca,Na=Sa("Gecko")&&!(-1!=ka().toLowerCase().indexOf("webkit")&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),Pa=-1!=ka().toLowerCase().indexOf("webkit")&&!Sa("Edge");function Ra(){var e=ia.document;return e?e.documentMode:void 0}e:{var Ma="",Da=function(){var e=ka();return Na?/rv:([^\);]+)(\)|;)/.exec(e):Ia?/Edge\/([\d\.]+)/.exec(e):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pa?/WebKit\/(\S+)/.exec(e):Aa?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Da&&(Ma=Da?Da[1]:""),Ca){var La=Ra();if(null!=La&&La>parseFloat(Ma)){_a=String(La);break e}}_a=Ma}if(ia.document&&Ca){var Oa=Ra();Ea=Oa||(parseInt(_a,10)||void 0)}else Ea=void 0;var ja=Ea;function Ua(e,t){if(va.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Na){e:{try{Ta(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ua.$.h.call(this)}}pa(Ua,va);var Fa={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),Va=0;function Ba(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Va,this.fa=this.ia=!1}function Ha(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ka(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function qa(e){const t={};for(const n in e)t[n]=e[n];return t}const Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wa(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Ga.length;t++)n=Ga[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qa(e){this.src=e,this.g={},this.h=0}function Ya(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ma(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ha(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ja(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Qa.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=Ja(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new Ba(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var $a="closure_lm_"+(1e6*Math.random()|0),Xa={};function Za(e,t,n,r,i){if(r&&r.once)return ts(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Za(e,t[a],n,r,i);return null}return n=ls(n),e&&e[za]?e.O(t,n,sa(r)?!!r.capture:!!r,i):es(e,t,n,!1,r,i)}function es(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=sa(i)?!!i.capture:!!i,o=ss(e);if(o||(e[$a]=o=new Qa(e)),(n=o.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=as;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ba||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(is(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ts(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ts(e,t[a],n,r,i);return null}return n=ls(n),e&&e[za]?e.P(t,n,sa(r)?!!r.capture:!!r,i):es(e,t,n,!0,r,i)}function ns(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ns(e,t[a],n,r,i);else r=sa(r)?!!r.capture:!!r,n=ls(n),e&&e[za]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ja(a=e.g[t],n,r,i))&&(Ha(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ss(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ja(t,n,r,i)),(n=-1<e?t[e]:null)&&rs(n))}function rs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[za])Ya(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(is(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ss(t))?(Ya(n,e),0==n.h&&(n.src=null,t[$a]=null)):Ha(e)}}}function is(e){return e in Xa?Xa[e]:Xa[e]="on"+e}function as(e,t){if(e.fa)e=!0;else{t=new Ua(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rs(e),e=n.call(r,t)}return e}function ss(e){return(e=e[$a])instanceof Qa?e:null}var os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ls(e){return"function"===typeof e?e:(e[os]||(e[os]=function(t){return e.handleEvent(t)}),e[os])}function cs(){fa.call(this),this.i=new Qa(this),this.S=this,this.J=null}function us(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new va(t,e);else if(t instanceof va)t.target=t.target||e;else{var i=t;Wa(t=new va(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];i=hs(s,r,!0,t)&&i}if(i=hs(s=t.g=e,r,!0,t)&&i,i=hs(s,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hs(s=t.g=n[a],r,!1,t)&&i}function hs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.fa&&s.capture==n){var o=s.listener,l=s.la||s.src;s.ia&&Ya(e.i,s),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}pa(cs,fa),cs.prototype[za]=!0,cs.prototype.removeEventListener=function(e,t,n,r){ns(this,e,t,n,r)},cs.prototype.N=function(){if(cs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ha(n[r]);delete t.g[e],t.h--}}this.J=null},cs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},cs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ds=ia.JSON.stringify;function ps(){var e=ws;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new ms),(e=>e.reset()));class ms{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ys(e){ia.setTimeout((()=>{throw e}),0)}let vs,bs=!1,ws=new class{constructor(){this.h=this.g=null}add(e,t){const n=fs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ks=()=>{const e=ia.Promise.resolve(void 0);vs=()=>{e.then(Ss)}};var Ss=()=>{for(var e;e=ps();){try{e.h.call(e.g)}catch(n){ys(n)}var t=fs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bs=!1};function Ts(e,t){cs.call(this),this.h=e||1,this.g=t||ia,this.j=ha(this.qb,this),this.l=Date.now()}function _s(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Es(e,t,n){if("function"===typeof e)n&&(e=ha(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ha(e.handleEvent,e)}return 2147483647<Number(t)?-1:ia.setTimeout(e,t||0)}function As(e){e.g=Es((()=>{e.g=null,e.i&&(e.i=!1,As(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}pa(Ts,cs),(ea=Ts.prototype).ga=!1,ea.T=null,ea.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),us(this,"tick"),this.ga&&(_s(this),this.start()))}},ea.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ea.N=function(){Ts.$.N.call(this),_s(this),delete this.g};class Cs extends fa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:As(this)}N(){super.N(),this.g&&(ia.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(e){fa.call(this),this.h=e,this.g={}}pa(Is,fa);var xs=[];function Ns(e,t,n,r){Array.isArray(n)||(n&&(xs[0]=n.toString()),n=xs);for(var i=0;i<n.length;i++){var a=Za(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ps(e){Ka(e.g,(function(e,t){this.g.hasOwnProperty(t)&&rs(e)}),e),e.g={}}function Rs(){this.g=!0}function Ms(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<i.length;s++)i[s]=""}}}return ds(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Is.prototype.N=function(){Is.$.N.call(this),Ps(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rs.prototype.Ea=function(){this.g=!1},Rs.prototype.info=function(){};var Ds={},Ls=null;function Os(){return Ls=Ls||new cs}function js(e){va.call(this,Ds.Ta,e)}function Us(e){const t=Os();us(t,new js(t))}function Fs(e,t){va.call(this,Ds.STAT_EVENT,e),this.stat=t}function zs(e){const t=Os();us(t,new Fs(t,e))}function Vs(e,t){va.call(this,Ds.Ua,e),this.size=t}function Bs(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ia.setTimeout((function(){e()}),t)}Ds.Ta="serverreachability",pa(js,va),Ds.STAT_EVENT="statevent",pa(Fs,va),Ds.Ua="timingevent",pa(Vs,va);var Hs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ks={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qs(){}function Gs(e){return e.h||(e.h=e.i())}function Ws(){}qs.prototype.h=null;var Qs,Ys={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Js(){va.call(this,"d")}function $s(){va.call(this,"c")}function Xs(){}function Zs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Is(this),this.P=to,e=xa?125:void 0,this.V=new Ts(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eo}function eo(){this.i=null,this.g="",this.h=!1}pa(Js,va),pa($s,va),pa(Xs,qs),Xs.prototype.g=function(){return new XMLHttpRequest},Xs.prototype.i=function(){return{}},Qs=new Xs;var to=45e3,no={},ro={};function io(e,t,n){e.L=1,e.A=_o(bo(t)),e.u=n,e.S=!0,ao(e,null)}function ao(e,t){e.G=Date.now(),co(e),e.B=bo(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),jo(n.i,"t",r),e.o=0,n=e.l.J,e.h=new eo,e.g=Ul(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Cs(ha(e.Pa,e,e.g),e.O)),Ns(e.U,e.g,"readystatechange",e.nb),t=e.I?qa(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Us(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var s="",o=a.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function so(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function oo(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=lo(e,n),r==ro){4==t&&(e.s=4,zs(14),i=!1),Ms(e.j,e.m,null,"[Incomplete Response]");break}if(r==no){e.s=4,zs(15),Ms(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ms(e.j,e.m,r,null),mo(e,r)}so(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,zs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nl(t),t.M=!0,zs(11))):(Ms(e.j,e.m,n,"[Invalid Chunked Response]"),fo(e),po(e))}function lo(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ro:(n=Number(t.substring(n,r)),isNaN(n)?no:(r+=1)+n>t.length?ro:(t=t.slice(r,r+n),e.o=r+n,t))}function co(e){e.Y=Date.now()+e.P,uo(e,e.P)}function uo(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Bs(ha(e.lb,e),t)}function ho(e){e.C&&(ia.clearTimeout(e.C),e.C=null)}function po(e){0==e.l.H||e.J||Ml(e.l,e)}function fo(e){ho(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,_s(e.V),Ps(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function mo(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ko(n.i,e)))if(!e.K&&Ko(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Rl(n),Sl(n)}xl(n),zs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Bs(ha(n.ib,n),6e3));if(1>=Ho(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Ll(n,11)}else if((e.K||n.g==e)&&Rl(n),!wa(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(qo(a,a.h),a.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,To(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=jl(r,r.J?r.pa:null,r.Y),s.K){Go(r.i,s);var o=s,l=r.L;l&&o.setTimeout(l),o.C&&(ho(o),co(o)),r.g=s}else Il(r);0<n.j.length&&_l(n)}else"stop"!=c[0]&&"close"!=c[0]||Ll(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ll(n,7):kl(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Us()}catch(c){}}function go(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(aa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(aa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(aa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ea=Zs.prototype).setTimeout=function(e){this.P=e},ea.nb=function(e){e=e.target;const t=this.M;t&&3==ml(e)?t.l():this.Pa(e)},ea.Pa=function(e){try{if(e==this.g)e:{const u=ml(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||xa||this.g&&(this.h.h||this.g.ja()||gl(this.g)))){this.J||4!=u||7==t||Us(),ho(this);var n=this.g.da();this.ca=n;t:if(so(this)){var r=gl(this.g);e="";var i=r.length,a=4==ml(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){fo(this),po(this);var s="";break t}this.h.i=new ia.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wa(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,zs(12),fo(this),po(this);break e}Ms(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,n)}this.S?(oo(this,u,s),xa&&this.i&&3==u&&(Ns(this.U,this.V,"tick",this.mb),this.V.start())):(Ms(this.j,this.m,s,null),mo(this,s)),4==u&&fo(this),this.i&&!this.J&&(4==u?Ml(this.l,this):(this.i=!1,co(this)))}else(function(e){const t={};e=(e.g&&2<=ml(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(wa(e[r]))continue;var n=gs(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,zs(12)):(this.s=0,zs(13)),fo(this),po(this)}}}catch(u){}},ea.mb=function(){if(this.g){var e=ml(this.g),t=this.g.ja();this.o<t.length&&(ho(this),oo(this,e,t),this.i&&4!=e&&co(this))}},ea.cancel=function(){this.J=!0,fo(this)},ea.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Us(),zs(17)),fo(this),this.s=2,po(this)):uo(this,this.Y-e)};var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof vo){this.h=e.h,wo(this,e.j),this.s=e.s,this.g=e.g,ko(this,e.m),this.l=e.l;var t=e.i,n=new Mo;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),So(this,n),this.o=e.o}else e&&(t=String(e).match(yo))?(this.h=!1,wo(this,t[1]||"",!0),this.s=Eo(t[2]||""),this.g=Eo(t[3]||"",!0),ko(this,t[4]),this.l=Eo(t[5]||"",!0),So(this,t[6]||"",!0),this.o=Eo(t[7]||"")):(this.h=!1,this.i=new Mo(null,this.h))}function bo(e){return new vo(e)}function wo(e,t,n){e.j=n?Eo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ko(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function So(e,t,n){t instanceof Mo?(e.i=t,function(e,t){t&&!e.j&&(Do(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lo(this,t),jo(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ao(t,Po)),e.i=new Mo(t,e.h))}function To(e,t,n){e.i.set(t,n)}function _o(e){return To(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Eo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ao(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Co),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Co(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ao(t,Io,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ao(t,Io,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ao(n,"/"==n.charAt(0)?No:xo,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ao(n,Ro)),e.join("")};var Io=/[#\/\?@]/g,xo=/[#\?:]/g,No=/[#\?]/g,Po=/[#\?@]/g,Ro=/#/g;function Mo(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Do(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lo(e,t){Do(e),t=Uo(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Oo(e,t){return Do(e),t=Uo(e,t),e.g.has(t)}function jo(e,t,n){Lo(e,t),0<n.length&&(e.i=null,e.g.set(Uo(e,t),ga(n)),e.h+=n.length)}function Uo(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ea=Mo.prototype).add=function(e,t){Do(this),this.i=null,e=Uo(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ea.forEach=function(e,t){Do(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ea.ta=function(){Do(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},ea.Z=function(e){Do(this);let t=[];if("string"===typeof e)Oo(this,e)&&(t=t.concat(this.g.get(Uo(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},ea.set=function(e,t){return Do(this),this.i=null,Oo(this,e=Uo(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ea.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ea.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=a;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var Fo=class{constructor(e,t){this.g=e,this.map=t}};function zo(e){this.l=e||Vo,ia.PerformanceNavigationTiming?e=0<(e=ia.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ia.g&&ia.g.Ka&&ia.g.Ka()&&ia.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vo=10;function Bo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ho(e){return e.h?1:e.g?e.g.size:0}function Ko(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function qo(e,t){e.g?e.g.add(t):e.h=t}function Go(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return ga(e.i)}zo.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qo,Yo=class{stringify(e){return ia.JSON.stringify(e,void 0)}parse(e){return ia.JSON.parse(e,void 0)}};function Jo(){this.g=new Yo}function $o(e,t,n){const r=n||"";try{go(e,(function(e,n){let i=e;sa(e)&&(i=ds(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zo(e){this.l=e.ec||null,this.j=e.ob||!1}function el(e,t){cs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pa(Zo,qs),Zo.prototype.g=function(){return new el(this.l,this.j)},Zo.prototype.i=(Qo={},function(){return Qo}),pa(el,cs);var tl=0;function nl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function rl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,il(e)}function il(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ea=el.prototype).open=function(e,t){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,il(this)},ea.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ia).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ea.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rl(this)),this.readyState=tl},ea.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ia.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ea.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rl(this):il(this),3==this.readyState&&nl(this)}},ea.Za=function(e){this.g&&(this.response=this.responseText=e,rl(this))},ea.Ya=function(e){this.g&&(this.response=e,rl(this))},ea.ka=function(){this.g&&rl(this)},ea.setRequestHeader=function(e,t){this.v.append(e,t)},ea.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ea.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(el.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var al=ia.JSON.parse;function sl(e){cs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ol,this.L=this.M=!1}pa(sl,cs);var ol="",ll=/^https?$/i,cl=["POST","PUT"];function ul(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hl(e),pl(e)}function hl(e){e.F||(e.F=!0,us(e,"complete"),us(e,"error"))}function dl(e){if(e.h&&"undefined"!=typeof ra&&(!e.C[1]||4!=ml(e)||2!=e.da()))if(e.v&&4==ml(e))Es(e.La,0,e);else if(us(e,"readystatechange"),4==ml(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(yo)[1]||null;!i&&ia.self&&ia.self.location&&(i=ia.self.location.protocol.slice(0,-1)),r=!ll.test(i?i.toLowerCase():"")}n=r}if(n)us(e,"complete"),us(e,"success");else{e.m=6;try{var a=2<ml(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.da()+"]",hl(e)}}finally{pl(e)}}}function pl(e,t){if(e.g){fl(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||us(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function fl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ia.clearTimeout(e.A),e.A=null)}function ml(e){return e.g?e.g.readyState:0}function gl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ol:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tc){return null}}function yl(e){let t="";return Ka(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yl(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):To(e,t,n))}function bl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wl(e){this.Ga=0,this.j=[],this.l=new Rs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=bl("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=bl("baseRetryDelayMs",5e3,e),this.hb=bl("retryDelaySeedMs",1e4,e),this.eb=bl("forwardChannelMaxRetries",2,e),this.xa=bl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zo(e&&e.concurrentRequestLimit),this.Ja=new Jo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function kl(e){if(Tl(e),3==e.H){var t=e.W++,n=bo(e.I);if(To(n,"SID",e.K),To(n,"RID",t),To(n,"TYPE","terminate"),Al(e,n),(t=new Zs(e,e.l,t)).L=2,t.A=_o(bo(n)),n=!1,ia.navigator&&ia.navigator.sendBeacon)try{n=ia.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&ia.Image&&((new Image).src=t.A,n=!0),n||(t.g=Ul(t.l,null),t.g.ha(t.A)),t.G=Date.now(),co(t)}Ol(e)}function Sl(e){e.g&&(Nl(e),e.g.cancel(),e.g=null)}function Tl(e){Sl(e),e.u&&(ia.clearTimeout(e.u),e.u=null),Rl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ia.clearTimeout(e.m),e.m=null)}function _l(e){if(!Bo(e.i)&&!e.m){e.m=!0;var t=e.Na;vs||ks(),bs||(vs(),bs=!0),ws.add(t,e),e.C=0}}function El(e,t){var n;n=t?t.m:e.W++;const r=bo(e.I);To(r,"SID",e.K),To(r,"RID",n),To(r,"AID",e.V),Al(e,r),e.o&&e.s&&vl(r,e.o,e.s),n=new Zs(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Cl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),qo(e.i,n),io(n,r,t)}function Al(e,t){e.na&&Ka(e.na,(function(e,n){To(t,n,e)})),e.h&&go({},(function(e,n){To(t,n,e)}))}function Cl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?ha(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const l=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{$o(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Il(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;vs||ks(),bs||(vs(),bs=!0),ws.add(t,e),e.A=0}}function xl(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Bs(ha(e.Ma,e),Dl(e,e.A)),e.A++,!0)}function Nl(e){null!=e.B&&(ia.clearTimeout(e.B),e.B=null)}function Pl(e){e.g=new Zs(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=bo(e.wa);To(t,"RID","rpc"),To(t,"SID",e.K),To(t,"AID",e.V),To(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&To(t,"TO",e.qa),To(t,"TYPE","xmlhttp"),Al(e,t),e.o&&e.s&&vl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_o(bo(t)),n.u=null,n.S=!0,ao(n,e)}function Rl(e){null!=e.v&&(ia.clearTimeout(e.v),e.v=null)}function Ml(e,t){var n=null;if(e.g==t){Rl(e),Nl(e),e.g=null;var r=2}else{if(!Ko(e.i,t))return;n=t.F,Go(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;us(r=Os(),new Vs(r,n)),_l(e)}else Il(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ho(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Bs(ha(e.Na,e,t),Dl(e,e.C)),e.C++,!0))}(e,t)||2==r&&xl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ll(e,5);break;case 4:Ll(e,10);break;case 3:Ll(e,6);break;default:Ll(e,2)}}function Dl(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ll(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=ha(e.pb,e);n||(n=new vo("//www.google.com/images/cleardot.gif"),ia.location&&"http"==ia.location.protocol||wo(n,"https"),_o(n)),function(e,t){const n=new Rs;if(ia.Image){const r=new Image;r.onload=da(Xo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=da(Xo,n,r,"TestLoadImage: error",!1,t),r.onabort=da(Xo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=da(Xo,n,r,"TestLoadImage: timeout",!1,t),ia.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else zs(2);e.H=0,e.h&&e.h.za(t),Ol(e),Tl(e)}function Ol(e){if(e.H=0,e.ma=[],e.h){const t=Wo(e.i);0==t.length&&0==e.j.length||(ya(e.ma,t),ya(e.ma,e.j),e.i.i.length=0,ga(e.j),e.j.length=0),e.h.ya()}}function jl(e,t,n){var r=n instanceof vo?bo(n):new vo(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ko(r,r.m);else{var i=ia.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new vo(null);r&&wo(a,r),t&&(a.g=t),i&&ko(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&To(r,n,t),To(r,"VER",e.ra),Al(e,r),r}function Ul(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new sl(new Zo({ob:n})):new sl(e.va)).Oa(e.J),t}function Fl(){}function zl(){if(Ca&&!(10<=Number(ja)))throw Error("Environmental error: no available transport.")}function Vl(e,t){cs.call(this),this.g=new wl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wa(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kl(this)}function Bl(e){Js.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Hl(){$s.call(this),this.status=1}function Kl(e){this.g=e}function ql(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],s=t+(a^n&(i^a))+r[0]+3614090360&4294967295;s=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(s<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((a=(t=n+((s=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=a+((s=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Wl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(ea=sl.prototype).Oa=function(e){this.M=e},ea.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qs.g(),this.C=this.u?Gs(this.u):Gs(Qs),this.g.onreadystatechange=ha(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void ul(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=ia.FormData&&e instanceof ia.FormData,!(0<=ma(cl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fl(this),0<this.B&&((this.L=function(e){return Ca&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ha(this.ua,this)):this.A=Es(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){ul(this,a)}},ea.ua=function(){"undefined"!=typeof ra&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,us(this,"timeout"),this.abort(8))},ea.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,us(this,"complete"),us(this,"abort"),pl(this))},ea.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pl(this,!0)),sl.$.N.call(this)},ea.La=function(){this.s||(this.G||this.v||this.l?dl(this):this.kb())},ea.kb=function(){dl(this)},ea.isActive=function(){return!!this.g},ea.da=function(){try{return 2<ml(this)?this.g.status:-1}catch(Qo){return-1}},ea.ja=function(){try{return this.g?this.g.responseText:""}catch(Qo){return""}},ea.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),al(t)}},ea.Ia=function(){return this.m},ea.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ea=wl.prototype).ra=8,ea.H=1,ea.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Zs(this,this.l,e);let a=this.s;if(this.U&&(a?(a=qa(a),Wa(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Cl(this,i,t),To(n=bo(this.I),"RID",e),To(n,"CVER",22),this.F&&To(n,"X-HTTP-Session-Id",this.F),Al(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(yl(a)))+"&"+t:this.o&&vl(n,this.o,a)),qo(this.i,i),this.bb&&To(n,"TYPE","init"),this.P?(To(n,"$req",t),To(n,"SID","null"),i.aa=!0,io(i,n,null)):io(i,n,t),this.H=2}}else 3==this.H&&(e?El(this,e):0==this.j.length||Bo(this.i)||El(this))},ea.Ma=function(){if(this.u=null,Pl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Bs(ha(this.jb,this),e)}},ea.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,zs(10),Sl(this),Pl(this))},ea.ib=function(){null!=this.v&&(this.v=null,Sl(this),xl(this),zs(19))},ea.pb=function(e){e?(this.l.info("Successfully pinged google.com"),zs(2)):(this.l.info("Failed to ping google.com"),zs(1))},ea.isActive=function(){return!!this.h&&this.h.isActive(this)},(ea=Fl.prototype).Ba=function(){},ea.Aa=function(){},ea.za=function(){},ea.ya=function(){},ea.isActive=function(){return!0},ea.Va=function(){},zl.prototype.g=function(e,t){return new Vl(e,t)},pa(Vl,cs),Vl.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;zs(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=jl(e,null,e.Y),_l(e)},Vl.prototype.close=function(){kl(this.g)},Vl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ds(e),e=n);t.j.push(new Fo(t.fb++,e)),3==t.H&&_l(t)},Vl.prototype.N=function(){this.g.h=null,delete this.j,kl(this.g),delete this.g,Vl.$.N.call(this)},pa(Bl,Js),pa(Hl,$s),pa(Kl,Fl),Kl.prototype.Ba=function(){us(this.g,"a")},Kl.prototype.Aa=function(e){us(this.g,new Bl(e))},Kl.prototype.za=function(e){us(this.g,new Hl)},Kl.prototype.ya=function(){us(this.g,"b")},pa(ql,(function(){this.blockSize=-1})),ql.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ql.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Gl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Gl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Gl(this,r),i=0;break}}this.h=i,this.i+=t},ql.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ql={};function Yl(e){return-128<=e&&128>e?function(e,t){var n=Ql;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Wl([0|e],0>e?-1:0)})):new Wl([0|e],0>e?-1:0)}function Jl(e){if(isNaN(e)||!isFinite(e))return Xl;if(0>e)return rc(Jl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=$l;return new Wl(t,0)}var $l=4294967296,Xl=Yl(0),Zl=Yl(1),ec=Yl(16777216);function tc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nc(e){return-1==e.h}function rc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Wl(n,~e.h).add(Zl)}function ic(e,t){return e.add(rc(t))}function ac(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function sc(e,t){this.g=e,this.h=t}function oc(e,t){if(tc(t))throw Error("division by zero");if(tc(e))return new sc(Xl,Xl);if(nc(e))return t=oc(rc(e),t),new sc(rc(t.g),rc(t.h));if(nc(t))return t=oc(e,rc(t)),new sc(rc(t.g),t.h);if(30<e.g.length){if(nc(e)||nc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zl,r=t;0>=r.X(e);)n=lc(n),r=lc(r);var i=cc(n,1),a=cc(r,1);for(r=cc(r,2),n=cc(n,2);!tc(r);){var s=a.add(r);0>=s.X(e)&&(i=i.add(n),a=s),r=cc(r,1),n=cc(n,1)}return t=ic(e,i.R(t)),new sc(i,t)}for(i=Xl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(a=Jl(n)).R(t);nc(s)||0<s.X(e);)s=(a=Jl(n-=r)).R(t);tc(a)&&(a=Zl),i=i.add(a),e=ic(e,s)}return new sc(i,e)}function lc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Wl(n,e.h)}function cc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Wl(i,e.h)}(ea=Wl.prototype).ea=function(){if(nc(this))return-rc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:$l+r)*t,t*=$l}return e},ea.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(tc(this))return"0";if(nc(this))return"-"+rc(this).toString(e);for(var t=Jl(Math.pow(e,6)),n=this,r="";;){var i=oc(n,t).g,a=((0<(n=ic(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(tc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ea.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ea.X=function(e){return nc(e=ic(this,e))?-1:tc(e)?0:1},ea.abs=function(){return nc(this)?rc(this):this},ea.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),s=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,a&=65535,s&=65535,n[i]=s<<16|a}return new Wl(n,-2147483648&n[n.length-1]?-1:0)},ea.R=function(e){if(tc(this)||tc(e))return Xl;if(nc(this))return nc(e)?rc(this).R(rc(e)):rc(rc(this).R(e));if(nc(e))return rc(this.R(rc(e)));if(0>this.X(ec)&&0>e.X(ec))return Jl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,s=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,ac(n,2*r+2*i),n[2*r+2*i+1]+=a*l,ac(n,2*r+2*i+1),n[2*r+2*i+1]+=s*o,ac(n,2*r+2*i+1),n[2*r+2*i+2]+=a*o,ac(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Wl(n,0)},ea.gb=function(e){return oc(this,e).h},ea.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Wl(n,this.h&e.h)},ea.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Wl(n,this.h|e.h)},ea.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Wl(n,this.h^e.h)},zl.prototype.createWebChannel=zl.prototype.g,Vl.prototype.send=Vl.prototype.u,Vl.prototype.open=Vl.prototype.m,Vl.prototype.close=Vl.prototype.close,Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Ks.COMPLETE="complete",Ws.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",cs.prototype.listen=cs.prototype.O,sl.prototype.listenOnce=sl.prototype.P,sl.prototype.getLastError=sl.prototype.Sa,sl.prototype.getLastErrorCode=sl.prototype.Ia,sl.prototype.getStatus=sl.prototype.da,sl.prototype.getResponseJson=sl.prototype.Wa,sl.prototype.getResponseText=sl.prototype.ja,sl.prototype.send=sl.prototype.ha,sl.prototype.setWithCredentials=sl.prototype.Oa,ql.prototype.digest=ql.prototype.l,ql.prototype.reset=ql.prototype.reset,ql.prototype.update=ql.prototype.j,Wl.prototype.add=Wl.prototype.add,Wl.prototype.multiply=Wl.prototype.R,Wl.prototype.modulo=Wl.prototype.gb,Wl.prototype.compare=Wl.prototype.X,Wl.prototype.toNumber=Wl.prototype.ea,Wl.prototype.toString=Wl.prototype.toString,Wl.prototype.getBits=Wl.prototype.D,Wl.fromNumber=Jl,Wl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Jl(Math.pow(n,8)),i=Xl,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),o=parseInt(t.substring(a,a+s),n);8>s?(s=Jl(Math.pow(n,s)),i=i.R(s).add(Jl(o))):i=(i=i.R(r)).add(Jl(o))}return i};var uc=na.createWebChannelTransport=function(){return new zl},hc=na.getStatEventTarget=function(){return Os()},dc=na.ErrorCode=Hs,pc=na.EventType=Ks,fc=na.Event=Ds,mc=na.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gc=(na.FetchXmlHttpFactory=Zo,na.WebChannel=Ws),yc=na.XhrIo=sl,vc=na.Md5=ql,bc=na.Integer=Wl;const wc="@firebase/firestore";class kc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kc.UNAUTHENTICATED=new kc(null),kc.GOOGLE_CREDENTIALS=new kc("google-credentials-uid"),kc.FIRST_PARTY=new kc("first-party-uid"),kc.MOCK_USER=new kc("mock-user");let Sc="10.8.1";const Tc=new Ye("@firebase/firestore");function _c(){return Tc.logLevel}function Ec(e){if(Tc.logLevel<=Ke.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);Tc.debug("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Ac(e){if(Tc.logLevel<=Ke.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);Tc.error("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Cc(e){if(Tc.logLevel<=Ke.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ic);Tc.warn("Firestore (".concat(Sc,"): ").concat(e),...i)}}function Ic(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function xc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Sc,") INTERNAL ASSERTION FAILED: ")+e;throw Ac(t),new Error(t)}function Nc(e,t){e||xc()}function Pc(e,t){return e}const Rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mc extends Ie{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Dc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Lc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kc.UNAUTHENTICATED)))}shutdown(){}}class jc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Uc{constructor(e){this.t=e,this.currentUser=kc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Dc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Dc,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Ec("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Ec("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Dc)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ec("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Nc("string"==typeof t.accessToken),new Lc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nc(null===e||"string"==typeof e),new kc(e)}}class Fc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=kc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Fc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(kc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ec("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ec("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ec("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ec("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Nc("string"==typeof e.token),this.R=e.token,new Vc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Kc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Hc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function qc(e,t){return e<t?-1:e>t?1:0}function Gc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Wc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Mc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Mc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Mc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Mc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wc.fromMillis(Date.now())}static fromDate(e){return Wc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Wc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qc(this.nanoseconds,e.nanoseconds):qc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qc(e)}static min(){return new Qc(new Wc(0,0))}static max(){return new Qc(new Wc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yc{constructor(e,t,n){void 0===t?t=0:t>e.length&&xc(),void 0===n?n=e.length-t:n>e.length-t&&xc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Yc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jc extends Yc{construct(e,t,n){return new Jc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Mc(Rc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Jc(e)}static emptyPath(){return new Jc([])}}const $c=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xc extends Yc{construct(e,t,n){return new Xc(e,t,n)}static isValidIdentifier(e){return $c.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Mc(Rc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Mc(Rc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Mc(Rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Mc(Rc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xc(t)}static emptyPath(){return new Xc([])}}class Zc{constructor(e){this.path=e}static fromPath(e){return new Zc(Jc.fromString(e))}static fromName(e){return new Zc(Jc.fromString(e).popFirst(5))}static empty(){return new Zc(Jc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zc(new Jc(e.slice()))}}class eu{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}eu.UNKNOWN_ID=-1;function tu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qc.fromTimestamp(1e9===r?new Wc(n+1,0):new Wc(n,r));return new ru(i,Zc.empty(),t)}function nu(e){return new ru(e.readTime,e.key,-1)}class ru{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ru(Qc.min(),Zc.empty(),-1)}static max(){return new ru(Qc.max(),Zc.empty(),-1)}}function iu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zc.comparator(e.documentKey,t.documentKey),0!==n?n:qc(e.largestBatchId,t.largestBatchId))}const au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class su{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ou(e){if(e.code!==Rc.FAILED_PRECONDITION||e.message!==au)throw e;Ec("LocalStore","Unexpectedly lost primary lease")}class lu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new lu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof lu?t:lu.resolve(t)}catch(e){return lu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):lu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):lu.reject(t)}static resolve(e){return new lu(((t,n)=>{t(e)}))}static reject(e){return new lu(((t,n)=>{n(e)}))}static waitFor(e){return new lu(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=lu.resolve(!1);for(const n of e)t=t.next((e=>e?lu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new lu(((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{a[l]=e,++s,s===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new lu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class cu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Dc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new du(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=yu(t.target.error);this.V.reject(new du(e,n))}}static open(e,t,n,r){try{return new cu(t,e.transaction(r,n))}catch(e){throw new du(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ec("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fu(t)}}class uu{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===uu.S(Ee())&&Ac("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ec("SimpleDb","Removing database:",e),mu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ce())return!1;if(uu.C())return!0;const e=Ee(),t=uu.S(e),n=0<t&&t<10,r=uu.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ec("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new du(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Mc(Rc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Mc(Rc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new du(e,r))},r.onupgradeneeded=e=>{Ec("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ec("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let a=0;for(;;){++a;try{this.db=await this.O(e);const t=cu.open(this.db,e,i?"readonly":"readwrite",n),a=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),lu.reject(e)))).toPromise();return a.catch((()=>{})),await t.m,a}catch(e){const t=e,n="FirebaseError"!==t.name&&a<3;if(Ec("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hu{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return mu(this.k.delete())}}class du extends Mc{constructor(e,t){super(Rc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function pu(e){return"IndexedDbTransactionError"===e.name}class fu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ec("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ec("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mu(n)}add(e){return Ec("SimpleDb","ADD",this.store.name,e,e),mu(this.store.add(e))}get(e){return mu(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ec("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ec("SimpleDb","DELETE",this.store.name,e),mu(this.store.delete(e))}count(){return Ec("SimpleDb","COUNT",this.store.name),mu(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new lu(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new lu(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ec("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new lu(((n,r)=>{t.onerror=e=>{const t=yu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new lu(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const a=new hu(i),s=t(i.primaryKey,i.value,a);if(s instanceof lu){const e=s.catch((e=>(a.done(),lu.reject(e))));n.push(e)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}})).next((()=>lu.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mu(e){return new lu(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=yu(e.target.error);n(t)}}))}let gu=!1;function yu(e){const t=uu.S(Ee());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Mc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return gu||(gu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class vu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function bu(e){return null==e}function wu(e){return 0===e&&1/e==-1/0}function ku(e){return"number"==typeof e&&Number.isInteger(e)&&!wu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}vu._e=-1;const Su=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Tu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_u=Tu;function Eu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Au(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Cu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Iu{constructor(e,t){this.comparator=e,this.root=t||Nu.EMPTY}insert(e,t){return new Iu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nu.BLACK,null,null))}remove(e){return new Iu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Nu.RED,this.left=null!=r?r:Nu.EMPTY,this.right=null!=i?i:Nu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Nu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Nu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xc();if(this.right.isRed())throw xc();const e=this.left.check();if(e!==this.right.check())throw xc();return e+(this.isRed()?0:1)}}Nu.EMPTY=null,Nu.RED=!0,Nu.BLACK=!1,Nu.EMPTY=new class{constructor(){this.size=0}get key(){throw xc()}get value(){throw xc()}get color(){throw xc()}get left(){throw xc()}get right(){throw xc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Nu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pu{constructor(e){this.comparator=e,this.data=new Iu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ru(this.data.getIterator())}getIteratorFrom(e){return new Ru(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Pu))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pu(this.comparator);return t.data=e,t}}class Ru{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mu{constructor(e){this.fields=e,e.sort(Xc.comparator)}static empty(){return new Mu([])}unionWith(e){let t=new Pu(Xc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Mu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Du extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Lu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Du("Invalid base64 string: "+e):e}}(e);return new Lu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Lu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lu.EMPTY_BYTE_STRING=new Lu("");const Ou=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ju(e){if(Nc(!!e),"string"==typeof e){let t=0;const n=Ou.exec(e);if(Nc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Uu(e.seconds),nanos:Uu(e.nanos)}}function Uu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fu(e){return"string"==typeof e?Lu.fromBase64String(e):Lu.fromUint8Array(e)}function zu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vu(e){const t=e.mapValue.fields.__previous_value__;return zu(t)?Vu(t):t}function Bu(e){const t=ju(e.mapValue.fields.__local_write_time__.timestampValue);return new Wc(t.seconds,t.nanos)}class Hu{constructor(e,t,n,r,i,a,s,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l}}class Ku{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zu(e)?4:ah(e)?9007199254740991:10:xc()}function Wu(e,t){if(e===t)return!0;const n=Gu(e);if(n!==Gu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Bu(e).isEqual(Bu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ju(e.timestampValue),r=ju(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Fu(e.bytesValue).isEqual(Fu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uu(e.geoPointValue.latitude)===Uu(t.geoPointValue.latitude)&&Uu(e.geoPointValue.longitude)===Uu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uu(e.integerValue)===Uu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Uu(e.doubleValue),r=Uu(t.doubleValue);return n===r?wu(n)===wu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Gc(e.arrayValue.values||[],t.arrayValue.values||[],Wu);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Eu(n)!==Eu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Wu(n[i],r[i])))return!1;return!0}(e,t);default:return xc()}}function Qu(e,t){return void 0!==(e.values||[]).find((e=>Wu(e,t)))}function Yu(e,t){if(e===t)return 0;const n=Gu(e),r=Gu(t);if(n!==r)return qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Uu(e.integerValue||e.doubleValue),r=Uu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ju(e.timestampValue,t.timestampValue);case 4:return Ju(Bu(e),Bu(t));case 5:return qc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Fu(e),r=Fu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=qc(n[i],r[i]);if(0!==e)return e}return qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qc(Uu(e.latitude),Uu(t.latitude));return 0!==n?n:qc(Uu(e.longitude),Uu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Yu(n[i],r[i]);if(e)return e}return qc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===qu.mapValue&&t===qu.mapValue)return 0;if(e===qu.mapValue)return 1;if(t===qu.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=qc(r[s],a[s]);if(0!==e)return e;const t=Yu(n[r[s]],i[a[s]]);if(0!==t)return t}return qc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xc()}}function Ju(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qc(e,t);const n=ju(e),r=ju(t),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function $u(e){return Xu(e)}function Xu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ju(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Fu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xu(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xu(e.fields[i]));return n+"}"}(e.mapValue):xc()}function Zu(e){return!!e&&"integerValue"in e}function eh(e){return!!e&&"arrayValue"in e}function th(e){return!!e&&"nullValue"in e}function nh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rh(e){return!!e&&"mapValue"in e}function ih(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Au(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ih(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ih(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ah(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class sh{constructor(e){this.value=e}static empty(){return new sh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(t)}setAll(e){let t=Xc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ih(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];rh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Au(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new sh(ih(this.value))}}function oh(e){const t=[];return Au(e.fields,((e,n)=>{const r=new Xc([e]);if(rh(n)){const e=oh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Mu(t)}class lh{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new lh(e,0,Qc.min(),Qc.min(),Qc.min(),sh.empty(),0)}static newFoundDocument(e,t,n,r){return new lh(e,1,t,Qc.min(),n,r,0)}static newNoDocument(e,t){return new lh(e,2,t,Qc.min(),Qc.min(),sh.empty(),0)}static newUnknownDocument(e,t){return new lh(e,3,t,Qc.min(),Qc.min(),sh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class ch{constructor(e,t){this.position=e,this.inclusive=t}}function uh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?Zc.comparator(Zc.fromName(s.referenceValue),n.key):Yu(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function hh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Wu(e.position[n],t.position[n]))return!1;return!0}class dh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ph(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class fh{}class mh extends fh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Th(e,t,n):"array-contains"===t?new Ch(e,n):"in"===t?new Ih(e,n):"not-in"===t?new xh(e,n):"array-contains-any"===t?new Nh(e,n):new mh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _h(e,n):new Eh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yu(t,this.value)):null!==t&&Gu(this.value)===Gu(t)&&this.matchesComparison(Yu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gh extends fh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new gh(e,t)}matches(e){return yh(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yh(e){return"and"===e.op}function vh(e){return bh(e)&&yh(e)}function bh(e){for(const t of e.filters)if(t instanceof gh)return!1;return!0}function wh(e){if(e instanceof mh)return e.field.canonicalString()+e.op.toString()+$u(e.value);if(vh(e))return e.filters.map((e=>wh(e))).join(",");{const t=e.filters.map((e=>wh(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function kh(e,t){return e instanceof mh?function(e,t){return t instanceof mh&&e.op===t.op&&e.field.isEqual(t.field)&&Wu(e.value,t.value)}(e,t):e instanceof gh?function(e,t){return t instanceof gh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&kh(n,t.filters[r])),!0)}(e,t):void xc()}function Sh(e){return e instanceof mh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($u(e.value))}(e):e instanceof gh?function(e){return e.op.toString()+" {"+e.getFilters().map(Sh).join(" ,")+"}"}(e):"Filter"}class Th extends mh{constructor(e,t,n){super(e,t,n),this.key=Zc.fromName(n.referenceValue)}matches(e){const t=Zc.comparator(e.key,this.key);return this.matchesComparison(t)}}class _h extends mh{constructor(e,t){super(e,"in",t),this.keys=Ah("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Eh extends mh{constructor(e,t){super(e,"not-in",t),this.keys=Ah("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ah(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Zc.fromName(e.referenceValue)))}class Ch extends mh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eh(t)&&Qu(t.arrayValue,this.value)}}class Ih extends mh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qu(this.value.arrayValue,t)}}class xh extends mh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qu(this.value.arrayValue,t)}}class Nh extends mh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Qu(this.value.arrayValue,e)))}}class Ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.ce=null}}function Rh(e){return new Ph(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Mh(e){const t=Pc(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>wh(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),bu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$u(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$u(e))).join(",")),t.ce=e}return t.ce}function Dh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ph(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!kh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hh(e.startAt,t.startAt)&&hh(e.endAt,t.endAt)}function Lh(e){return Zc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Oh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function jh(e,t,n,r,i,a,s,o){return new Oh(e,t,n,r,i,a,s,o)}function Uh(e){return new Oh(e)}function Fh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zh(e){return null!==e.collectionGroup}function Vh(e){const t=Pc(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Pu(Xc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new dh(r,n))})),e.has(Xc.keyField().canonicalString())||t.le.push(new dh(Xc.keyField(),n))}return t.le}function Bh(e){const t=Pc(e);return t.he||(t.he=Hh(t,Vh(e))),t.he}function Hh(e,t){if("F"===e.limitType)return Rh(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new dh(e.field,t)}));const n=e.endAt?new ch(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ch(e.startAt.position,e.startAt.inclusive):null;return Rh(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Kh(e,t,n){return new Oh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qh(e,t){return Dh(Bh(e),Bh(t))&&e.limitType===t.limitType}function Gh(e){return"".concat(Mh(Bh(e)),"|lt:").concat(e.limitType)}function Wh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Sh(e))).join(", "),"]")),bu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$u(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$u(e))).join(",")),"Target(".concat(t,")")}(Bh(e)),"; limitType=").concat(e.limitType,")")}function Qh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Vh(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=uh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vh(e),t))&&!(e.endAt&&!function(e,t,n){const r=uh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vh(e),t))}(e,t)}function Yh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jh(e){return(t,n)=>{let r=!1;for(const i of Vh(e)){const e=$h(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $h(e,t,n){const r=e.field.isKeyField()?Zc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yu(r,i):xc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xc()}}class Xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Cu(this.inner)}size(){return this.innerSize}}const Zh=new Iu(Zc.comparator);function ed(){return Zh}const td=new Iu(Zc.comparator);function nd(){let e=td;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function rd(e){let t=td;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function id(){return sd()}function ad(){return sd()}function sd(){return new Xh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const od=new Iu(Zc.comparator),ld=new Pu(Zc.comparator);function cd(){let e=ld;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ud=new Pu(qc);function hd(){return ud}function dd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wu(t)?"-0":t}}function pd(e){return{integerValue:""+e}}function fd(e,t){return ku(t)?pd(t):dd(e,t)}class md{constructor(){this._=void 0}}function gd(e,t,n){return e instanceof bd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zu(t)&&(t=Vu(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wd?kd(e,t):e instanceof Sd?Td(e,t):function(e,t){const n=vd(e,t),r=Ed(n)+Ed(e.Ie);return Zu(n)&&Zu(e.Ie)?pd(r):dd(e.serializer,r)}(e,t)}function yd(e,t,n){return e instanceof wd?kd(e,t):e instanceof Sd?Td(e,t):n}function vd(e,t){return e instanceof _d?function(e){return Zu(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class bd extends md{}class wd extends md{constructor(e){super(),this.elements=e}}function kd(e,t){const n=Ad(t);for(const r of e.elements)n.some((e=>Wu(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Sd extends md{constructor(e){super(),this.elements=e}}function Td(e,t){let n=Ad(t);for(const r of e.elements)n=n.filter((e=>!Wu(e,r)));return{arrayValue:{values:n}}}class _d extends md{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ed(e){return Uu(e.integerValue||e.doubleValue)}function Ad(e){return eh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.version=e,this.transformResults=t}}class Id{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Id}static exists(e){return new Id(void 0,e)}static updateTime(e){return new Id(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Nd{}function Pd(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vd(e.key,Id.none()):new Od(e.key,e.data,Id.none());{const n=e.data,r=sh.empty();let i=new Pu(Xc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new jd(e.key,r,new Mu(i.toArray()),Id.none())}}function Rd(e,t,n){e instanceof Od?function(e,t,n){const r=e.value.clone(),i=Fd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jd?function(e,t,n){if(!xd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Fd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ud(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Md(e,t,n,r){return e instanceof Od?function(e,t,n,r){if(!xd(e.precondition,t))return n;const i=e.value.clone(),a=zd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jd?function(e,t,n,r){if(!xd(e.precondition,t))return n;const i=zd(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ud(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xd(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Dd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=vd(r.transform,e||null);null!=i&&(null===n&&(n=sh.empty()),n.set(r.field,i))}return n||null}function Ld(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Gc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wd&&t instanceof wd||e instanceof Sd&&t instanceof Sd?Gc(e.elements,t.elements,Wu):e instanceof _d&&t instanceof _d?Wu(e.Ie,t.Ie):e instanceof bd&&t instanceof bd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Od extends Nd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jd extends Nd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ud(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Fd(e,t,n){const r=new Map;Nc(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,yd(s,o,n[i]))}return r}function zd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,gd(e,a,t))}return r}class Vd extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bd extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Rd(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Md(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Md(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ad();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Pd(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(Qc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cd())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,((e,t)=>Ld(e,t)))&&Gc(this.baseMutations,e.baseMutations,((e,t)=>Ld(e,t)))}}class Kd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Nc(e.mutations.length===n.length);let r=od;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Kd(e,t,n,r)}}class qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Gd{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wd,Qd;function Yd(e){switch(e){default:return xc();case Rc.CANCELLED:case Rc.UNKNOWN:case Rc.DEADLINE_EXCEEDED:case Rc.RESOURCE_EXHAUSTED:case Rc.INTERNAL:case Rc.UNAVAILABLE:case Rc.UNAUTHENTICATED:return!1;case Rc.INVALID_ARGUMENT:case Rc.NOT_FOUND:case Rc.ALREADY_EXISTS:case Rc.PERMISSION_DENIED:case Rc.FAILED_PRECONDITION:case Rc.ABORTED:case Rc.OUT_OF_RANGE:case Rc.UNIMPLEMENTED:case Rc.DATA_LOSS:return!0}}function Jd(e){if(void 0===e)return Ac("GRPC error has no .code"),Rc.UNKNOWN;switch(e){case Wd.OK:return Rc.OK;case Wd.CANCELLED:return Rc.CANCELLED;case Wd.UNKNOWN:return Rc.UNKNOWN;case Wd.DEADLINE_EXCEEDED:return Rc.DEADLINE_EXCEEDED;case Wd.RESOURCE_EXHAUSTED:return Rc.RESOURCE_EXHAUSTED;case Wd.INTERNAL:return Rc.INTERNAL;case Wd.UNAVAILABLE:return Rc.UNAVAILABLE;case Wd.UNAUTHENTICATED:return Rc.UNAUTHENTICATED;case Wd.INVALID_ARGUMENT:return Rc.INVALID_ARGUMENT;case Wd.NOT_FOUND:return Rc.NOT_FOUND;case Wd.ALREADY_EXISTS:return Rc.ALREADY_EXISTS;case Wd.PERMISSION_DENIED:return Rc.PERMISSION_DENIED;case Wd.FAILED_PRECONDITION:return Rc.FAILED_PRECONDITION;case Wd.ABORTED:return Rc.ABORTED;case Wd.OUT_OF_RANGE:return Rc.OUT_OF_RANGE;case Wd.UNIMPLEMENTED:return Rc.UNIMPLEMENTED;case Wd.DATA_LOSS:return Rc.DATA_LOSS;default:return xc()}}(Qd=Wd||(Wd={}))[Qd.OK=0]="OK",Qd[Qd.CANCELLED=1]="CANCELLED",Qd[Qd.UNKNOWN=2]="UNKNOWN",Qd[Qd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qd[Qd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qd[Qd.NOT_FOUND=5]="NOT_FOUND",Qd[Qd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qd[Qd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qd[Qd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qd[Qd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qd[Qd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qd[Qd.ABORTED=10]="ABORTED",Qd[Qd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qd[Qd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qd[Qd.INTERNAL=13]="INTERNAL",Qd[Qd.UNAVAILABLE=14]="UNAVAILABLE",Qd[Qd.DATA_LOSS=15]="DATA_LOSS";let $d=null;function Xd(){return new TextEncoder}const Zd=new bc([4294967295,4294967295],0);function ep(e){const t=Xd().encode(e),n=new vc;return n.update(t),new Uint8Array(n.digest())}function tp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new bc([n,r],0),new bc([i,a],0)]}class np{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new rp("Invalid padding: ".concat(t));if(n<0)throw new rp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new rp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new rp("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=bc.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(bc.fromNumber(n)));return 1===r.compare(Zd)&&(r=new bc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=ep(e),[n,r]=tp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new np(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Te)return;const t=ep(e),[n,r]=tp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ip{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ap.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ip(Qc.min(),r,new Iu(qc),ed(),cd())}}class ap{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ap(n,t,cd(),cd(),cd())}}class sp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class op{constructor(e,t){this.targetId=e,this.fe=t}}class lp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cp{constructor(){this.ge=0,this.pe=dp(),this.ye=Lu.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=cd(),t=cd(),n=cd();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xc()}})),new ap(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=dp()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Nc(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class up{constructor(e){this.Le=e,this.ke=new Map,this.qe=ed(),this.Qe=hp(),this.Ke=new Iu(qc)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:xc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Lh(i))if(0===n){const e=new Zc(i.path);this.We(t,e,lh.newNoDocument(e,Qc.min()))}else Nc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==$d||$d.tt(function(e,t,n,r,i){var a,s,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(o=null===(s=null==d?void 0:d.bits)||void 0===s?void 0:s.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Fu(n).toUint8Array()}catch(e){if(e instanceof Du)return Cc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new np(a,r,i)}catch(e){return Cc(e instanceof rp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.Te?null:s}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Lh(i.target)){const t=new Zc(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,lh.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=cd();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new ip(e,t,this.Ke,this.qe,n);return this.qe=ed(),this.Qe=hp(),this.Ke=new Iu(qc),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new cp,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Pu(qc),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ec("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new cp),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function hp(){return new Iu(Zc.comparator)}function dp(){return new Iu(Zc.comparator)}const pp={asc:"ASCENDING",desc:"DESCENDING"},fp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mp={and:"AND",or:"OR"};class gp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yp(e,t){return e.useProto3Json||bu(t)?t:{value:t}}function vp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wp(e,t){return vp(e,t.toTimestamp())}function kp(e){return Nc(!!e),Qc.fromTimestamp(function(e){const t=ju(e);return new Wc(t.seconds,t.nanos)}(e))}function Sp(e,t){return Tp(e,t).canonicalString()}function Tp(e,t){const n=function(e){return new Jc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function _p(e){const t=Jc.fromString(e);return Nc(Kp(t)),t}function Ep(e,t){return Sp(e.databaseId,t.path)}function Ap(e,t){const n=_p(t);if(n.get(1)!==e.databaseId.projectId)throw new Mc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zc(Np(n))}function Cp(e,t){return Sp(e.databaseId,t)}function Ip(e){const t=_p(e);return 4===t.length?Jc.emptyPath():Np(t)}function xp(e){return new Jc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Np(e){return Nc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pp(e,t,n){return{name:Ep(e,t),fields:n.value.mapValue.fields}}function Rp(e,t){let n;if(t instanceof Od)n={update:Pp(e,t.key,t.value)};else if(t instanceof Vd)n={delete:Ep(e,t.key)};else if(t instanceof jd)n={update:Pp(e,t.key,t.data),updateMask:Hp(t.fieldMask)};else{if(!(t instanceof Bd))return xc();n={verify:Ep(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof bd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw xc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xc()}(e,t.precondition)),n}function Mp(e,t){return{documents:[Cp(e,t.path)]}}function Dp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Cp(e,i);const a=function(e){if(0!==e.length)return Bp(gh.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:zp(e.field),direction:jp(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=yp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Lp(e){let t=Ip(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Op(e);return t instanceof gh&&vh(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new dh(Vp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,bu(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ch(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new ch(n,t)}(n.endAt)),jh(t,i,s,a,o,"F",l,c)}function Op(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Vp(e.unaryFilter.field);return mh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Vp(e.unaryFilter.field);return mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vp(e.unaryFilter.field);return mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Vp(e.unaryFilter.field);return mh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xc()}}(e):void 0!==e.fieldFilter?function(e){return mh.create(Vp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gh.create(e.compositeFilter.filters.map((e=>Op(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xc()}}(e.compositeFilter.op))}(e):xc()}function jp(e){return pp[e]}function Up(e){return fp[e]}function Fp(e){return mp[e]}function zp(e){return{fieldPath:e.canonicalString()}}function Vp(e){return Xc.fromServerFormat(e.fieldPath)}function Bp(e){return e instanceof mh?function(e){if("=="===e.op){if(nh(e.value))return{unaryFilter:{field:zp(e.field),op:"IS_NAN"}};if(th(e.value))return{unaryFilter:{field:zp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nh(e.value))return{unaryFilter:{field:zp(e.field),op:"IS_NOT_NAN"}};if(th(e.value))return{unaryFilter:{field:zp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zp(e.field),op:Up(e.op),value:e.value}}}(e):e instanceof gh?function(e){const t=e.getFilters().map((e=>Bp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Fp(e.op),filters:t}}}(e):xc()}function Hp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Kp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class qp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qc.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lu.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new qp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Gp{constructor(e){this.ct=e}}function Wp(e){const t=Lp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kh(t,t.limit,"L"):t}class Qp{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Uu(e.integerValue));else if("doubleValue"in e){const n=Uu(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),wu(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Fu(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?ah(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):xc()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Zc.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Qp.bt=new Qp;class Yp{constructor(){this._n=new Jp}addToCollectionParentIndex(e,t){return this._n.add(t),lu.resolve()}getCollectionParents(e,t){return lu.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return lu.resolve()}deleteFieldIndex(e,t){return lu.resolve()}deleteAllFieldIndexes(e){return lu.resolve()}createTargetIndexes(e,t){return lu.resolve()}getDocumentsMatchingTarget(e,t){return lu.resolve(null)}getIndexType(e,t){return lu.resolve(0)}getFieldIndexes(e,t){return lu.resolve([])}getNextCollectionGroupToUpdate(e){return lu.resolve(null)}getMinOffset(e,t){return lu.resolve(ru.min())}getMinOffsetFromCollectionGroup(e,t){return lu.resolve(ru.min())}updateCollectionGroup(e,t,n){return lu.resolve()}updateIndexEntries(e,t){return lu.resolve()}}class Jp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pu(Jc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pu(Jc.comparator)).toArray()}}new Uint8Array(0);class $p{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $p(e,$p.DEFAULT_COLLECTION_PERCENTILE,$p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$p.DEFAULT_COLLECTION_PERCENTILE=10,$p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$p.DEFAULT=new $p(41943040,$p.DEFAULT_COLLECTION_PERCENTILE,$p.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$p.DISABLED=new $p(-1,0,0);class Xp{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Xp(0)}static Bn(){return new Xp(-1)}}class Zp{constructor(){this.changes=new Xh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?lu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ef{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Md(n.mutation,e,Mu.empty(),Wc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,cd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cd();const r=id();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=nd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=id();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,cd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ed();const a=sd(),s=sd();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof jd)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Md(s.mutation,t,s.mutation.getFieldMask(),Wc.now())):a.set(t.key,Mu.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ef(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=sd();let r=new Iu(((e,t)=>e-t)),i=cd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Mu.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||cd()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=ad();l.forEach((e=>{if(!i.has(e)){const r=Pd(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return lu.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):lu.resolve(id());let s=-1,o=i;return a.next((t=>lu.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?lu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,cd()))).next((e=>({batchId:s,changes:rd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zc(t)).next((e=>{let t=nd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=nd();return this.indexManager.getCollectionParents(e,i).next((s=>lu.forEach(s,(s=>{const o=function(e,t){return new Oh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,lh.newInvalidDocument(r)))}));let n=nd();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Md(a.mutation,r,Mu.empty(),Wc.now()),Qh(t,r)&&(n=n.insert(e,r))})),n}))}}class nf{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return lu.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:kp(e.createTime)}}(t)),lu.resolve()}getNamedQuery(e,t){return lu.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Wp(e.bundledQuery),readTime:kp(e.readTime)}}(t)),lu.resolve()}}class rf{constructor(){this.overlays=new Iu(Zc.comparator),this.hr=new Map}getOverlay(e,t){return lu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=id();return lu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),lu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),lu.resolve()}getOverlaysForCollection(e,t,n){const r=id(),i=t.length+1,a=new Zc(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return lu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Iu(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=id(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=id(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return lu.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qd(t,n));let i=this.hr.get(t);void 0===i&&(i=cd(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class af{constructor(){this.Pr=new Pu(sf.Ir),this.Tr=new Pu(sf.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new sf(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new sf(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Zc(new Jc([])),n=new sf(t,e),r=new sf(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Zc(new Jc([])),n=new sf(t,e),r=new sf(t,e+1);let i=cd();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new sf(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sf{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Zc.comparator(e.key,t.key)||qc(e.pr,t.pr)}static Er(e,t){return qc(e.pr,t.pr)||Zc.comparator(e.key,t.key)}}class of{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Pu(sf.Ir)}checkEmpty(e){return lu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Hd(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.wr=this.wr.add(new sf(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return lu.resolve(a)}lookupMutationBatch(e,t){return lu.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return lu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return lu.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return lu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sf(t,0),r=new sf(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),lu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pu(qc);return t.forEach((e=>{const t=new sf(e,0),r=new sf(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),lu.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zc.isDocumentKey(i)||(i=i.child(""));const a=new sf(new Zc(i),0);let s=new Pu(qc);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.pr)),!0)}),a),lu.resolve(this.Dr(s))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Nc(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return lu.forEach(t.mutations,(r=>{const i=new sf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new sf(t,0),r=this.wr.firstAfterOrEqual(n);return lu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,lu.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lf{constructor(e){this.vr=e,this.docs=new Iu(Zc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return lu.resolve(n?n.document.mutableCopy():lh.newInvalidDocument(t))}getEntries(e,t){let n=ed();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lh.newInvalidDocument(e))})),lu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ed();const a=t.path,s=new Zc(a.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||iu(nu(s),n)<=0||(r.has(s.key)||Qh(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return lu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xc()}Fr(e,t){return lu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new cf(this)}getSize(e){return lu.resolve(this.size)}}class cf extends Zp{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),lu.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class uf{constructor(e){this.persistence=e,this.Mr=new Xh((e=>Mh(e)),Dh),this.lastRemoteSnapshotVersion=Qc.min(),this.highestTargetId=0,this.Or=0,this.Nr=new af,this.targetCount=0,this.Br=Xp.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),lu.resolve()}getLastRemoteSnapshotVersion(e){return lu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lu.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),lu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),lu.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new Xp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,lu.resolve()}updateTargetData(e,t){return this.qn(t),lu.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,lu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Mr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),lu.waitFor(i).next((()=>r))}getTargetCount(e){return lu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return lu.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),lu.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),lu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),lu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return lu.resolve(n)}containsKey(e,t){return lu.resolve(this.Nr.containsKey(t))}}class hf{constructor(e,t){this.Lr={},this.overlays={},this.kr=new vu(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uf(this),this.indexManager=new Yp,this.remoteDocumentCache=function(e){return new lf(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Gp(t),this.$r=new nf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new of(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Ec("MemoryPersistence","Starting transaction:",e);const r=new df(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return lu.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class df extends su{constructor(e){super(),this.currentSequenceNumber=e}}class pf{constructor(e){this.persistence=e,this.zr=new af,this.jr=null}static Hr(e){return new pf(e)}get Jr(){if(this.jr)return this.jr;throw xc()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),lu.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),lu.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),lu.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lu.forEach(this.Jr,(n=>{const r=Zc.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Qc.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return lu.or([()=>lu.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class ff{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=cd(),r=cd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ff(e,t.fromCache,n,r)}}class mf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gf{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ae()?8:uu.v(Ee())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new mf;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(_c()<=Ke.DEBUG&&Ec("QueryEngine","SDK will not create cache indexes for query:",Wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),lu.resolve()):(_c()<=Ke.DEBUG&&Ec("QueryEngine","Query:",Wh(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(_c()<=Ke.DEBUG&&Ec("QueryEngine","The SDK decides to create cache indexes for query:",Wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bh(t))):lu.resolve())}ji(e,t){if(Fh(t))return lu.resolve(null);let n=Bh(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Kh(t,null,"F"),n=Bh(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=cd(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.Zi(t,r);return this.Xi(t,a,i,n.readTime)?this.ji(e,Kh(t,null,"F")):this.es(e,a,t,n)}))))})))))}Hi(e,t,n,r){return Fh(t)||r.isEqual(Qc.min())?lu.resolve(null):this.zi.getDocuments(e,n).next((i=>{const a=this.Zi(t,i);return this.Xi(t,a,n,r)?lu.resolve(null):(_c()<=Ke.DEBUG&&Ec("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wh(t)),this.es(e,a,t,tu(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Pu(Jh(e));return t.forEach(((t,r)=>{Qh(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return _c()<=Ke.DEBUG&&Ec("QueryEngine","Using full collection scan to execute query:",Wh(t)),this.zi.getDocumentsMatchingQuery(e,t,ru.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class yf{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Iu(qc),this.rs=new Xh((e=>Mh(e)),Dh),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tf(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function vf(e,t,n,r){return new yf(e,t,n,r)}async function bf(e,t){const n=Pc(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let s=cd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({us:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function wf(e){const t=Pc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function kf(e,t,n){let r=cd(),i=cd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ed();return n.forEach(((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Qc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Ec("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Sf(e,t){const n=Pc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Tf(e,t){const n=Pc(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,lu.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new qp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function _f(e,t,n){const r=Pc(e),i=r.ns.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!pu(e))throw e;Ec("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Ef(e,t,n){const r=Pc(e);let i=Qc.min(),a=cd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Pc(e),i=r.rs.get(n);return void 0!==i?lu.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Bh(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Qc.min(),n?a:cd()))).next((e=>(Af(r,Yh(t),e),{documents:e,hs:a})))))}function Af(e,t,n){let r=e.ss.get(t)||Qc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Cf{constructor(){this.activeTargetIds=hd()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class If{constructor(){this.no=new Cf,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Cf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xf{io(e){}shutdown(){}}class Nf{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ec("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Ec("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pf=null;function Rf(){return null===Pf?Pf=268435456+Math.round(2147483648*Math.random()):Pf++,"0x"+Pf.toString(16)}const Mf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Df{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Lf="WebChannelConnection";class Of extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const a=Rf(),s=this.bo(e,t.toUriEncodedString());Ec("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,s,o,n).then((t=>(Ec("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw Cc("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,a){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=Mf[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Rf();return new Promise(((a,s)=>{const o=new yc;o.setWithCredentials(!0),o.listenOnce(pc.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case dc.NO_ERROR:const t=o.getResponseJson();Ec(Lf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case dc.TIMEOUT:Ec(Lf,"RPC '".concat(e,"' ").concat(i," timed out")),s(new Mc(Rc.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const n=o.getStatus();if(Ec(Lf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rc).indexOf(t)>=0?t:Rc.UNKNOWN}(t.status);s(new Mc(e,t.message))}else s(new Mc(Rc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Mc(Rc.UNAVAILABLE,"Connection failed."));break;default:xc()}}finally{Ec(Lf,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ec(Lf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Rf(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=uc(),s=hc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Ec(Lf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);let h=!1,d=!1;const p=new Df({lo:t=>{d?Ec(Lf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ec(Lf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,gc.EventType.OPEN,(()=>{d||Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),f(u,gc.EventType.CLOSE,(()=>{d||(d=!0,Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.Vo())})),f(u,gc.EventType.ERROR,(t=>{d||(d=!0,Cc(Lf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.Vo(new Mc(Rc.UNAVAILABLE,"The operation could not be completed")))})),f(u,gc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Nc(!!i);const a=i,s=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Wd[e];if(void 0!==t)return Jd(t)}(t),i=s.message;void 0===n&&(n=Rc.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,p.Vo(new Mc(n,i)),u.close()}else Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.mo(i)}})),f(s,fc.STAT_EVENT,(t=>{t.stat===mc.PROXY?Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===mc.NOPROXY&&Ec(Lf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.Ro()}),0),p}}function jf(){return"undefined"!=typeof document?document:null}function Uf(e){return new gp(e,!0)}class Ff{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&Ec("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class zf{constructor(e,t,n,r,i,a,s,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ff(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Rc.RESOURCE_EXHAUSTED?(Ac(t.toString()),Ac("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Rc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Mc(Rc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Ec("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Ec("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vf extends zf{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Nc(void 0===t||"string"==typeof t),Lu.fromBase64String(t||"")):(Nc(void 0===t||t instanceof Uint8Array),Lu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Rc.UNKNOWN:Jd(e.code);return new Mc(t,e.message||"")}(s);n=new lp(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ap(e,r.document.name),a=kp(r.document.updateTime),s=r.document.createTime?kp(r.document.createTime):Qc.min(),o=new sh({mapValue:{fields:r.document.fields}}),l=lh.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new sp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ap(e,r.document),a=r.readTime?kp(r.readTime):Qc.min(),s=lh.newNoDocument(i,a),o=r.removedTargetIds||[];n=new sp([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ap(e,r.document),a=r.removedTargetIds||[];n=new sp([],a,i,null)}else{if(!("filter"in t))return xc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Gd(r,i),s=e.targetId;n=new op(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Qc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Qc.min():t.readTime?kp(t.readTime):Qc.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=xp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lh(r)?{documents:Mp(e,r)}:{query:Dp(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bp(e,t.resumeToken);const r=yp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Qc.min())>0){n.readTime=vp(e,t.snapshotVersion.toTimestamp());const r=yp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=xp(this.serializer),t.removeTarget=e,this.t_(t)}}class Bf extends zf{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Nc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Nc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?kp(e.updateTime):kp(t);return n.isEqual(Qc.min())&&(n=kp(t)),new Cd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=kp(e.commitTime);return this.listener.T_(n,t)}return Nc(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=xp(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Rp(this.serializer,e)))};this.t_(t)}}class Hf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Mc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,s]=i;return this.connection.So(e,Tp(t,n),r,a,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mc(Rc.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[s,o]=a;return this.connection.vo(e,Tp(t,n),r,s,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Mc(Rc.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Kf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Ac(t),this.g_=!1):Ec("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class qf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{em(this)&&(Ec("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Pc(e);t.v_.add(4),await Wf(t),t.x_.set("Unknown"),t.v_.delete(4),await Gf(t)}(this))}))})),this.x_=new Kf(n,r)}}async function Gf(e){if(em(e))for(const t of e.F_)await t(!0)}async function Wf(e){for(const t of e.F_)await t(!1)}function Qf(e,t){const n=Pc(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Zf(n)?Xf(n):vm(n).Jo()&&Jf(n,t))}function Yf(e,t){const n=Pc(e),r=vm(n);n.C_.delete(t),r.Jo()&&$f(n,t),0===n.C_.size&&(r.Jo()?r.Xo():em(n)&&n.x_.set("Unknown"))}function Jf(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vm(e).c_(t)}function $f(e,t){e.O_.Oe(t),vm(e).l_(t)}function Xf(e){e.O_=new up({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),vm(e).start(),e.x_.p_()}function Zf(e){return em(e)&&!vm(e).Ho()&&e.C_.size>0}function em(e){return 0===Pc(e).v_.size}function tm(e){e.O_=void 0}async function nm(e){e.C_.forEach(((t,n)=>{Jf(e,t)}))}async function rm(e,t){tm(e),Zf(e)?(e.x_.S_(t),Xf(e)):e.x_.set("Unknown")}async function im(e,t,n){if(e.x_.set("Online"),t instanceof lp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Ec("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await am(e,n)}else if(t instanceof sp?e.O_.$e(t):t instanceof op?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Qc.min()))try{const t=await wf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Lu.EMPTY_BYTE_STRING,r.snapshotVersion)),$f(e,t);const i=new qp(r.target,t,n,r.sequenceNumber);Jf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ec("RemoteStore","Failed to raise snapshot:",t),await am(e,t)}}async function am(e,t,n){if(!pu(t))throw t;e.v_.add(1),await Wf(e),e.x_.set("Offline"),n||(n=()=>wf(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ec("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Gf(e)}))}function sm(e,t){return t().catch((n=>am(e,n,t)))}async function om(e){const t=Pc(e),n=bm(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;lm(t);)try{const e=await Sf(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,cm(t,e)}catch(e){await am(t,e)}um(t)&&hm(t)}function lm(e){return em(e)&&e.D_.length<10}function cm(e,t){e.D_.push(t);const n=bm(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function um(e){return em(e)&&!bm(e).Ho()&&e.D_.length>0}function hm(e){bm(e).start()}async function dm(e){bm(e).d_()}async function pm(e){const t=bm(e);for(const n of e.D_)t.I_(n.mutations)}async function fm(e,t,n){const r=e.D_.shift(),i=Kd.from(r,t,n);await sm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await om(e)}async function mm(e,t){t&&bm(e).P_&&await async function(e,t){if(function(e){return Yd(e)&&e!==Rc.ABORTED}(t.code)){const n=e.D_.shift();bm(e).Zo(),await sm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await om(e)}}(e,t),um(e)&&hm(e)}async function gm(e,t){const n=Pc(e);n.asyncQueue.verifyOperationInProgress(),Ec("RemoteStore","RemoteStore received new credentials");const r=em(n);n.v_.add(3),await Wf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Gf(n)}async function ym(e,t){const n=Pc(e);t?(n.v_.delete(2),await Gf(n)):t||(n.v_.add(2),await Wf(n),n.x_.set("Unknown"))}function vm(e){return e.N_||(e.N_=function(e,t,n){const r=Pc(e);return r.R_(),new Vf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:nm.bind(null,e),To:rm.bind(null,e),u_:im.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Zf(e)?Xf(e):e.x_.set("Unknown")):(await e.N_.stop(),tm(e))}))),e.N_}function bm(e){return e.B_||(e.B_=function(e,t,n){const r=Pc(e);return r.R_(),new Bf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:dm.bind(null,e),To:mm.bind(null,e),E_:pm.bind(null,e),T_:fm.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await om(e)):(await e.B_.stop(),e.D_.length>0&&(Ec("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class wm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new wm(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mc(Rc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(e,t){if(Ac("AsyncQueue","".concat(t,": ").concat(e)),pu(e))return new Mc(Rc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Sm{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zc.comparator(t.key,n.key):(e,t)=>Zc.comparator(e.key,t.key),this.keyedMap=nd(),this.sortedSet=new Iu(this.comparator)}static emptySet(e){return new Sm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sm))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Sm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tm{constructor(){this.L_=new Iu(Zc.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):xc():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _m{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new _m(e,t,Sm.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Em{constructor(){this.q_=void 0,this.Q_=[]}}class Am{constructor(){this.queries=new Xh((e=>Gh(e)),qh),this.onlineState="Unknown",this.K_=new Set}}async function Cm(e,t){const n=Pc(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Em),i)try{a.q_=await n.onListen(r)}catch(e){const n=km(e,"Initialization of query '".concat(Wh(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.Q_.push(t),t.U_(n.onlineState),a.q_&&t.W_(a.q_)&&Pm(n)}async function Im(e,t){const n=Pc(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.Q_.indexOf(t);e>=0&&(a.Q_.splice(e,1),i=0===a.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function xm(e,t){const n=Pc(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&Pm(n)}function Nm(e,t,n){const r=Pc(e),i=r.queries.get(t);if(i)for(const a of i.Q_)a.onError(n);r.queries.delete(t)}function Pm(e){e.K_.forEach((e=>{e.next()}))}class Rm{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _m(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=_m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class Mm{constructor(e){this.key=e}}class Dm{constructor(e){this.key=e}}class Lm{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=cd(),this.mutatedKeys=cd(),this.ua=Jh(e),this.ca=new Sm(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new Tm,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Qh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(s=!0)),p&&(u?(a=a.add(u),i=d?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:a,Pa:n,Xi:s,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.k_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xc()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const s=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==a.length||l?{snapshot:new _m(this.query,e.ca,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:s}:{da:s}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Tm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=cd(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new Dm(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new Mm(n))})),t}Ra(e){this.oa=e.hs,this.aa=cd();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return _m.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class Om{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class jm{constructor(e){this.key=e,this.ma=!1}}class Um{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.fa={},this.ga=new Xh((e=>Gh(e)),qh),this.pa=new Map,this.ya=new Set,this.wa=new Iu(Zc.comparator),this.Sa=new Map,this.ba=new af,this.Da={},this.Ca=new Map,this.va=Xp.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function Fm(e,t){const n=rg(e);let r,i;const a=n.ga.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Va();else{const e=await Tf(n.localStore,Bh(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await zm(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&Qf(n.remoteStore,e)}return i}async function zm(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Ef(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return $m(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const a=await Ef(e.localStore,t,!0),s=new Lm(t,a.hs),o=s.ha(a.documents),l=ap.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);$m(e,n,c.da);const u=new Om(t,n,s);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function Vm(e,t){const n=Pc(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!qh(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _f(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Yf(n.remoteStore,r.targetId),Ym(n,r.targetId)})).catch(ou)):(Ym(n,r.targetId),await _f(n.localStore,r.targetId,!0))}async function Bm(e,t){const n=Pc(e);try{const e=await function(e,t){const n=Pc(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const s=[];t.targetChanges.forEach(((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,a.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Lu.EMPTY_BYTE_STRING,Qc.min()).withLastLimboFreeSnapshotVersion(Qc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&s.push(n.Qr.updateTargetData(e,c))}));let o=ed(),l=cd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(kf(e,a,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Qc.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return lu.waitFor(s).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Nc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Nc(r.ma):e.removedDocuments.size>0&&(Nc(r.ma),r.ma=!1))})),await eg(n,e,t)}catch(e){await ou(e)}}function Hm(e,t,n){const r=Pc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Pc(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&Pm(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Km(e,t,n){const r=Pc(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),a=i&&i.key;if(a){let e=new Iu(Zc.comparator);e=e.insert(a,lh.newNoDocument(a,Qc.min()));const n=cd().add(a),i=new ip(Qc.min(),new Map,new Iu(qc),e,n);await Bm(r,i),r.wa=r.wa.remove(a),r.Sa.delete(t),Zm(r)}else await _f(r.localStore,t,!1).then((()=>Ym(r,t,n))).catch(ou)}async function qm(e,t){const n=Pc(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Pc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=lu.resolve();return a.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Nc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=cd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Qm(n,r,null),Wm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eg(n,e)}catch(e){await ou(e)}}async function Gm(e,t,n){const r=Pc(e);try{const e=await function(e,t){const n=Pc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Nc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Qm(r,t,n),Wm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await eg(r,e)}catch(n){await ou(n)}}function Wm(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Qm(e,t,n){const r=Pc(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Ym(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Jm(e,t)}))}function Jm(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Yf(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Zm(e))}function $m(e,t,n){for(const r of n)r instanceof Mm?(e.ba.addReference(r.key,t),Xm(e,r)):r instanceof Dm?(Ec("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Jm(e,r.key)):xc()}function Xm(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Ec("SyncEngine","New document in limbo: "+n),e.ya.add(r),Zm(e))}function Zm(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new Zc(Jc.fromString(t)),r=e.va.next();e.Sa.set(r,new jm(n)),e.wa=e.wa.insert(n,r),Qf(e.remoteStore,new qp(Bh(Uh(n.path)),r,"TargetPurposeLimboResolution",vu._e))}}async function eg(e,t,n){const r=Pc(e),i=[],a=[],s=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{s.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=ff.Ki(o.targetId,e);a.push(t)}})))})),await Promise.all(s),r.fa.u_(i),await async function(e,t){const n=Pc(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>lu.forEach(t,(t=>lu.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>lu.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!pu(e))throw e;Ec("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,a))}async function tg(e,t){const n=Pc(e);if(!n.currentUser.isEqual(t)){Ec("SyncEngine","User change. New user:",t.toKey());const e=await bf(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Mc(Rc.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await eg(n,e.us)}}function ng(e,t){const n=Pc(e),r=n.Sa.get(t);if(r&&r.ma)return cd().add(r.key);{let e=cd();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}function rg(e){const t=Pc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ng.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Km.bind(null,t),t.fa.u_=xm.bind(null,t.eventManager),t.fa.xa=Nm.bind(null,t.eventManager),t}function ig(e){const t=Pc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gm.bind(null,t),t}class ag{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vf(this.persistence,new gf,e.initialUser,this.serializer)}createPersistence(e){return new hf(pf.Hr,this.serializer)}createSharedClientState(e){return new If}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Hm(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=tg.bind(null,this.syncEngine),await ym(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Am}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),n=function(e){return new Of(e)}(e.databaseInfo);return function(e,t,n,r){return new Hf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Hm(this.syncEngine,e,0)),Nf.D()?new Nf:new xf)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Um(e,t,n,r,i,a);return s&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Pc(e);Ec("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Wf(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ac("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class lg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kc.UNAUTHENTICATED,this.clientId=Kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ec("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ec("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=km(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cg(e,t){e.asyncQueue.verifyOperationInProgress(),Ec("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await bf(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function ug(e,t){e.asyncQueue.verifyOperationInProgress();const n=await dg(e);Ec("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>gm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>gm(t.remoteStore,n))),e._onlineComponents=t}function hg(e){return"FirebaseError"===e.name?e.code===Rc.FAILED_PRECONDITION||e.code===Rc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function dg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ec("FirestoreClient","Using user provided OfflineComponentProvider");try{await cg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!hg(n))throw n;Cc("Error using user provided cache. Falling back to memory cache: "+n),await cg(e,new ag)}}else Ec("FirestoreClient","Using default OfflineComponentProvider"),await cg(e,new ag);return e._offlineComponents}async function pg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ec("FirestoreClient","Using user provided OnlineComponentProvider"),await ug(e,e._uninitializedComponentsProvider._online)):(Ec("FirestoreClient","Using default OnlineComponentProvider"),await ug(e,new sg))),e._onlineComponents}function fg(e){return pg(e).then((e=>e.syncEngine))}async function mg(e){const t=await pg(e),n=t.eventManager;return n.onListen=Fm.bind(null,t.syncEngine),n.onUnlisten=Vm.bind(null,t.syncEngine),n}function gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Dc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new og({next:a=>{t.enqueueAndForget((()=>Im(e,s)));const o=a.docs.has(n);!o&&a.fromCache?i.reject(new Mc(Rc.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&a.fromCache&&r&&"server"===r.source?i.reject(new Mc(Rc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Rm(Uh(n.path),a,{includeMetadataChanges:!0,Z_:!0});return Cm(e,s)}(await mg(e),e.asyncQueue,t,n,r))),r.promise}function yg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const vg=new Map;function bg(e,t,n){if(!n)throw new Mc(Rc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wg(e){if(!Zc.isDocumentKey(e))throw new Mc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function kg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":xc()}function Sg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mc(Rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(e);throw new Mc(Rc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Tg{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Mc(Rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Mc(Rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Mc(Rc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Mc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Mc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Mc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _g{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Mc(Rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Oc;switch(e.type){case"firstParty":return new zc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mc(Rc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=vg.get(e);t&&(Ec("ComponentProvider","Removing Datastore"),vg.delete(e),t.terminate())}(this),Promise.resolve()}}function Eg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Sg(e,_g))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==s&&Cc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Mc(Rc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kc(a)}e._authCredentials=new jc(new Lc(t,n))}}class Ag{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ag(this.firestore,e,this._query)}}class Cg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ig(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cg(this.firestore,e,this._key)}}class Ig extends Ag{constructor(e,t,n){super(e,t,Uh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cg(this.firestore,null,new Zc(e))}withConverter(e){return new Ig(this.firestore,e,this._path)}}function xg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ue(e),1===arguments.length&&(t=Kc.newId()),bg("doc","path",t),e instanceof _g){const n=Jc.fromString(t,...r);return wg(n),new Cg(e,null,new Zc(n))}{if(!(e instanceof Cg||e instanceof Ig))throw new Mc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Jc.fromString(t,...r));return wg(n),new Cg(e.firestore,e instanceof Ig?e.converter:null,new Zc(n))}}class Ng{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Ff(this,"async_queue_retry"),this._u=()=>{const e=jf();e&&Ec("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=jf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Dc;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!pu(e))throw e;Ec("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ac("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=wm.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&xc()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}class Pg extends _g{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ng,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mg(this),this._firestoreClient.terminate()}}function Rg(e){return e._firestoreClient||Mg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mg(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Hu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,yg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new lg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Dg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dg(Lu.fromBase64String(e))}catch(e){throw new Mc(Rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Dg(Lu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Lg{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Mc(Rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Og{constructor(e){this._methodName=e}}class jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Mc(Rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Mc(Rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qc(this._lat,e._lat)||qc(this._long,e._long)}}const Ug=/^__.*__$/;class Fg{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Od(e,this.data,t,this.fieldTransforms)}}function zg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xc()}}class Vg{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Xg(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(zg(this.du)&&Ug.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class Bg{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uf(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vg({du:e,methodName:t,wu:n,path:Xc.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hg(e){const t=e._freezeSettings(),n=Uf(e._databaseId);return new Bg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kg(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Su(a.merge||a.mergeFields?2:0,t,n,i);Qg("Data must be an object, but it was:",s,r);const o=Gg(r,s);let l,c;if(a.merge)l=new Mu(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Yg(t,r,n);if(!s.contains(i))throw new Mc(Rc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Zg(e,i)||e.push(i)}l=new Mu(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new Fg(new sh(o),l,c)}function qg(e,t){if(Wg(e=Ue(e)))return Qg("Unsupported field value:",t,e),Gg(e,t);if(e instanceof Og)return function(e,t){if(!zg(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=qg(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ue(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Wc.fromDate(e);return{timestampValue:vp(t.serializer,n)}}if(e instanceof Wc){const n=new Wc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:vp(t.serializer,n)}}if(e instanceof jg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Dg)return{bytesValue:bp(t.serializer,e._byteString)};if(e instanceof Cg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Sp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(kg(e)))}(e,t)}function Gg(e,t){const n={};return Cu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Au(e,((e,r)=>{const i=qg(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Wg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wc||e instanceof jg||e instanceof Dg||e instanceof Cg||e instanceof Og)}function Qg(e,t,n){if(!Wg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=kg(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function Yg(e,t,n){if((t=Ue(t))instanceof Lg)return t._internalPath;if("string"==typeof t)return $g(e,t);throw Xg("Field path arguments must be of type string or ",e,!1,void 0,n)}const Jg=new RegExp("[~\\*/\\[\\]]");function $g(e,t,n){if(t.search(Jg)>=0)throw Xg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Lg(...t.split("."))._internalPath}catch(pa){throw Xg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Xg(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Mc(Rc.INVALID_ARGUMENT,o+e+l)}function Zg(e,t){return e.some((e=>e.isEqual(t)))}class ey{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ty(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ny("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ty extends ey{data(){return super.data()}}function ny(e,t){return"string"==typeof t?$g(e,t):t instanceof Lg?t._internalPath:t._delegate._internalPath}class ry{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Au(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new jg(Uu(e.latitude),Uu(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Vu(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=ju(e);return new Wc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Jc.fromString(e);Nc(Kp(n));const r=new Ku(n.get(1),n.get(3)),i=new Zc(n.popFirst(5));return r.isEqual(t)||Ac("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function iy(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ay{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sy extends ey{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(ny("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class oy extends sy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}function ly(e){e=Sg(e,Cg);const t=Sg(e.firestore,Pg);return gg(Rg(t),e._key).then((n=>dy(t,e,n)))}class cy extends ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cg(this.firestore,null,t)}}function uy(e,t,n){e=Sg(e,Cg);const r=Sg(e.firestore,Pg),i=iy(e.converter,t,n);return hy(r,[Kg(Hg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Id.none())])}function hy(e,t){return function(e,t){const n=new Dc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=ig(e);try{const e=await function(e,t){const n=Pc(e),r=Wc.now(),i=t.reduce(((e,t)=>e.add(t.key)),cd());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=ed(),l=cd();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{a=i;const s=[];for(const e of t){const t=Dd(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new jd(e.key,t,oh(t.value.mapValue),Id.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:rd(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new Iu(qc)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await eg(r,e.changes),await om(r.remoteStore)}catch(e){const t=km(e,"Failed to persist write");n.reject(t)}}(await fg(e),t,n))),n.promise}(Rg(e),t)}function dy(e,t,n){const r=n.docs.get(t._key),i=new cy(e);return new sy(e,i,t._key,r,new ay(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sc=e}(At),St(new Fe("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Pg(new Uc(e.getProvider("auth-internal")),new Bc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mc(Rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),xt(wc,"4.4.3",e),xt(wc,"4.4.3","esm2017")}();const py=Ct({apiKey:"AIzaSyA2vZ_quqfVMIZ04MY8YjDj5x5O0FXrOWk",authDomain:"urarchive-81779.firebaseapp.com",projectId:"urarchive-81779",storageBucket:"urarchive-81779.appspot.com",messagingSenderId:"680932991220",appId:"1:680932991220:web:7468a8aaecfc4c05563ea1"}),fy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It();const t=Tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Pe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Qt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Wi,persistence:[ni,Fr,Vr]}),r=Te("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>$i)return;const r=null===t||void 0===t?void 0:t.token;Xi!==r&&(Xi=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ue(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){Ue(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const a=ke("auth");return a&&or(n,"http://".concat(a)),n}(py);!function(e,t){Ue(e).setPersistence(t)}(fy,Vr);const my=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Tt("object"==typeof e?e:It(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=ke(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Eg(r,...e)}return r}(py);var gy=n(184);const yy=e=>{let{loggedin:n,setLoggedin:r,page:i,setPage:a,handleSignOut:s,visibleConfirmation:o,setVisibleConfirmation:l}=e;const c=$();return(0,t.useEffect)((()=>{a(localStorage.getItem("page"))})),(0,t.useEffect)((()=>{null===fy.currentUser?r(!1):r(!0)})),(0,gy.jsxs)("div",{className:"navbar",children:[(0,gy.jsxs)("h1",{className:"title-2",children:["Your",(0,gy.jsx)("span",{className:"title",children:"Archive"})]}),(0,gy.jsxs)("div",{className:"links",children:[(0,gy.jsx)("button",{className:"collection"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/"),localStorage.setItem("page","collection")},children:"Collection"}),(0,gy.jsx)("button",{className:"profiles"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/search"),localStorage.setItem("page","profiles")},children:"Search"}),(0,gy.jsx)("button",{className:"banners"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/banners"),localStorage.setItem("page","banners")},children:"Banners"}),(0,gy.jsx)("button",{className:"planner"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/planner"),localStorage.setItem("page","planner")},children:"Planner"}),!1===n&&(0,gy.jsx)("button",{className:"signin"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/signin"),localStorage.setItem("page","signin")},children:"Login"}),!1===n&&(0,gy.jsx)("button",{className:"register"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/register"),localStorage.setItem("page","register")},children:"Register"}),!1!==n&&(0,gy.jsx)("button",{className:"profile"===i?"navbar-button-clicked":"navbar-button",onClick:()=>{c("/profile"),localStorage.setItem("page","profile")},children:"Profile"}),!1!==n&&(0,gy.jsx)("button",{className:"navbar-button",onClick:()=>{l(!0)},children:"Sign out"})]})]})};var vy=n(164),by=n.t(vy,2);new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Fy){}new Map;const wy=r.startTransition;by.flushSync,r.useId;function ky(e){let{basename:n,children:r,future:i,window:a}=e,s=t.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=d(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:h(t))}),(function(e,t){l("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),o)));let c=s.current,[f,m]=t.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},y=t.useCallback((e=>{g&&wy?wy((()=>m(e))):m(e)}),[m,g]);return t.useLayoutEffect((()=>c.listen(y)),[c,y]),t.createElement(he,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:c,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Sy,Ty;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sy||(Sy={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ty||(Ty={}));const _y=[{character:{name:"Template",baseStar:3,armorType:"",bulletType:"",position:"",role:"",squadType:"",weaponType:"",profile:""},info:{club:"",school:""},image:{lobby:""},stat:{streetMood:"",outdoorMood:"",indoorMood:""}},{character:{name:"Ako (Dress)",baseStar:3,armorType:"Special",bulletType:"Explosive",position:"Middle",role:"Support",squadType:"Striker",weaponType:"HG",profile:"A student of Gehenna Academy, Ako is the executive officer of the Disciplinary Committee, and a sort-of secretary to its president Hina. Ako ended up wearing a dress to assist Hina at the Gehenna party. She is respected by many members of the Disciplinary Committee for her highly professional work ethic, and Ako is confident that she will perform her duties perfectly as a secret agent as well..."},info:{club:"Prefect Team",school:"Gehenna",releaseDate:"Late July"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/5/5f/Lobbyillust_Ako_%28Dress%29.png/180px-Lobbyillust_Ako_%28Dress%29.png"},stat:{streetMood:"C",outdoorMood:"S",indoorMood:"B"}},{character:{name:"Eimi (Swimsuit)",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Back",role:"Support",squadType:"Special",weaponType:"SG",profile:"Eimi is a member of the Supernatural Phenomenon Task Force at Millennium Science School. It's hard to tell what she's thinking, but she seems to be a little more excited than usual since arriving to the bitterly cold region. Saying that, her fashion sense seems to be the same as usual."},info:{club:"SPTF",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/a/a1/Lobbyillust_Eimi_%28Swimsuit%29.png/180px-Lobbyillust_Eimi_%28Swimsuit%29.png"},stat:{streetMood:"C",outdoorMood:"S",indoorMood:"B"}},{character:{name:"Hare (Camp)",baseStar:3,armorType:"Light",bulletType:"Explosive",position:"Middle",role:"Support",squadType:"Striker",weaponType:"AR",profile:"Veritas member that's dressed warmly for the chilly winter. Not only was Hare going out for the first time in a while, but she also ended up at a campsite with almost no signal, so she seems to be less excited than usual. Although she can generally tolerate the inconvenience of being outdoors, Hare seems entirely unwilling to give up energy drinks."},info:{club:"Veritas",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/c/c0/Lobbyillust_Hare_%28Camping%29.png/180px-Lobbyillust_Hare_%28Camping%29.png"},stat:{streetMood:"C",outdoorMood:"S",indoorMood:"B"}},{character:{name:"Haruna (Sportswear)",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Back",role:"Healer",squadType:"Special",weaponType:"SR",profile:"Enrolled at Gehenna Academy, the club president of the Gourmet Research Society, Haruna changed into gym clothes for the grand athletic festival. Her quest for gourmet food continues anytime and anywhere, and so she wanders around in search of delicacies that can only be tasted at Kivotos's biggest athletic festival, Kivotos Kourin Taisai. Surrounded by all the excitements of the event, Haruna seems to be enjoying herself even more than usual."},info:{club:"Gourmet Research Society",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/e/e1/Lobbyillust_Haruna_%28Sportswear%29.png/180px-Lobbyillust_Haruna_%28Sportswear%29.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Hina (Dress)",baseStar:3,armorType:"Elastic",bulletType:"Explosive",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"MG",profile:"The president of the Disciplinary committee of Gehenna changed into a dress to participate in the party. She'd normally avoid going, but Hina heard that Sensei was looking forward to the Gehenna party, so she's a little more excited than usual. Since the day she decided to perform in front the audience, she has been working harder than usual to practice the piano, which she is not that good at."},info:{club:"Prefect Team",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/0/0b/Lobbyillust_Hina_%28Dress%29.png/180px-Lobbyillust_Hina_%28Dress%29.png"},stat:{streetMood:"C",outdoorMood:"A",indoorMood:"S"}},{character:{name:"Ibuki",baseStar:1,armorType:"Heavy",bulletType:"Mystic",position:"Middle",role:"Support",squadType:"Striker",weaponType:"AR",profile:"A student from Gehenna Academy, member of the Pandemonium Society, and a mascot-like girl.  She was originally a student of Gehenna Academy's elementary school, but Ibuki's ability was recognized and she joined Gehenna's 'Pandemonium Society', which only the best students can enter. Being the youngest member of the Pandemonium Society, she is loved by everyone for her earnest cuteness. She is a well-behaved girl who works diligently so as not to cause trouble for her seniors."},info:{club:"Pandemonium Society",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/1/1f/Lobbyillust_Ibuki.png/180px-Lobbyillust_Ibuki.png"},stat:{streetMood:"C",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Ichika",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Middle",role:"Attacker",squadType:"Striker",weaponType:"AR",profile:"A member of the Justice Actualization Committee of Trinity Academy, Ichika always has a calm expression on her face. As a member of the Justice Actualization Committee, she is primarily in charge of mediation between students. Ichika maintains coirdial relationships with other schools as well. Her amiable personality should not be mistaken for something innate, it is a conscious result of continuous work."},info:{club:"Justice Task Force",school:"Trinity"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/e/e0/Lobbyillust_Ichika.png/180px-Lobbyillust_Ichika.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Kasumi",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Middle",role:"Attacker",squadType:"Striker",weaponType:"HG",profile:"A student of Gehenna Academy, and manager of its Hot Springs Development Department. Kasumi insists that any land with a natural spring must be developed into a hot spring, and once a suitable location has been found she will do whatever it takes to blast through the ground with complete disregard for the surroundings.  Although she enjoys full support from fellow club members, her language and actions are those of a wanted criminal."},info:{club:"Hot Springs Development Department",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/0/0d/Lobbyillust_Kasumi.png/180px-Lobbyillust_Kasumi.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Kikyou",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Back",role:"Support",squadType:"Striker",weaponType:"SR",profile:"Kikyou is a member of the Hyakkiyako Academy and the operational staff member of the Hyakkaryouran Dispute Mediation Committee. She deeply values common sense, logic, and reason.  As a staff strategist, she pursues victory, but what she values even more is the safety of her allies. Despite the ruthless impression, she is a kind and caring person."},info:{club:"Hyakkaryouran",school:"Allied Hyakkiyako Academy"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/7/79/Lobbyillust_Kikyou.png/180px-Lobbyillust_Kikyou.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Kotama (Camp)",baseStar:3,armorType:"Heavy",bulletType:"Penetration",position:"Middle",role:"Support",squadType:"Striker",weaponType:"HG",profile:"Veritas member that's dressed warmly for the chilly winter. Although she didn't feel like going out, Kotama took it as a opportunity to record ambient sounds that would normally be difficult to acquire. She if fond of all the sounds that can be recorded in natural environments, but her favorite is definitely the Sensei's voice."},info:{club:"Veritas",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/c/cf/Lobbyillust_Kotama_%28Camping%29.png/180px-Lobbyillust_Kotama_%28Camping%29.png"},stat:{streetMood:"B",outdoorMood:"S",indoorMood:"C"}},{character:{name:"Kotori (Cheerleader)",baseStar:3,armorType:"Special",bulletType:"Explosive",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"MG",profile:"A member of the Millennium Science Schools' Engineering Club, this time Kotori is wearing a cheerleader uniform to cheer everyone on during the grand athletic festival. While cheering in a spirited and upbeat voice, she still never fails to provide the usual helpful explanations and commentaries."},info:{club:"Engineering Club",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/5/58/Lobbyillust_Kotori_%28Cheerleader%29.png/180px-Lobbyillust_Kotori_%28Cheerleader%29.png"},stat:{streetMood:"C",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Makoto",baseStar:3,armorType:"Special",bulletType:"Penetration",position:"Back",role:"Attacker",squadType:"Special",weaponType:"SR",profile:"Chairman of the Gehenna Academy's Pandemonium Society. Makoto is an ambitious schemer who is willing to follow her desires and do anything to get what she wants. Although her attitude often causes Makoto to suffer and fail, she is a strong-willed girl who quickly recovers. She loves Ibuki like a younger sister, and also treats Iroha like one as well."},info:{club:"Pandemonium Society",school:"Gehenna"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/f/ff/Lobbyillust_Makoto.png/180px-Lobbyillust_Makoto.png"},stat:{streetMood:"C",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Renge",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"SR",profile:"Renge is a member of the Hyakkiyako Academy and the head of the Hyakkaryouran Dispute Mediation Committee. She has a strong sense of justice and is very compassionate. While Renge cares deeply for her juniors, she is also known by them to be a very strict and uncompromising instructor. She has no regrets about joining Hyakkaryouran, but Renge is concerned that she is missing out on enjoying her youth to its fullest. Perhaps as a reaction to this, she is pursuing the kind of adolescence that is depicted in manga and novels, pushing forward with her training, filled with excitement at the prospect of meeting her destiny."},info:{club:"Hyakkaryouran",school:"Allied Hyakkiyako Academy"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/8/85/Lobbyillust_Renge.png/180px-Lobbyillust_Renge.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Yukari",baseStar:3,armorType:"Heavy",bulletType:"Sonic",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"SR",profile:"A first-year member of the Hyakkiyako Alliance Academy and the Hyakkaryouran Dispute Mediation Committee. Yukari is the heiress of the venerable Kadenokouji family. However, rather than inheriting the family business, she decided to pursue her dream of joining Hyakkaryoran. She takes pride in being a member of Hyakkaryouran and has a lot of energy. Although she sometimes falters, she has the strength of character to recover quickly. She respects her seniors, and especially admires Nagusa among them."},info:{club:"Hyakkaryouran",school:"Hyakkiyako"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/d/d0/Lobbyillust_Yukari.png/180px-Lobbyillust_Yukari.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"C"}},{character:{name:"Shigure (Hot Spring)",baseStar:3,armorType:"Special",bulletType:"Penetration",position:"Back",role:"Healer",squadType:"Special",weaponType:"GL",profile:"A suspended student of the Red Winter Federation Academy, Shigure is presently assigned to the Special Class No. 227 whose students run Hot Spring Resort No. 227. After hot spring suddenly burst up on the old school building grounds, Shigure and Nodoka decided to operate a hot spring village resort. Unlike Nodoka, she doesn't seem interested in making the hot spring village prosperous, Shigure seems satisfied with the environment where she could make a variety of drinks and sweets."},info:{club:"Spec Ops No. 227",school:"Red Winter Federal Academy"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/7/77/Lobbyillust_Shigure_%28Hot_Spring%29.png/180px-Lobbyillust_Shigure_%28Hot_Spring%29.png"},stat:{streetMood:"B",outdoorMood:"C",indoorMood:"S"}},{character:{name:"Neru (Bunny Girl)",baseStar:3,armorType:"Heavy",bulletType:"Explosive",position:"Front",role:"Tank",squadType:"Striker",weaponType:"SMG",profile:"The leader of the secret organization 'C&C' of Millennium Science School, who for the purpose of her mission has changed into a bunny girl outfit. While it certainly has the appearance of something that Neru would never wear, if it's for a mission it can't be helped. Despite regularly enduring various circumstances as part of her mission, it seems that her jacket is one thing Neru simply won't part with."},info:{club:"Clean & Clearing",school:"Millennium"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/e/e7/Lobbyillust_Neru_%28Bunny_Girl%29.png/180px-Lobbyillust_Neru_%28Bunny_Girl%29.png"},stat:{streetMood:"B",outdoorMood:"S",indoorMood:"C"}},{character:{name:"Karin (Bunny Girl)",baseStar:3,armorType:"Heavy",bulletType:"Mystic",position:"Back",role:"Attack",squadType:"Striker",weaponType:"SR",profile:"An agent of Millennium Science School's secret society 'C&C', who this time finds herself directly taking part at the forefront of the operation. There's an air of excitement around Karin as she puts on her bunny girl costume, despite her saying it's only for the sake of her mission. The increase in glances from those around her naturally make her feel a little uneasy, however."},info:{club:"Clean & Clearing",school:"Millennium"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/0/0c/Lobbyillust_Karin_%28Bunny_Girl%29.png/180px-Lobbyillust_Karin_%28Bunny_Girl%29.png"},stat:{streetMood:"C",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Asuna (Bunny Girl)",baseStar:3,armorType:"Light",bulletType:"Mystic",position:"Middle",role:"Support",squadType:"Striker",weaponType:"AR",profile:"An agent of Millennium Science School's secret society 'C&C' who has slipped into a bunny girl costume to order to take part in an infiltration mission.\nAsuna is as hyped up as always, despite not wearing her typical maid outfit. If anything, it could even be said that the new experience in an unfamiliar location is affording her even more enjoyment than usual."},info:{club:"Clean & Clearing",school:"Millennium"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/6/65/Lobbyillust_Asuna_%28Bunny_Girl%29.png/180px-Lobbyillust_Asuna_%28Bunny_Girl%29.png"},stat:{streetMood:"C",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Akane (Bunny Girl)",baseStar:3,armorType:"Heavy",bulletType:"Mystic",position:"Back",role:"Attacker",squadType:"Special",weaponType:"HG",profile:"A member of the Millennium Science School, and an agent of 'C&C', Akane changed into a bunny girl outfit for an infiltration mission. vEven in an unfamiliar environment, she can be seen calmly carrying out her mission, taking the initiative in preparing her bunny outfit and clearing obstacles by detonating C4. She seems excited by her unusual attire, occasinaly flashing a mischievous smile."},info:{club:"Clean & Clearing",school:"Millennium"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/1/13/Lobbyillust_Akane_%28Bunny_Girl%29.png/180px-Lobbyillust_Akane_%28Bunny_Girl%29.png"},stat:{streetMood:"B",outdoorMood:"C",indoorMood:"S"}},{character:{name:"Misaka Mikoto",baseStar:3,armorType:"Heavy",bulletType:"Penetration",position:"Middle",role:"Attacker",squadType:"Striker",weaponType:"AR",profile:"A junior student at Tokiwadai Middle School, Misaka Mikoto is one of only seven top Level 5 psychics across the entire Academy City. Her superpower is 'Electromaster', which allows her to freely manipulate powerful electrical currents. However, since her transfer to Kivotos she seems to have trouble using her abilities to their full potential. Mikoto has a kind-hearted and frank character, and is well-liked by other students. She is a fan of the frog mascot Gekota."},info:{club:"Collab Characters",school:"Tokiwadai"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/b/b3/Lobbyillust_Misaka_Mikoto.png/180px-Lobbyillust_Misaka_Mikoto.png"},stat:{streetMood:"C",outdoorMood:"S",indoorMood:"B"}},{character:{name:"Shokuhou Misaki",baseStar:3,armorType:"Heavy",bulletType:"Explosive",position:"Middle",role:"Support",squadType:"Striker",weaponType:"HG",profile:"An elegant junior student from Tokiwadai Middle School. She is a prominent leader of the largest faction at the prestigious Tokiwadai School, and is one of only seven Level 5 psychics in Academy City. Her superpower is 'Mental Out', which allows her to manipulate the minds of others. However, since her transfer to Kivotos Misaki seems to have trouble using her abilities to their full potential. Misaki has something of a rivalry with a fellow Level 5 psychic, Misaka Mikoto, whose power conflicts with her own abilities."},info:{club:"Tokiwadai",school:"Collab Characters"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/2/2d/Lobbyillust_Shokuhou_Misaki.png/180px-Lobbyillust_Shokuhou_Misaki.png"},stat:{streetMood:"S",outdoorMood:"C",indoorMood:"C"}},{character:{name:"Toki (Bunny Girl)",baseStar:3,armorType:"Light",bulletType:"Explosive",position:"Middle",role:"Attacker",squadType:"Striker",weaponType:"AR",profile:"An agent of the secret 'C&C' agency from Millennium Science School, Toki believes bunny girl clothes to be a good fit for infiltration operations. She seems to be a little more excited than usual, having been assigned to an undercover mission, something she didn't get much chance to do before. Toki seems to be pleased to get the chance to do the same mission as C&C seniors, but tries to maintain a calm professional demeanor."},info:{club:"Clean & Clearing",school:"Millennium"},image:{lobby:"//static.miraheze.org/bluearchivewiki/thumb/c/c2/Lobbyillust_Toki_%28Bunny_Girl%29.png/180px-Lobbyillust_Toki_%28Bunny_Girl%29.png"},stat:{streetMood:"B",outdoorMood:"S",indoorMood:"C"}},{character:{name:"Saten Ruiko",baseStar:3,armorType:"Special",bulletType:"Penetration",position:"Back",role:"Attacker",squadType:"Special",weaponType:"SMG",profile:"A cheerful junior student from Sakugawa Middle School. She is best friends with a classmate Uiharu Kazari, who introduced Ruiko to Misaka Mikoto, her senior at Tokiwadai Middle School. Although she is a Level 0 with no special powers, Ruiko has good intuition and often finds crucial clues others would miss. Her favorite things are urban legends and sweets. On her days off, she often goes out to try out new desserts."},info:{club:"Collab Characters",school:"Sakugawa"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/f/f0/Lobbyillust_Saten_Ruiko.png/180px-Lobbyillust_Saten_Ruiko.png"},stat:{streetMood:"C",outdoorMood:"S",indoorMood:"B"}},{character:{name:"Hasumi (Sportswear)",baseStar:1,armorType:"Special",bulletType:"Mystic",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"SR",profile:"Enrolled at Trinity General School, the vice-chairman of the Justice Actualization Committee changed into gym clothes for the Kourin Taisai Festival. She was assigned to replace Tsurugi, who was unfamiliar with external affairs, as a member of the executive committee. Despite the exuberant atmosphere at the venue, Hasumi has been trying to calmly fulfill her duties as a committee member, but the unending cavalcades of delinquent students and the sweet temptations wafting from the food stalls are making the job harder."},info:{club:"Justice Task Force",school:"Trinity"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/1/12/Lobbyillust_Hasumi_%28Sportswear%29.png/180px-Lobbyillust_Hasumi_%28Sportswear%29.png"},stat:{streetMood:"B",outdoorMood:"C",indoorMood:"A"}},{character:{name:"Yuuka (Sportswear)",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Front",role:"Tank",squadType:"Striker",weaponType:"SMG",profile:"A member of the Millennium Science School, Seminar's treasurer changed into gym clothes for the Kourin Taisai Festival. Although she had been occupied with hard work preparing for the big event hosted by Millennium, she is currently in excellent shape, having rested well only the day before the opening of the festival, thanks to the consideration of other students. Yuuka, an officer of the student council of the host school and a member of the executive committee, tried to approach the competition rationally, but the passion for victory over the other participating schools seems to stimulate her competitive spirit."},info:{club:"Seminar",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/6/60/Lobbyillust_Yuuka_%28Sportswear%29.png/180px-Lobbyillust_Yuuka_%28Sportswear%29.png"},stat:{streetMood:"B",outdoorMood:"D",indoorMood:"S"}},{character:{name:"Arisu",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"RG",profile:"Student of Millennium and member of the Game development club. She was found sleeping inside some ruins. Everything about her is unknown, including her age. Currently, she enjoys playing videogames with Momoi, Midori and Yuzu and has become a serious game maniac. Because she picks up lines from retro games, her speech tends to be hesitant and unnatural."},info:{club:"Game Development Department",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/4/40/Lobbyillust_Arisu.png/180px-Lobbyillust_Arisu.png"},stat:{streetMood:"B",outdoorMood:"D",indoorMood:"S"}},{character:{name:"Arisu (Maid)",baseStar:3,armorType:"Light",bulletType:"Mystic",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"RG",profile:"A member of the Game development club from Millennium Science School, Arisu decided to wear a maid outfit for various reasons. Although she's still not used to wearing maid clothes, she seems to be training every day to level up and become a full-fledged maid hero."},info:{club:"Game Development Department",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/b/b4/Lobbyillust_Arisu_%28Maid%29.png/180px-Lobbyillust_Arisu_%28Maid%29.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"D"}},{character:{name:"Shun (Kid)",baseStar:3,armorType:"Light",bulletType:"Explosive",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"SR",profile:"The instructor of Shanhaijing Senior High School's disciplinary support club 'Meihua Yuan', whose body has reverted to that of a little girl after taking Saya's medicine. Since it was only her body that reverted, it's business as usual...or so Shun would've liked, but for some reason her mind has the tendency to instinctively follow, as if being drawn by her young body."},info:{club:"Plum Blossom Garden",school:"Shanhaijing"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/9/9d/Lobbyillust_Shun_%28Kid%29.png/180px-Lobbyillust_Shun_%28Kid%29.png"},stat:{streetMood:"S",outdoorMood:"D",indoorMood:"B"}},{character:{name:"Hibiki (Cheerleader)",baseStar:3,armorType:"Light",bulletType:"Explosive",position:"Back",role:"Attacker",squadType:"Striker",weaponType:"MT",profile:"A member of the engineering club dressed in a cheerleader costume for the grand athletic festival. Using the sewing skills that she has cultivated through her usual cosplay hobby, she made the costumes worn by the engineers. Hibiki seems to be a little worried about her skirt length, probably because she reused the one she made a long time ago."},info:{club:"Engineering Club",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/f/f4/Lobbyillust_Hibiki_%28Cheerleader%29.png/180px-Lobbyillust_Hibiki_%28Cheerleader%29.png"},stat:{streetMood:"B",outdoorMood:"C",indoorMood:"A"}},{character:{name:"Utaha (Cheerleader)",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Front",role:"Attacker",squadType:"Striker",weaponType:"SMG",profile:"The club leader of the Engineering Club dressed in the cheerleader costume for the grand athletic festival. Although she was hastily drafted for the cheerleader role, like a meister who does her best, her passion burns hotter than any other cheering squad member. With that overabundance of passion, she sometimes forgets her original task..."},info:{club:"Engineering Club",school:"Millennium"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/9/97/Lobbyillust_Utaha_%28Cheerleader%29.png/180px-Lobbyillust_Utaha_%28Cheerleader%29.png"},stat:{streetMood:"D",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Aru (Dress)",baseStar:3,armorType:"Heavy",bulletType:"Penetration",position:"Back",role:"Support",squadType:"Striker",weaponType:"SR",profile:"The president of Problem Solver 68 and a student of Gehenna Academy, who accepted the request for an infiltration mission. She doesn't get to show off in dresses often, but she wears them perfectly. Aru is absolutely thrilled to be offered such a hard-boiled job, but she tries to keep a straight face."},info:{club:"Problem Solver 68",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/1/12/Lobbyillust_Aru_%28Dress%29.png/180px-Lobbyillust_Aru_%28Dress%29.png"},stat:{streetMood:"D",outdoorMood:"B",indoorMood:"S"}},{character:{name:"Kayoko (Dress)",baseStar:3,armorType:"Light",bulletType:"Penetration",position:"Middle",role:"Attacker",squadType:"Striker",weaponType:"HG",profile:"Section Chief of Problem Solver 68 and student of Gehenna Academy, currently infiltrating an Opera House. Kayoko claims to be unaccustomed to wearing such clothes, but you wouldn't be able to tell it looking at her. She pays no attention to gazes of those around and just calmly goes about with her work."},info:{club:"Problem Solver 68",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/5/59/Lobbyillust_Kayoko_%28Dress%29.png/180px-Lobbyillust_Kayoko_%28Dress%29.png"},stat:{streetMood:"S",outdoorMood:"B",indoorMood:"D"}},{character:{name:"Mari (Sportswear)",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Middle",role:"Healer",squadType:"Striker",weaponType:"HG",profile:"A student of Trinity Integrated Academy, and a member of the Sisterhood, Mari changed into gym clothes to participate in the Kourin Taisai Festival. She volunteered to work as a committee member for the festival that was supposed to promote peace in Kivothos, only to find out that there was constant conflict and trouble. This, coupled with her kind nature which makes her unable to leave others in peril, seems to keep Marie involved in all sorts of disputes."},info:{club:"Sisterhood",school:"Trinity"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/2/25/Lobbyillust_Mari_%28Sportswear%29.png/180px-Lobbyillust_Mari_%28Sportswear%29.png"},stat:{streetMood:"B",outdoorMood:"D",indoorMood:"S"}},{character:{name:"Akari (New Year)",baseStar:3,armorType:"Special",bulletType:"Mystic",position:"Back",role:"Support",squadType:"Support",weaponType:"AR",profile:"Akari from Gehenna Academys' Gourmet Research Society changed into a kimono to welcome the new year. She's smiling as usual, but she also seems a little flustered. Is she excited about the new year, or..."},info:{club:"Gourmet Research Society",school:"Gehenna"},image:{lobby:"https://static.miraheze.org/bluearchivewiki/thumb/6/64/Lobbyillust_Akari_%28New_Year%29.png/180px-Lobbyillust_Akari_%28New_Year%29.png"},stat:{streetMood:"B",outdoorMood:"S",indoorMood:"D"}}],Ey=()=>{(0,t.useEffect)((()=>{const e=localStorage.getItem("characters");e?n(JSON.parse(e).map((e=>({...e,clicked:!1})))):console.log("How are you here?"),localStorage.setItem("page","profiles")}),[]);const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!0),[h,d]=(0,t.useState)(!1),p=t=>{i(e.filter((e=>e.name.toLowerCase().includes(t)))),s("")};return(0,gy.jsxs)("div",{className:"Search",children:[(0,gy.jsx)("h1",{}),!0===c&&(0,gy.jsxs)("div",{className:"banner-search-container",children:[(0,gy.jsx)("p",{className:"search-prompt",children:"Search a name and click an icon to view more details about the unit"}),(0,gy.jsx)("input",{value:a,onChange:e=>{s(e.target.value),console.log(a)},onKeyDown:e=>{"Enter"===e.key&&p(a.toLowerCase())},className:"search-input",placeholder:"e.g. Saori..."}),(0,gy.jsx)("button",{onClick:()=>{p(a.toLowerCase())},className:"search-button",children:"Search"})]}),(0,gy.jsx)("h1",{}),r.length>0&&!0===c&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsx)("div",{className:"characters-container",children:!0===c&&r.map((e=>(0,gy.jsxs)("div",{children:[(0,gy.jsx)("button",{className:e.clicked?"character-button-clicked":"character-button-unclicked",onClick:()=>{var t;t=e.name,fetch("https://api.ennead.cc/buruaka/character/".concat(t)).then((e=>{if(e.ok)return e.json().then((e=>{l(e)}));if(_y.map((e=>e.character.name)).includes(t)){const e=_y.findIndex((e=>e.character.name===t));l(_y[e])}else console.log("This character does not currently exist")})),u(!1)},children:(0,gy.jsx)("img",{src:e.photoUrl,className:"collection-character-image"})}),(0,gy.jsx)("p",{className:"character-name-unclicked",children:e.name})]})))})}),0==c&&0===r.length&&(0,gy.jsx)("p",{className:"text",children:"No results found..."}),!1===c&&(0,gy.jsx)("button",{className:"search-button",onClick:()=>{u(!0),d(!1)},children:"Return"}),(0,gy.jsx)("h1",{}),null!==o&&!1===c&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("div",{className:"profile-container",children:[(0,gy.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,gy.jsx)("p",{children:"Memolobby:"}),(0,gy.jsx)("div",{className:"centered-container",children:!0===h&&(0,gy.jsx)("img",{src:o.image.lobby,width:"150vw"})}),(0,gy.jsx)("button",{onClick:()=>{d(!h)},className:"profile-button",children:"Click to view Memolobby preview"})]}),(0,gy.jsxs)("p",{style:{paddingTop:"20px",color:"rgb(68, 129, 195)"},children:["Name: ",o.character.name]}),(0,gy.jsxs)("p",{className:"profile-text",children:["School:",o.info.school,"Gehenna"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/bd/Gehenna.png/50px-Gehenna.png"}),"Abydos"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/91/Abydos.png/50px-Abydos.png"}),"Arius"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/93/Arius.png/50px-Arius.png"}),"Trinity"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/9c/Trinity.png/50px-Trinity.png"}),"Millennium"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/2/2a/Millennium.png/50px-Millennium.png"}),"SRT"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/5/5a/SRT.png/50px-SRT.png"}),"Valkyrie"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/d/d5/Valkyrie.png/50px-Valkyrie.png"}),"Shanhaijing"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/be/Shanhaijing.png/50px-Shanhaijing.png"}),"Hyakkiyako"==o.info.school&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/3/36/Hyakkiyako.png/50px-Hyakkiyako.png"}),("RedWinter"==o.info.school||"Red Winter"==o.info.school)&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/8/8b/Red_Winter.png/50px-Red_Winter.png"})]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Club:",o.info.club]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Base Star: ",o.character.baseStar]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Armor Type: ",o.character.armorType]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Damage Type: ",o.character.bulletType]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Squad: ",o.character.squadType]}),(0,gy.jsxs)("p",{className:"profile-text",children:["Role: ",o.character.role]}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("p",{className:"profile-text",children:["Profile: ",o.character.profile]})}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{children:[(0,gy.jsx)("th",{className:"profile-text",children:"Street mood"}),(0,gy.jsx)("th",{className:"profile-text",children:"Outdoor mood"}),(0,gy.jsx)("th",{className:"profile-text",children:"Indoor mood"}),(0,gy.jsxs)("tr",{children:[(0,gy.jsxs)("td",{className:"profile-text",children:["S"===o.stat.streetMood&&(0,gy.jsx)("p",{children:"S"}),"A"===o.stat.streetMood&&(0,gy.jsx)("p",{children:"A"}),"B"===o.stat.streetMood&&(0,gy.jsx)("p",{children:"B"}),"C"===o.stat.streetMood&&(0,gy.jsx)("p",{children:"C"}),"D"===o.stat.streetMood&&(0,gy.jsx)("p",{children:"D"})]}),(0,gy.jsxs)("td",{className:"profile-text",children:["S"===o.stat.outdoorMood&&(0,gy.jsx)("p",{children:"S"}),"A"===o.stat.outdoorMood&&(0,gy.jsx)("p",{children:"A"}),"B"===o.stat.outdoorMood&&(0,gy.jsx)("p",{children:"B"}),"C"===o.stat.outdoorMood&&(0,gy.jsx)("p",{children:"C"}),"D"===o.stat.outdoorMood&&(0,gy.jsx)("p",{children:"D"})]}),(0,gy.jsxs)("td",{className:"profile-text",children:["S"===o.stat.indoorMood&&(0,gy.jsx)("p",{children:"S"}),"A"===o.stat.indoorMood&&(0,gy.jsx)("p",{children:"A"}),"B"===o.stat.indoorMood&&(0,gy.jsx)("p",{children:"B"}),"C"===o.stat.indoorMood&&(0,gy.jsx)("p",{children:"C"}),"D"===o.stat.indoorMood&&(0,gy.jsx)("p",{children:"D"})]})]})]})})]})}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsx)("p",{className:"citation",children:"API: https://api.ennead.cc/buruaka/character/ "})}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsx)("p",{className:"citation",children:"Memolobby icons: https://bluearchive.wiki/wiki/Memorial_Lobby"})})]})},Ay=e=>{let{handleFilterBySchool:n,handlePulled:r,handleNotPulled:i,handleFilterByDmg:a,setShowAll:s}=e;const[o,l]=(0,t.useState)({b1State:!1,b2State:!1,b3State:!1,b4State:!1,b5State:!1,b6State:!1,b7State:!1,b8State:!1,b9State:!1,b10State:!1,b11State:!1,b12State:!1,b13State:!1,b14State:!1,b15State:!1,b16State:!1});return(0,gy.jsxs)("div",{children:[(0,gy.jsxs)("div",{className:"school-filter-container",children:[(0,gy.jsx)("button",{onClick:()=>{n("Abydos"),l({...o,b1State:!o.b1State}),console.log(localStorage.getItem("confirmVisible"))},className:o.b1State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/91/Abydos.png/50px-Abydos.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Arius"),l({...o,b2State:!o.b2State})},className:o.b2State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/93/Arius.png/50px-Arius.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Gehenna"),l({...o,b3State:!o.b3State})},className:o.b3State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/bd/Gehenna.png/50px-Gehenna.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Hyakkiyako"),l({...o,b4State:!o.b4State})},className:o.b4State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/3/36/Hyakkiyako.png/50px-Hyakkiyako.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Millennium"),l({...o,b5State:!o.b5State})},className:o.b5State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/2/2a/Millennium.png/50px-Millennium.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Red Winter"),l({...o,b6State:!o.b6State})},className:o.b6State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/8/8b/Red_Winter.png/50px-Red_Winter.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Shanhaijing"),l({...o,b7State:!o.b7State})},className:o.b7State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/be/Shanhaijing.png/50px-Shanhaijing.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("SRT"),l({...o,b8State:!o.b8State})},className:o.b8State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/5/5a/SRT.png/50px-SRT.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Trinity"),l({...o,b9State:!o.b9State})},className:o.b9State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/9c/Trinity.png/50px-Trinity.png"})}),(0,gy.jsx)("button",{onClick:()=>{n("Valkyrie"),l({...o,b10State:!o.b10State})},className:o.b10State?"school-filter-button-clicked":"school-filter-button-unclicked",children:(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/d/d5/Valkyrie.png/50px-Valkyrie.png"})})]}),(0,gy.jsxs)("div",{style:{paddingTop:"15px"},children:[(0,gy.jsx)("button",{onClick:()=>{a("Explosive"),l({...o,b12State:!o.b12State})},className:o.b12State?"explosive-clicked":"explosive-unclicked",children:"EXPLOSIVE"}),(0,gy.jsx)("button",{onClick:()=>{a("Penetration"),l({...o,b13State:!o.b13State})},className:o.b13State?"piercing-clicked":"piercing-unclicked",children:"PIERCING"}),(0,gy.jsx)("button",{onClick:()=>{a("Mystic"),l({...o,b14State:!o.b14State})},className:o.b14State?"mystic-clicked":"mystic-unclicked",children:"MYSTIC"}),(0,gy.jsx)("button",{onClick:()=>{a("Sonic"),l({...o,b15State:!o.b15State})},className:o.b15State?"sonic-clicked":"sonic-unclicked",children:"SONIC"}),(0,gy.jsx)("button",{className:o.b11State?"owned-filter-button-clicked":"owned-filter-button-unclicked",onClick:()=>{r(),l({...o,b11State:!o.b11State}),1==o.b16State&&l({...o,b16State:!1,b11State:!o.b11State})},children:"Owned"}),(0,gy.jsx)("button",{className:o.b16State?"owned-filter-button-clicked":"owned-filter-button-unclicked",onClick:()=>{i(),l({...o,b16State:!o.b16State}),1==o.b11State&&l({...o,b11State:!1,b16State:!o.b16State})},children:"Not Owned"}),(0,gy.jsx)("button",{className:"school-filter-button-unclicked",onClick:()=>{s(!0),l({b1State:!1,b2State:!1,b3State:!1,b4State:!1,b5State:!1,b6State:!1,b7State:!1,b8State:!1,b9State:!1,b10State:!1,b11State:!1})},children:"Show all"})]})]})},Cy=[{_id:"45t3et5rye4a",name:"Serina (Christmas)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/19/Serina_%28Christmas%29.png",damageType:"Penetration",clicked:!1},{_id:"6453e89ad",name:"Hanae (Christmas)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/1a/Hanae_%28Christmas%29.png",damageType:"Mystic",clicked:!1},{_id:"89y546rt",name:"Fuuka (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/13/Fuuka_%28New_Year%29.png",damageType:"Penetration",clicked:!1},{_id:"hi645wj",name:"Haruna (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/b/b3/Haruna_%28New_Year%29.png",damageType:"Explosive",clicked:!1},{_id:"yt6ihfj5rgkuv",name:"Mine",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/a/a0/Mine.png",damageType:"Explosive",clicked:!1},{_id:"tgdcfuhrvj",name:"Mika",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/c/c8/Mika.png",damageType:"Penetration",clicked:!1},{_id:"ftughkrvyj",name:"Megu",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/d4/Megu.png",damageType:"Explosive",clicked:!1},{_id:"cgvfdjh",name:"Kanna",school:"Valkyrie",photoUrl:"https://static.miraheze.org/bluearchivewiki/4/47/Kanna.png",damageType:"Penetration",clicked:!1},{_id:"klbvuytghj",name:"Sakurako",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/f/f0/Sakurako.png",damageType:"Mystic",clicked:!1},{_id:"kgio67yt",name:"Nagisa",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/6a/Nagisa.png",damageType:"Explosive",clicked:!1},{_id:"y564cve",name:"Toki",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/e/e4/Toki.png",damageType:"Explosive",clicked:!1},{_id:"y4tci7b6t",name:"Koyuki",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/a/af/Koyuki.png",damageType:"Mystic",clicked:!1},{_id:"v46yevde",name:"Kayoko (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/0/0d/Kayoko_%28New_Year%29.png",damageType:"Mystic",clicked:!1},{_id:"6v5ur65v7",name:"Haruka (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/d9/Haruka_%28New_Year%29.png",damageType:"Explosive",clicked:!1},{_id:"756bub567",name:"Kaho",school:"Hyakkiyako",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/63/Kaho.png",damageType:"Mystic",clicked:!1},{_id:"c6534gre",name:"Arisu (Maid)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/b/b4/Arisu_%28Maid%29.png",damageType:"Mystic",clicked:!1},{_id:"6ub56b57v",name:"Toki (Bunny Girl)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/8/83/Toki_%28Bunny_Girl%29.png",damageType:"Explosive",clicked:!1},{_id:"6vu5rd4cv",name:"Reisa",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/3/34/Reisa.png",damageType:"Penetration",clicked:!1},{_id:"6y5vr445v6ghf",name:"Rumi",school:"Shanhaijing",photoUrl:"https://static.miraheze.org/bluearchivewiki/7/7d/Rumi.png",damageType:"Explosive",clicked:!1},{_id:"gi7ybtgi76",name:"Mina",school:"Shanhaijing",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/6b/Mina.png",damageType:"Explosive",clicked:!1},{_id:"j89y7645y45ju89",name:"Minori",school:"Red Winter",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/1a/Minori.png",damageType:"Explosive",clicked:!1},{_id:"j985h6yh465j89",name:"Miyako (Swimsuit)",school:"SRT",photoUrl:"https://static.miraheze.org/bluearchivewiki/9/97/Miyako_%28Swimsuit%29.png",damageType:"Explosive",clicked:!1},{_id:"yh465j987h4j56",name:"Saki (Swimsuit)",school:"SRT",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/13/Saki_%28Swimsuit%29.png",damageType:"Explosive",clicked:!1},{_id:"g58469n7y89g7n5h6y",name:"Shiroko (Swimsuit)",school:"Abydos",photoUrl:"https://static.miraheze.org/bluearchivewiki/4/4e/Shiroko_%28Swimsuit%29.png",damageType:"Mystic",clicked:!1},{_id:"h56807unh3456879ny",name:"Ui (Swimsuit)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/60/Ui_%28Swimsuit%29.png",damageType:"Penetration",clicked:!1},{_id:"8057n3yhu65h687e9n",name:"Hinata (Swimsuit)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/0/08/Hinata_%28Swimsuit%29.png",damageType:"Explosive",clicked:!1},{_id:"8n70h5y47h865n9",name:"Hanako (Swimsuit)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/c/c5/Hanako_%28Swimsuit%29.png",damageType:"Sonic",clicked:!1},{_id:"85967hun78nh6594",name:"Mimori (Swimsuit)",school:"Hyakkiyako",photoUrl:"https://static.miraheze.org/bluearchivewiki/2/22/Mimori_%28Swimsuit%29.png",damageType:"Mystic",clicked:!1},{_id:"653hg897nyh98g756n",name:"Meru",school:"Red Winter",photoUrl:"https://static.miraheze.org/bluearchivewiki/4/4f/Meru.png",damageType:"Penetration",clicked:!1},{_id:"bn6785uy9b87n695y",name:"Kotori (Cheerleader)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/8/89/Kotori_%28Cheerleader%29.png",damageType:"Explosive",clicked:!1},{_id:"453y68hn97nb879456",name:"Haruna (Sportswear)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/a/af/Haruna_%28Sportswear%29.png",damageType:"Sonic",clicked:!1},{_id:"6h547908mun87nh6",name:"Ichika",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/b/b3/Ichika.png",damageType:"Sonic",clicked:!1},{_id:"8n9756hy8h57e96n",name:"Kasumi",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/6b/Kasumi.png",damageType:"Sonic",clicked:!1},{_id:"0897jug45879g45nf",name:"Shigure (Hot Spring)",school:"Red Winter",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/da/Shigure_%28Hot_Spring%29.png",damageType:"Penetration",clicked:!1},{_id:"980675hum789nh56u",name:"Misaka Mikoto",school:"Collab",photoUrl:"https://static.miraheze.org/bluearchivewiki/7/76/Misaka_Mikoto.png",damageType:"Penetration",clicked:!1},{_id:"35g496m980456gemj",name:"Shokuhou Misaki",school:"Collab",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/66/Shokuhou_Misaki.png",damageType:"Explosive",clicked:!1},{_id:"g65897ny879nh6g5",name:"Yukari",school:"Hyakkiyako",photoUrl:"https://static.miraheze.org/bluearchivewiki/2/2b/Yukari.png",damageType:"Sonic",clicked:!1},{_id:"5e6j7uj678gdf",name:"Renge",school:"Hyakkiyako",photoUrl:"https://static.miraheze.org/bluearchivewiki/e/e4/Renge.png",damageType:"Sonic",clicked:!1},{_id:"5h67h657g3b4e5",name:"Kikyou",school:"Hyakkiyako",photoUrl:"https://static.miraheze.org/bluearchivewiki/6/62/Kikyou.png",damageType:"Sonic",clicked:!1},{_id:"uh36576745jhu675hj",name:"Eimi (Swimsuit)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/c/ce/Eimi_%28Swimsuit%29.png",damageType:"Mystic",clicked:!1},{_id:"5k789567ji8j6",name:"Hare (Camp)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/a/a2/Hare_%28Camping%29.png",damageType:"Explosive",clicked:!1},{_id:"46j78hu567e65h4e",name:"Kotama (Camp)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/19/Kotama_%28Camping%29.png",damageType:"Penetration",clicked:!1},{_id:"6j7r86j57h65j",name:"Ako (Dress)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/f/fc/Ako_%28Dress%29.png",damageType:"Explosive",clicked:!1},{_id:"ej6tuje6576j75e",name:"Makoto",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/2/20/Makoto.png",damageType:"Penetration",clicked:!1},{_id:"4j68746j78j678rj67r",name:"Hina (Dress)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/2/20/Hina_%28Dress%29.png",damageType:"Explosive",clicked:!1},{_id:"6rj7uj6j657",name:"Ibuki",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/7/75/Ibuki.png",damageType:"Mystic",clicked:!1},{_id:"h567h56e7h567e",name:"Koharu (Swimsuit)",school:"Trinity",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/df/Koharu_%28Swimsuit%29.png",damageType:"Mystic",clicked:!1},{_id:"4567j4j56745j67",name:"Miyu (Swimsuit)",school:"SRT",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/d1/Miyu_%28Swimsuit%29.png",damageType:"Explosive",clicked:!1},{_id:"j6786j57j657",name:"Saten Ruiko",school:"Collab",photoUrl:"https://static.miraheze.org/bluearchivewiki/b/b0/Saten_Ruiko.png",damageType:"Penetration",clicked:!1},{_id:"nhghdfngfhgdn",name:"Yuzu (Maid)",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/17/Yuzu_%28Maid%29.png",damageType:"Explosive",clicked:!1},{_id:"576h7j8j67uftndh",name:"Junko (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/d0/Junko_%28New_Year%29.png",damageType:"Mystic",clicked:!1},{_id:"56h7y898n79yh5erfg",name:"Shigure",school:"Red Winter",photoUrl:"https://static.miraheze.org/bluearchivewiki/d/da/Shigure.png",damageType:"Explosive",clicked:!1},{_id:"avtrhartdhadthj",name:"Momiji",school:"Red Winter",photoUrl:"https://static.miraheze.org/bluearchivewiki/5/53/Momiji.png",damageType:"Sonic",clicked:!1},{_id:"8nh7g3287u3mu",name:"Aru (Dress)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/1/1f/Aru_%28Dress%29.png",damageType:"Penetration",clicked:!1},{_id:"a34nh3anm8bjhn35m7",name:"Kayoko (Dress)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/9/9b/Kayoko_%28Dress%29.png",damageType:"Penetration",clicked:!1},{_id:"er5hbyh45ybh4b5y",name:"Akari (New Year)",school:"Gehenna",photoUrl:"https://static.miraheze.org/bluearchivewiki/a/ae/Akari_%28New_Year%29.png",damageType:"Mystic",clicked:!1}],Iy=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]);return[e,n,async()=>{null===fy.currentUser?fetch("https://api-blue-archive.vercel.app/api/characters?page=1&perPage=120").then((e=>e.json())).then((e=>{const t=[...e.data,...Cy].map((e=>({...e,clicked:!1}))).sort(((e,t)=>e.name.localeCompare(t.name))),r=JSON.parse(localStorage.getItem("characters"));r?r.length<t.length?(localStorage.setItem("characters",JSON.stringify(t)),n(t)):n(r):(n(t),localStorage.setItem("characters",JSON.stringify(t)))})):fetch("https://api-blue-archive.vercel.app/api/characters?page=1&perPage=120").then((e=>e.json())).then((async e=>{const t=[...e.data,...Cy].map((e=>({...e,clicked:!1}))).sort(((e,t)=>e.name.localeCompare(t.name))),r=xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s characters")),i=(await ly(r)).get("characters");i.length<t.length?uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s characters")),{characters:t}).then(n(i)):n(i)}))}]},xy=()=>{const[e,n,r]=Iy(),[i,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[d,p]=(0,t.useState)(0),[f,m]=(0,t.useState)(!1),[g,y]=(0,t.useState)(!1),[v,b]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[S,T]=(0,t.useState)(!1),[_]=(()=>{const[e,n]=(0,t.useState)(!1);return[e,n]})();(0,t.useEffect)((()=>{a(!0),r(),localStorage.setItem("page","collection")}),[]),(0,t.useEffect)((()=>{p(1==i?e.filter((e=>!0===e.clicked)):s.filter((e=>!0===e.clicked)))}),[e]),(0,t.useEffect)((()=>{T(!S)}),[fy.currentUser]);const E=async t=>{if(null===fy.currentUser)1==i?n((e=>{const n=e.map((e=>t==e._id?{...e,clicked:!e.clicked}:e));return localStorage.setItem("characters",JSON.stringify(n)),n})):(o((e=>e.map((e=>t==e._id?{...e,clicked:!e.clicked}:e)))),n((e=>{const n=e.map((e=>t==e._id?{...e,clicked:!e.clicked}:e));return localStorage.setItem("characters",JSON.stringify(n)),n})));else if(1==i){const n=e.map((e=>e._id===t?{...e,clicked:!e.clicked}:e));uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s characters")),{characters:n,plannedBanner:[]}),r()}else{o(s.map((e=>e._id===t?{...e,clicked:!e.clicked}:e)));const n=e.map((e=>e._id===t?{...e,clicked:!e.clicked}:e));uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s characters")),{characters:n,plannedBanner:[]}),r()}};return(0,gy.jsx)(gy.Fragment,{children:null!==e&&(0,gy.jsxs)("div",{className:"Collection",children:[null!==fy.currentUser&&(0,gy.jsxs)("p",{className:"text",children:[fy.currentUser.email.slice(0,-9),"'s collection"]}),(0,gy.jsx)(Ay,{handleFilterBySchool:t=>{a(!1),!0===g&&0==v?0==w?l.includes(t)?1===l.length?(c([]),o(e.filter((e=>1==e.clicked))),p(e.filter((e=>1==e.clicked))),m(!1)):(m(!0),c((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>!(!r.includes(e.school)||1!=e.clicked)));return o(i),p(i),r}))):(m(!0),c((n=>{const r=[t,...n],i=e.filter((e=>!(!r.includes(e.school)||1!=e.clicked)));return o(i),p(i),r}))):1==w&&(l.includes(t)?1===l.length?(c([]),o(e.filter((e=>u.includes(e.damageType)&&!0===e.clicked))),p(e.filter((e=>u.includes(e.damageType)&&!0===e.clicked))),m(!1)):(m(!0),c((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>!(!r.includes(e.school)||!u.includes(e.damageType)||1!=e.clicked)));return o(i),p(i.filter((e=>!0===e.clicked))),r}))):(m(!0),c((n=>{const r=[t,...n],i=e.filter((e=>!(!r.includes(e.school)||!u.includes(e.damageType)||1!=e.clicked)));return o(i),p(i.filter((e=>!0===e.clicked))),r})))):1==v&&0==g?0==w?l.includes(t)?1===l.length?(c([]),o(e.filter((e=>0==e.clicked))),p([]),m(!1)):(m(!0),c((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>!(!r.includes(e.school)||0!=e.clicked)));return o(i),p([]),r}))):(m(!0),c((n=>{const r=[t,...n],i=e.filter((e=>!(!r.includes(e.school)||0!=e.clicked)));return o(i),p([]),r}))):1==w&&(l.includes(t)?1===l.length?(c([]),o(e.filter((e=>u.includes(e.damageType)&&!1===e.clicked))),p([]),m(!1)):(m(!0),c((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>!(!r.includes(e.school)||!u.includes(e.damageType)||0!=e.clicked)));return o(i),p([]),r}))):(m(!0),c((n=>{const r=[t,...n],i=e.filter((e=>!(!r.includes(e.school)||!u.includes(e.damageType)||0!=e.clicked)));return o(i),p(i.filter((e=>!0===e.clicked))),r})))):0==g&&0==v&&(0==w?l.includes(t)?1===l.length?(a(!0),c([]),p(e.filter((e=>!0===e.clicked))),m(!1)):(m(!0),c((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>r.includes(e.school)));return o(i),p(i.filter((e=>1==e.clicked))),r}))):(m(!0),c((n=>{const r=[t,...n],i=e.filter((e=>r.includes(e.school)));return o(i),p(i.filter((e=>1==e.clicked))),r}))):1==w&&(l.includes(t)?1==l.length?(m(!1),c([]),o(e.filter((e=>u.includes(e.damageType)))),p(e.filter((e=>u.includes(e.damageType)&&!0===e.clicked)))):(m(!0),c((n=>{const r=n.filter((e=>e!==t));return o(e.filter((e=>r.includes(e.school)&&u.includes(e.damageType)))),p(e.filter((e=>r.includes(e.school)&&u.includes(e.damageType)&&!0===e.clicked))),r}))):c((n=>{const r=[...n,t];return m(!0),o(e.filter((e=>r.includes(e.school)&&u.includes(e.damageType)))),p(e.filter((e=>r.includes(e.school)&&u.includes(e.damageType)&&!0===e.clicked))),r}))))},setShowAll:()=>{a(!0),p(e.filter((e=>!0===e.clicked))),o([]),c([]),h([]),y(!1),b(!1),m(!1),k(!1)},handlePulled:()=>{if(b(!1),0==w&&0==f&&0==g){a(!1),y(!0);const t=e.filter((e=>1==e.clicked));o(t),p(t)}else if(1==f&&0==g&&0==w){y(!0);const t=e.filter((e=>l.includes(e.school)&&1==e.clicked));o(t),p(t)}else if(1==f&&1==g&&0==w){const t=e.filter((e=>l.includes(e.school)));o(t),p(t.filter((e=>1==e.clicked))),y(!1)}else if(1==w&&0==f&&0==g){const t=e.filter((e=>u.includes(e.damageType)&&1==e.clicked));o(t),p(t.filter((e=>1==e.clicked))),y(!0)}else if(1==w&&0==f&&1==g){const t=e.filter((e=>u.includes(e.damageType)));o(t),p(t.filter((e=>1==e.clicked))),y(!1)}else if(1==w&&1==f&&0==g){const t=e.filter((e=>!0===e.clicked&&u.includes(e.damageType)&&l.includes(e.school)));o(t),p(t),y(!0)}else if(1==w&&1==f&&1==g){const t=e.filter((e=>u.includes(e.damageType)&&l.includes(e.school)));o(t),p(t.filter((e=>1==e.clicked))),y(!1)}else 1==g&&0==f&&0==w&&(y(!1),p(s.filter((e=>1==e.clicked))),a(!0))},handleFilterByDmg:t=>{a(!1),1==g&&0==v?0==f?u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),o(e.filter((e=>!0===e.clicked))),p(e.filter((e=>!0===e.clicked)))):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>1==e.clicked&&r.includes(e.damageType)));return o(i),p(i),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>1==e.clicked&&r.includes(e.damageType)));return o(i),p(i),r}))):u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),o(e.filter((e=>!0===e.clicked&&l.includes(e.school)))),p(e.filter((e=>!0===e.clicked&&l.includes(e.school))))):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>1==e.clicked&&r.includes(e.damageType)&&l.includes(e.school)));return o(i),p(i),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>1==e.clicked&&r.includes(e.damageType)&&l.includes(e.school)));return o(i),p(i),r}))):0==g&&1==v?0==f?u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),o(e.filter((e=>!0===e.clicked)))):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>0==e.clicked&&r.includes(e.damageType)));return o(i),p([]),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>0==e.clicked&&r.includes(e.damageType)));return o(i),p([]),r}))):u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),o(e.filter((e=>!1===e.clicked&&l.includes(e.school)))),p([])):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>0==e.clicked&&r.includes(e.damageType)&&l.includes(e.school)));return o(i),p([]),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>0==e.clicked&&r.includes(e.damageType)&&l.includes(e.school)));return o(i),p([]),r}))):0==f?u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),a(!0),p(e.filter((e=>1==e.clicked)))):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>r.includes(e.damageType)));return o(i),p(i.filter((e=>1==e.clicked))),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>r.includes(e.damageType)));return o(i),p(i.filter((e=>1==e.clicked))),r}))):u.includes(t)?u.includes(t)&&(1==u.length?(k(!1),h([]),o(e.filter((e=>l.includes(e.school)))),p(e.filter((e=>1==e.clicked&&l.includes(e.school))))):(k(!0),h((n=>{const r=n.filter((e=>e!==t)),i=e.filter((e=>r.includes(e.damageType)&&l.includes(e.school)));return o(i),p(i.filter((e=>1==e.clicked))),r})))):(k(!0),h((n=>{const r=[t,...n],i=e.filter((e=>r.includes(e.damageType)&&l.includes(e.school)));return o(i),p(i.filter((e=>1==e.clicked))),r})))},handleNotPulled:()=>{if(y(!1),0==w&&0==f&&0==v)a(!1),b(!0),o(e.filter((e=>0==e.clicked))),p([]);else if(1==f&&0==v&&0==w)b(!0),o(e.filter((e=>!(!l.includes(e.school)||0!=e.clicked)))),p([]);else if(1==f&&1==v&&0==w){const t=e.filter((e=>l.includes(e.school)));o(t),p(t.filter((e=>1==e.clicked))),b(!1)}else if(1==w&&0==f&&0==v)o(e.filter((e=>!(!1!==e.clicked||!u.includes(e.damageType))))),p([]),b(!0);else if(1==w&&0==f&&1==v){const t=e.filter((e=>u.includes(e.damageType)));o(t),p(t.filter((e=>!0===e.clicked))),b(!1)}else if(1==w&&1==f&&0==v)o(e.filter((e=>!(!1!==e.clicked||!u.includes(e.damageType)||!l.includes(e.school))))),p([]),b(!0);else if(1==w&&1==f&&1==v){const t=e.filter((e=>u.includes(e.damageType)&&l.includes(e.school)));o(t),p(t.filter((e=>!0===e.clicked))),b(!1)}else 1==v&&0==f&&0==w&&(b(!1),a(!0),p(e.filter((e=>!0===e.clicked))))}}),i&&(0,gy.jsxs)("h2",{style:{color:"white"},children:["Currently owned: ",d.length,"/",e.length]}),!0!==i&&(0,gy.jsxs)("h2",{style:{color:"white"},children:["Currently owned: ",d.length,"/",s.length]}),(0,gy.jsxs)("div",{className:"centered-container",children:[i&&(0,gy.jsx)("div",{className:"characters-container",children:e.map((e=>(0,gy.jsxs)("div",{children:[(0,gy.jsx)("button",{className:e.clicked?"character-button-clicked":"character-button-unclicked",onClick:()=>{E(e._id)},children:(0,gy.jsx)("img",{src:e.photoUrl,className:"collection-character-image"})}),(0,gy.jsx)("p",{className:e.clicked?"character-name-clicked":"character-name-unclicked",children:e.name})]})))}),!0!==i&&s.length>0&&(0,gy.jsx)("div",{className:"characters-container",children:s.map((e=>(0,gy.jsxs)("div",{children:[(0,gy.jsx)("button",{className:e.clicked?"character-button-clicked":"character-button-unclicked",onClick:()=>{E(e._id)},children:(0,gy.jsx)("img",{src:e.photoUrl,className:"collection-character-image"})}),(0,gy.jsx)("p",{className:e.clicked?"character-name-clicked":"character-name-unclicked",children:e.name})]})))}),!0!==i&&0===s.length&&(0,gy.jsx)("p",{className:"text",children:"No results found..."})]}),(0,gy.jsx)("p",{style:{fontFamily:"Lucida Sans"},children:"API: https://api-blue-archive.vercel.app/"})]})})},Ny={current:[{gachaType:"Pickup",startAt:17072748e5,endAt:1707879599e3,rateups:["Serina (Christmas)"]},{gachaType:"Pickup",startAt:17072748e5,endAt:1707879599e3,rateups:["Hanae (Christmas)"]}],upcoming:[{gachaType:"Pickup",startAt:17078796e5,endAt:1708484399e3,rateups:["Chihiro"]},{gachaType:"Pickup",startAt:17078796e5,endAt:1708484399e3,rateups:["Sena"]},{gachaType:"Pickup",startAt:17078796e5,endAt:1708484399e3,rateups:["Mine"]}],ended:[{gachaType:"Pickup",startAt:16150914e5,endAt:16196688e5,rateups:["Cherino"]},{gachaType:"Pickup",startAt:16124256e5,endAt:1613023199e3,rateups:["Shiroko","Hoshino"]},{gachaType:"Pickup",startAt:16130268e5,endAt:161423286e4,rateups:["Mashiro"]},{gachaType:"Pickup",startAt:16142346e5,endAt:16154352e5,rateups:["Izuna","Shizuko"]},{gachaType:"Pickup",startAt:1615437e6,endAt:161604e7,rateups:["Haruna"]},{gachaType:"Pickup",startAt:16160418e5,endAt:16166448e5,rateups:["Aru"]},{gachaType:"Pickup",startAt:16166466e5,endAt:16178544e5,rateups:["Arisu"]},{gachaType:"Pickup",startAt:16178562e5,endAt:1619064e6,rateups:["Midori","Momoi"]},{gachaType:"Pickup",startAt:16190658e5,endAt:16196688e5,rateups:["Karin"]},{gachaType:"Pickup",startAt:16196706e5,endAt:16208784e5,rateups:["Cherino"]},{gachaType:"Pickup",startAt:16208802e5,endAt:1622088e6,rateups:["Yuzu"]},{gachaType:"Pickup",startAt:16220898e5,endAt:16232976e5,rateups:["Azusa","Hanako"]},{gachaType:"Pickup",startAt:16232994e5,endAt:16245072e5,rateups:["Koharu"]},{gachaType:"Pickup",startAt:1624509e6,endAt:16250256e5,rateups:["Hifumi"]},{gachaType:"Limited",startAt:16250274e5,endAt:16263216e5,rateups:["Azusa (Swimsuit)"]},{gachaType:"Limited",startAt:16250274e5,endAt:16263216e5,rateups:["Mashiro (Swimsuit)"]},{gachaType:"Pickup",startAt:16263234e5,endAt:16275312e5,rateups:["Hifumi (Swimsuit)"]},{gachaType:"Limited",startAt:1627533e6,endAt:16287408e5,rateups:["Hina (Swimsuit)"]},{gachaType:"Limited",startAt:1627533e6,endAt:16287408e5,rateups:["Iori (Swimsuit)"]},{gachaType:"Pickup",startAt:16287426e5,endAt:16299504e5,rateups:["Shiroko (Riding)"]},{gachaType:"Pickup",startAt:16299522e5,endAt:163116e7,rateups:["Shun (Kid)","Kirino"]},{gachaType:"Pickup",startAt:16311618e5,endAt:16323696e5,rateups:["Saya (Casual)"]},{gachaType:"Pickup",startAt:16323714e5,endAt:1632888e6,rateups:["Hibiki"]},{gachaType:"Limited",startAt:16328898e5,endAt:16340112e5,rateups:["Neru (Bunny Girl)"]},{gachaType:"Limited",startAt:16328898e5,endAt:16340112e5,rateups:["Karin (Bunny Girl)"]},{gachaType:"Pickup",startAt:1634013e6,endAt:16353072e5,rateups:["Asuna (Bunny Girl)"]},{gachaType:"Pickup",startAt:1635309e6,endAt:1635912e6,rateups:["Natsu","Mari"]},{gachaType:"Limited",startAt:16359138e5,endAt:16371216e5,rateups:["Hatsune Miku"]},{gachaType:"Pickup",startAt:16371234e5,endAt:16382448e5,rateups:["Ako"]},{gachaType:"Pickup",startAt:16382466e5,endAt:16395408e5,rateups:["Cherino (Hot Spring)"]},{gachaType:"Pickup",startAt:16382466e5,endAt:16395408e5,rateups:["Chinatsu (Hot Spring)"]},{gachaType:"Pickup",startAt:16395426e5,endAt:16407504e5,rateups:["Nodoka (Hot Spring)"]},{gachaType:"Limited",startAt:16395426e5,endAt:164196e7,rateups:["Aru (New Year)"]},{gachaType:"Limited",startAt:16407522e5,endAt:164196e7,rateups:["Mutsuki (New Year)"]},{gachaType:"Pickup",startAt:16419618e5,endAt:16431696e5,rateups:["Serika (New Year)"]},{gachaType:"Fes",startAt:16431714e5,endAt:1643515199e3,rateups:["Wakamo"]},{gachaType:"Pickup",startAt:16435152e5,endAt:16443792e5,rateups:["Sena"]},{gachaType:"Pickup",startAt:16435152e5,endAt:16443792e5,rateups:["Chihiro"]},{gachaType:"Pickup",startAt:1644381e6,endAt:1644983999e3,rateups:["Mimori"]},{gachaType:"Pickup",startAt:1644381e6,endAt:1644983999e3,rateups:["Izuna","Shizuko"]},{gachaType:"Pickup",startAt:1644984e6,endAt:1645585199e3,rateups:["Koharu"]},{gachaType:"Pickup",startAt:1644984e6,endAt:1645585199e3,rateups:["Haruna"]},{gachaType:"Pickup",startAt:16455852e5,endAt:1646794799e3,rateups:["Ui"]},{gachaType:"Pickup",startAt:16455852e5,endAt:1646794799e3,rateups:["Hinata"]},{gachaType:"Pickup",startAt:16467948e5,endAt:1647399599e3,rateups:["Marina"]},{gachaType:"Pickup",startAt:16467948e5,endAt:1647399599e3,rateups:["Cherino"]},{gachaType:"Pickup",startAt:16473996e5,endAt:1648004399e3,rateups:["Iori"]},{gachaType:"Pickup",startAt:16473996e5,endAt:1648004399e3,rateups:["Midori","Momoi"]},{gachaType:"Pickup",startAt:16480044e5,endAt:1649213999e3,rateups:["Miyako"]},{gachaType:"Pickup",startAt:16480044e5,endAt:1649213999e3,rateups:["Saki"]},{gachaType:"Pickup",startAt:1649214e6,endAt:1650423599e3,rateups:["Miyu"]},{gachaType:"Pickup",startAt:1649214e6,endAt:1650423599e3,rateups:["Tsurugi"]},{gachaType:"Limited",startAt:16504236e5,endAt:1651028399e3,rateups:["Mashiro (Swimsuit)"]},{gachaType:"Limited",startAt:16504236e5,endAt:1651028399e3,rateups:["Azusa (Swimsuit)"]},{gachaType:"Pickup",startAt:16504236e5,endAt:1651028399e3,rateups:["Hifumi (Swimsuit)"]},{gachaType:"Pickup",startAt:16510284e5,endAt:1652237999e3,rateups:["Kaede"]},{gachaType:"Pickup",startAt:16510284e5,endAt:1652237999e3,rateups:["Iroha"]},{gachaType:"Pickup",startAt:1652238e6,endAt:1653361199e3,rateups:["Tsukuyo"]},{gachaType:"Pickup",startAt:1652238e6,endAt:1653361199e3,rateups:["Yuzu"]},{gachaType:"Pickup",startAt:16533612e5,endAt:1654657199e3,rateups:["Misaki"]},{gachaType:"Pickup",startAt:16533612e5,endAt:1654657199e3,rateups:["Hiyori"]},{gachaType:"Pickup",startAt:16546572e5,endAt:1655866799e3,rateups:["Atsuko"]},{gachaType:"Pickup",startAt:16546572e5,endAt:1655866799e3,rateups:["Azusa","Hanako"]},{gachaType:"Pickup",startAt:16558668e5,endAt:1657076399e3,rateups:["Wakamo (Swimsuit)"]},{gachaType:"Pickup",startAt:16558668e5,endAt:1657076399e3,rateups:["Nonomi (Swimsuit)"]},{gachaType:"Pickup",startAt:16570764e5,endAt:1658285999e3,rateups:["Hoshino"]},{gachaType:"Pickup",startAt:16570764e5,endAt:1658285999e3,rateups:["Hina"]},{gachaType:"Fes",startAt:1658286e6,endAt:1658717999e3,rateups:["Hoshino (Swimsuit)"]},{gachaType:"Limited",startAt:1658718e6,endAt:1659495599e3,rateups:["Izuna (Swimsuit)"]},{gachaType:"Limited",startAt:1658718e6,endAt:1659495599e3,rateups:["Chise (Swimsuit)"]},{gachaType:"Pickup",startAt:16594956e5,endAt:1660013999e3,rateups:["Shiroko (Riding)"]},{gachaType:"Pickup",startAt:16594956e5,endAt:1660013999e3,rateups:["Arisu"]},{gachaType:"Pickup",startAt:1660014e6,endAt:1661309999e3,rateups:["Saori"]},{gachaType:"Pickup",startAt:1660014e6,endAt:1661309999e3,rateups:["Aru"]},{gachaType:"Pickup",startAt:166131e7,endAt:1662519599e3,rateups:["Moe"]},{gachaType:"Pickup",startAt:166131e7,endAt:1662519599e3,rateups:["Kazusa"]},{gachaType:"Limited",startAt:16625196e5,endAt:1663124399e3,rateups:["Hina (Swimsuit)"]},{gachaType:"Limited",startAt:16625196e5,endAt:1663124399e3,rateups:["Iori (Swimsuit)"]},{gachaType:"Pickup",startAt:16631244e5,endAt:1663729199e3,rateups:["Natsu","Mari"]},{gachaType:"Pickup",startAt:16631244e5,endAt:1663729199e3,rateups:["Shun"]},{gachaType:"Pickup",startAt:16637292e5,endAt:1664333999e3,rateups:["Kokona"]},{gachaType:"Pickup",startAt:16637292e5,endAt:1664333999e3,rateups:["Shun (Kid)","Kirino"]},{gachaType:"Pickup",startAt:16637292e5,endAt:1664333999e3,rateups:["Saya (Casual)"]},{gachaType:"Pickup",startAt:1664334e6,endAt:1665543599e3,rateups:["Utaha (Cheerleader)"]},{gachaType:"Pickup",startAt:1664334e6,endAt:1665543599e3,rateups:["Noa"]},{gachaType:"Pickup",startAt:16655436e5,endAt:1666148399e3,rateups:["Akane (Bunny Girl)"]},{gachaType:"Limited",startAt:16655436e5,endAt:1666148399e3,rateups:["Neru (Bunny Girl)"]},{gachaType:"Limited",startAt:16655436e5,endAt:1666148399e3,rateups:["Karin (Bunny Girl)"]},{gachaType:"Pickup",startAt:16655436e5,endAt:1666148399e3,rateups:["Asuna (Bunny Girl)"]},{gachaType:"Pickup",startAt:16661484e5,endAt:1666753199e3,rateups:["Ako"]},{gachaType:"Pickup",startAt:16661484e5,endAt:1666753199e3,rateups:["Hibiki"]},{gachaType:"Limited",startAt:16667532e5,endAt:1667962799e3,rateups:["Yuuka (Sportswear)"]},{gachaType:"Limited",startAt:16667532e5,endAt:1667962799e3,rateups:["Mari (Sportswear)"]},{gachaType:"Pickup",startAt:16679628e5,endAt:1668567599e3,rateups:["Koharu"]},{gachaType:"Pickup",startAt:16679628e5,endAt:1668567599e3,rateups:["Maki"]},{gachaType:"Pickup",startAt:16685676e5,endAt:1669777199e3,rateups:["Himari"]},{gachaType:"Pickup",startAt:16685676e5,endAt:1669777199e3,rateups:["Eimi"]},{gachaType:"Pickup",startAt:16697772e5,endAt:1670381999e3,rateups:["Shigure"]},{gachaType:"Pickup",startAt:16697772e5,endAt:1670381999e3,rateups:["Cherino (Hot Spring)"]},{gachaType:"Pickup",startAt:16697772e5,endAt:1670381999e3,rateups:["Chinatsu (Hot Spring)"]},{gachaType:"Pickup",startAt:16697772e5,endAt:1670381999e3,rateups:["Nodoka (Hot Spring)"]},{gachaType:"Pickup",startAt:1670382e6,endAt:1670986799e3,rateups:["Arisu"]},{gachaType:"Pickup",startAt:1670382e6,endAt:1670986799e3,rateups:["Yuzu"]},{gachaType:"Pickup",startAt:1670382e6,endAt:1670986799e3,rateups:["Midori","Momoi"]},{gachaType:"Pickup",startAt:16709868e5,endAt:1672196399e3,rateups:["Serina (Christmas)"]},{gachaType:"Pickup",startAt:16709868e5,endAt:1672196399e3,rateups:["Hanae (Christmas)"]},{gachaType:"Limited",startAt:16721964e5,endAt:1673405999e3,rateups:["Haruna (New Year)"]},{gachaType:"Limited",startAt:16721964e5,endAt:1673405999e3,rateups:["Fuuka (New Year)"]},{gachaType:"Pickup",startAt:1673406e6,endAt:1674529199e3,rateups:["Mine"]},{gachaType:"Pickup",startAt:1673406e6,endAt:1674529199e3,rateups:["Sena"]},{gachaType:"Pickup",startAt:1673406e6,endAt:1674529199e3,rateups:["Chihiro"]},{gachaType:"Fes",startAt:16745292e5,endAt:1675133999e3,rateups:["Mika"]},{gachaType:"Pickup",startAt:1675134e6,endAt:1675997999e3,rateups:["Megu"]},{gachaType:"Pickup",startAt:1675134e6,endAt:1675997999e3,rateups:["Kanna"]},{gachaType:"Pickup",startAt:1675998e6,endAt:1677034799e3,rateups:["Sakurako"]},{gachaType:"Pickup",startAt:1675998e6,endAt:1677034799e3,rateups:["Ui"]},{gachaType:"Pickup",startAt:1675998e6,endAt:1677034799e3,rateups:["Hinata"]},{gachaType:"Limited",startAt:16770348e5,endAt:1678244399e3,rateups:["Toki"]},{gachaType:"Limited",startAt:16770348e5,endAt:1678244399e3,rateups:["Nagisa"]},{gachaType:"Pickup",startAt:16782444e5,endAt:1679453999e3,rateups:["Koyuki"]},{gachaType:"Pickup",startAt:16782444e5,endAt:1679453999e3,rateups:["Shiroko"]},{gachaType:"Pickup",startAt:1679454e6,endAt:1680663599e3,rateups:["Kayoko (New Year)"]},{gachaType:"Pickup",startAt:1679454e6,endAt:1680663599e3,rateups:["Haruka (New Year)"]},{gachaType:"Limited",startAt:1679454e6,endAt:1680663599e3,rateups:["Aru (New Year)"]},{gachaType:"Limited",startAt:1679454e6,endAt:1680663599e3,rateups:["Mutsuki (New Year)"]},{gachaType:"Pickup",startAt:1679454e6,endAt:1680663599e3,rateups:["Serika (New Year)"]},{gachaType:"Pickup",startAt:16806636e5,endAt:1681268399e3,rateups:["Izuna","Shizuko"]},{gachaType:"Pickup",startAt:16806636e5,endAt:1681268399e3,rateups:["Mimori"]},{gachaType:"Pickup",startAt:16812684e5,endAt:1681873199e3,rateups:["Kaho"]},{gachaType:"Pickup",startAt:16812684e5,endAt:1681873199e3,rateups:["Iroha"]},{gachaType:"Pickup",startAt:16812684e5,endAt:1681873199e3,rateups:["Kaede"]},{gachaType:"Pickup",startAt:16812684e5,endAt:1681873199e3,rateups:["Tsukuyo"]},{gachaType:"Pickup",startAt:16818732e5,endAt:1682477999e3,rateups:["Cherino"]},{gachaType:"Pickup",startAt:16818732e5,endAt:1682477999e3,rateups:["Marina"]},{gachaType:"Pickup",startAt:1682478e6,endAt:1683687599e3,rateups:["Arisu (Maid)"]},{gachaType:"Pickup",startAt:1682478e6,endAt:1683687599e3,rateups:["Toki (Bunny Girl)"]},{gachaType:"Pickup",startAt:16836876e5,endAt:1684292399e3,rateups:["Reisa"]},{gachaType:"Pickup",startAt:16836876e5,endAt:1684292399e3,rateups:["Kazusa"]},{gachaType:"Pickup",startAt:16836876e5,endAt:1684292399e3,rateups:["Natsu","Mari"]},{gachaType:"Limited",startAt:16842924e5,endAt:1684897199e3,rateups:["Azusa (Swimsuit)"]},{gachaType:"Limited",startAt:16842924e5,endAt:1684897199e3,rateups:["Mashiro (Swimsuit)"]},{gachaType:"Pickup",startAt:16842924e5,endAt:1684897199e3,rateups:["Hifumi (Swimsuit)"]},{gachaType:"Pickup",startAt:16848972e5,endAt:1686106799e3,rateups:["Rumi"]},{gachaType:"Pickup",startAt:16848972e5,endAt:1686106799e3,rateups:["Mina"]},{gachaType:"Pickup",startAt:16861068e5,endAt:1686711599e3,rateups:["Minori"]},{gachaType:"Pickup",startAt:16861068e5,endAt:1686711599e3,rateups:["Miyako"]},{gachaType:"Pickup",startAt:16861068e5,endAt:1686711599e3,rateups:["Saki"]},{gachaType:"Pickup",startAt:16867116e5,endAt:1687316399e3,rateups:["Miyu"]},{gachaType:"Pickup",startAt:16867116e5,endAt:1687316399e3,rateups:["Moe"]},{gachaType:"Pickup",startAt:16873164e5,endAt:1688525999e3,rateups:["Miyako (Swimsuit)"]},{gachaType:"Pickup",startAt:16873164e5,endAt:1688525999e3,rateups:["Saki (Swimsuit)"]},{gachaType:"Limited",startAt:1688526e6,endAt:1689130799e3,rateups:["Hina (Swimsuit)"]},{gachaType:"Limited",startAt:1688526e6,endAt:1689130799e3,rateups:["Iori (Swimsuit)"]},{gachaType:"Pickup",startAt:16891308e5,endAt:1689562799e3,rateups:["Shiroko (Riding)"]},{gachaType:"Pickup",startAt:16891308e5,endAt:1689562799e3,rateups:["Azusa","Hanako"]},{gachaType:"Pickup",startAt:16895628e5,endAt:1690167599e3,rateups:["Shiroko (Swimsuit)"]},{gachaType:"Pickup",startAt:16895628e5,endAt:1690167599e3,rateups:["Nonomi (Swimsuit)"]},{gachaType:"Pickup",startAt:16895628e5,endAt:1690167599e3,rateups:["Wakamo (Swimsuit)"]},{gachaType:"Fes",startAt:16909452e5,endAt:1691549999e3,rateups:["Hanako (Swimsuit)"]},{gachaType:"Fes",startAt:16909452e5,endAt:1691549999e3,rateups:["Wakamo"]},{gachaType:"Limited",startAt:16901676e5,endAt:1690945199e3,rateups:["Ui (Swimsuit)"]},{gachaType:"Limited",startAt:16901676e5,endAt:1690945199e3,rateups:["Hinata (Swimsuit)"]},{gachaType:"Pickup",startAt:169155e7,endAt:1692154799e3,rateups:["Shun (Kid)","Kirino"]},{gachaType:"Pickup",startAt:169155e7,endAt:1692154799e3,rateups:["Saya (Casual)"]},{gachaType:"Pickup",startAt:169155e7,endAt:1692154799e3,rateups:["Kokona"]},{gachaType:"Pickup",startAt:16921548e5,endAt:1692759599e3,rateups:["Mimori (Swimsuit)"]},{gachaType:"Limited",startAt:16921548e5,endAt:1692759599e3,rateups:["Izuna (Swimsuit)"]},{gachaType:"Limited",startAt:16921548e5,endAt:1692759599e3,rateups:["Chise (Swimsuit)"]},{gachaType:"Pickup",startAt:16927596e5,endAt:1693969199e3,rateups:["Meru","Momiji"]},{gachaType:"Pickup",startAt:16927596e5,endAt:1693969199e3,rateups:["Cherino"]},{gachaType:"Pickup",startAt:16927596e5,endAt:1693969199e3,rateups:["Marina"]},{gachaType:"Pickup",startAt:16939692e5,endAt:1694746799e3,rateups:["Kotori (Cheerleader)"]},{gachaType:"Pickup",startAt:16939692e5,endAt:1694746799e3,rateups:["Noa"]},{gachaType:"Pickup",startAt:16939692e5,endAt:1694746799e3,rateups:["Utaha (Cheerleader)"]},{gachaType:"Pickup",startAt:16947468e5,endAt:1695783599e3,rateups:["Haruna (Sportswear)"]},{gachaType:"Limited",startAt:16947468e5,endAt:1695783599e3,rateups:["Yuuka (Sportswear)"]},{gachaType:"Limited",startAt:16947468e5,endAt:1695783599e3,rateups:["Mari (Sportswear)"]},{gachaType:"Pickup",startAt:16957836e5,endAt:1696993199e3,rateups:["Ichika"]},{gachaType:"Pickup",startAt:16957836e5,endAt:1696993199e3,rateups:["Kasumi"]},{gachaType:"Pickup",startAt:16969932e5,endAt:1697597999e3,rateups:["Shigure (Hot Spring)"]},{gachaType:"Pickup",startAt:16969932e5,endAt:1697597999e3,rateups:["Cherino (Hot Spring)"]},{gachaType:"Pickup",startAt:16969932e5,endAt:1697597999e3,rateups:["Chinatsu (Hot Spring)"]},{gachaType:"Pickup",startAt:16969932e5,endAt:1697597999e3,rateups:["Nodoka (Hot Spring)"]},{gachaType:"Pickup",startAt:1697598e6,endAt:1698116399e3,rateups:["Shigure"]},{gachaType:"Pickup",startAt:1697598e6,endAt:1698116399e3,rateups:["Megu"]},{gachaType:"Limited",startAt:16981164e5,endAt:1699412399e3,rateups:["Misaka Mikoto"]},{gachaType:"Limited",startAt:16981164e5,endAt:1699412399e3,rateups:["Shokuhou Misaki"]},{gachaType:"Pickup",startAt:16994124e5,endAt:1700017199e3,rateups:["Yukari"]},{gachaType:"Pickup",startAt:17000172e5,endAt:1700621999e3,rateups:["Saori"]},{gachaType:"Pickup",startAt:17000172e5,endAt:1700621999e3,rateups:["Hiyori"]},{gachaType:"Pickup",startAt:1700622e6,endAt:1701831599e3,rateups:["Renge"]},{gachaType:"Pickup",startAt:1700622e6,endAt:1701831599e3,rateups:["Kikyou"]},{gachaType:"Pickup",startAt:17018316e5,endAt:1702436399e3,rateups:["Eimi (Swimsuit)"]},{gachaType:"Pickup",startAt:17018316e5,endAt:1702436399e3,rateups:["Himari"]},{gachaType:"Pickup",startAt:17024364e5,endAt:1703041199e3,rateups:["Sumire"]},{gachaType:"Pickup",startAt:17024364e5,endAt:1703041199e3,rateups:["Eimi"]},{gachaType:"Limited",startAt:17030412e5,endAt:1703645999e3,rateups:["Neru (Bunny Girl)"]},{gachaType:"Limited",startAt:17030412e5,endAt:1703645999e3,rateups:["Karin (Bunny Girl)"]},{gachaType:"Pickup",startAt:17030412e5,endAt:1703645999e3,rateups:["Asuna (Bunny Girl)"]},{gachaType:"Pickup",startAt:17030412e5,endAt:1703645999e3,rateups:["Akane (Bunny Girl)"]},{gachaType:"Pickup",startAt:1703646e6,endAt:1704855599e3,rateups:["Hare (Camp)"]},{gachaType:"Pickup",startAt:1703646e6,endAt:1704855599e3,rateups:["Kotama (Camp)"]},{gachaType:"Limited",startAt:17048556e5,endAt:1705460399e3,rateups:["Aru (New Year)"]},{gachaType:"Limited",startAt:17048556e5,endAt:1705460399e3,rateups:["Mutsuki (New Year)"]},{gachaType:"Pickup",startAt:17048556e5,endAt:1705460399e3,rateups:["Serika (New Year)"]},{gachaType:"Pickup",startAt:17048556e5,endAt:1705460399e3,rateups:["Kayoko (New Year)"]},{gachaType:"Pickup",startAt:17048556e5,endAt:1705460399e3,rateups:["Haruka (New Year)"]},{gachaType:"Pickup",startAt:17054604e5,endAt:1706065199e3,rateups:["Misaki"]},{gachaType:"Pickup",startAt:17054604e5,endAt:1706065199e3,rateups:["Atsuko"]},{gachaType:"Limited",startAt:17060652e5,endAt:1706669999e3,rateups:["Makoto"]},{gachaType:"Limited",startAt:17060652e5,endAt:1706669999e3,rateups:["Ako (Dress)"]},{gachaType:"Pickup",startAt:17060652e5,endAt:1706669999e3,rateups:["Iroha"]},{gachaType:"Fes",startAt:170667e7,endAt:1707274799e3,rateups:["Hina (Dress)"]},{gachaType:"Fes",startAt:170667e7,endAt:1707274799e3,rateups:["Hoshino (Swimsuit)"]},{gachaType:"Pickup",startAt:17084844e5,endAt:1709607599e3,rateups:["Aru (Dress)"]},{gachaType:"Pickup",startAt:17084844e5,endAt:1709607599e3,rateups:["Kayoko (Dress)"]},{gachaType:"PickupGacha",startAt:1709694e6,endAt:1710903599e3,rateups:["Akari (New Year)"]},{gachaType:"LimitedGacha",startAt:1709694e6,endAt:1710903599e3,rateups:["Haruna (New Year)"]},{gachaType:"LimitedGacha",startAt:1709694e6,endAt:1710903599e3,rateups:["Fuuka (New Year)"]},{gachaType:"PickupGacha",startAt:17109036e5,endAt:1711508399e3,rateups:["Ui"]},{gachaType:"PickupGacha",startAt:17109036e5,endAt:1711508399e3,rateups:["Hinata"]},{gachaType:"PickupGacha",startAt:17109036e5,endAt:1711508399e3,rateups:["Sakurako"]}]},Py=()=>{const[e,n]=(0,t.useState)([]);return[e,n,async()=>{if(null===fy.currentUser)n(JSON.parse(localStorage.getItem("plannedBanners")).sort(((e,t)=>t.startAt-e.startAt)));else{const e=xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s planned banners")),t=(await ly(e)).get("plannedBanners").sort(((e,t)=>e.startAt-t.startAt));n(t)}}]},Ry=()=>{const[e,n,r]=Iy();(0,t.useEffect)((()=>{r();const e=[...Ny.current,...Ny.ended,...Ny.upcoming].sort(((e,t)=>t.startAt-e.startAt));o(e.map((e=>{const t=new Date(e.startAt),n=t.toLocaleDateString(),r=t.toLocaleTimeString(),i=new Date(e.startAt);i.setMonth(i.getMonth()+6),i.setDate(i.getDate()+6);const a=i.toLocaleDateString(),s=new Date(e.endAt),o=s.toLocaleDateString(),l=s.toLocaleTimeString();return{...e,startAt:"".concat(n,", ").concat(r),endAt:"".concat(o,", ").concat(l),globalStartAt:"~".concat(a)}}))),fetch("https://api.ennead.cc/buruaka/banner").then((e=>e.json())).then((e=>{const t=[...e.current,...e.upcoming,...e.ended].sort(((e,t)=>t.startAt-e.startAt)),n=t.map((e=>{const t=new Date(e.startAt),n=new Date(e.endAt),r=t.toLocaleDateString(),i=t.toLocaleTimeString(),a=n.toLocaleDateString(),s=n.toLocaleTimeString();return{...e,startAt:"".concat(r,", ").concat(i),endAt:"".concat(a,", ").concat(s)}}));c(n.map((e=>{const t=e.rateups.map((e=>"Aris"===e?"Arisu":"Aris (Maid)"===e?"Arisu (Maid)":"Toki (Bunny)"===e?"Toki (Bunny Girl)":"Shiroko (Cycling)"===e?"Shiroko (Riding)":"Yuuka (Track)"===e?"Yuuka (Sportswear)":"Mari (Track)"===e?"Mari (Sportswear)":"Karin (Bunny)"===e?"Karin (Bunny Girl)":"Asuna (Bunny)"===e?"Asuna (Bunny Girl)":"Akane (Bunny)"===e?"Akane (Bunny Girl)":"Neru (Bunny)"===e?"Neru (Bunny Girl)":"Utaha (Cheer Squad)"===e?"Utaha (Cheerleader)":"Haruna (Track)"===e?"Haruna (Sportswear)":"Kotori (Cheer Squad)"===e?"Kotori (Cheerleader)":e));return{...e,rateups:t}})))}));const t=JSON.parse(localStorage.getItem("characters"));t&&n(t),v(),localStorage.setItem("page","banners")}),[]);const[i,a]=(0,t.useState)({}),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,h]=(0,t.useState)(""),[d,p]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[g,y,v]=Py(),[b,w]=(0,t.useState)("JP"),k=()=>{if("JP"==b){const e=s.map((e=>{const t=e.rateups.join(",");return{...e,rateups:t}})).filter((e=>e.rateups.toLowerCase().includes(u.toLowerCase())));p(e.map((e=>({...e,rateups:e.rateups.split(",")}))))}else{const e=l.map((e=>{const t=e.rateups.join(",");return{...e,rateups:t}})).filter((e=>e.rateups.toLowerCase().includes(u.toLowerCase())));p(e.map((e=>({...e,rateups:e.rateups.split(",")}))))}},S=async e=>{if(null===fy.currentUser)g.some((t=>t.startAt===e.startAt&&t.endAt===e.endAt&&t.rateups[0]===e.rateups[0]))?console.log("This banner is already in the planner "):y((t=>{const n=[...t,{...e,id:Math.random()}];return localStorage.setItem("plannedBanners",JSON.stringify(n)),n}));else if(g.some((t=>t.startAt===e.startAt&&t.endAt===e.endAt&&t.rateups[0]===e.rateups[0])))console.log("This banner is already in the planner ");else{const t=[...g,{...e,id:Math.random()}];uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s planned banners")),{plannedBanners:t}),v()}};return(0,gy.jsxs)("div",{className:"Banners",children:[(0,gy.jsx)("div",{className:"centered-container",children:!0===f&&(0,gy.jsx)("p",{className:"caution-text",children:"Predicted EN dates may be inaccurate due to scheduling changes, view actual EN banners for reference."})}),(0,gy.jsxs)("div",{className:"centered-container",children:[!0===f&&(0,gy.jsxs)("div",{className:"banner-search-container",children:[(0,gy.jsx)("p",{className:"search-prompt",children:"Got a specific rate up you're looking for?"}),(0,gy.jsx)("input",{className:"search-input",value:u,onChange:e=>{h(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(m(!1),k(),h(""))},placeholder:"e.g. Saori..."}),(0,gy.jsx)("button",{className:"search-button",onClick:()=>{m(!1),k()},children:"Search"})]}),(0,gy.jsxs)("div",{children:[(0,gy.jsx)("h1",{}),!1===f&&(0,gy.jsx)("button",{className:"search-button",onClick:()=>{m(!0),h(""),w("EN"==b?"EN":"JP")},children:"Return"})]})]}),i.length>=0&&!0===f&&(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("p",{className:"text",children:"Current banner (EN)"}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"current-table",children:[(0,gy.jsx)("th",{className:"current-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"current-table-header",children:"Start"}),(0,gy.jsx)("th",{className:"current-table-header",children:"End"}),i.map((t=>(0,gy.jsxs)("tr",{className:"current-table-row",children:[(0,gy.jsx)("td",{className:"current-table-detail",children:t.rateups.map((t=>{const n=e.findIndex((e=>t===e.name));return 1!==n?(0,gy.jsxs)("div",{children:[(0,gy.jsx)("img",{src:e[n].photoUrl,className:"current-character-img"}),(0,gy.jsx)("p",{children:t})]}):null}))}),(0,gy.jsx)("td",{className:"current-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"current-table-detail",children:t.endAt})]})))]})})]}),(0,gy.jsx)("h1",{}),!0===f&&(0,gy.jsxs)("select",{onChange:e=>{w(e.target.value)},className:"select-font",value:b,children:[(0,gy.jsx)("option",{children:"JP"}),(0,gy.jsx)("option",{children:"EN"})]}),!0===f&&"JP"==b&&(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("p",{className:"text",children:"All Banners (JP)"}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"banner-table",children:[(0,gy.jsx)("th",{className:"banner-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"End (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (EN)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Planner"}),s.map((t=>(0,gy.jsxs)("tr",{className:"banner-table-row",children:[(0,gy.jsx)("td",{className:"banner-table-detail",children:t.rateups.map((n=>{const r=e.findIndex((e=>e.name===n));return-1!==r?(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("img",{src:e[r].photoUrl,className:"banner-table-img"}),(0,gy.jsxs)("p",{children:[n," [",t.gachaType,"]"]})]}):null}))}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.endAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.globalStartAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:(0,gy.jsx)("button",{className:"add-remove-button",onClick:()=>{S(t)},children:"Add"})})]})))]})})]}),!0===f&&"EN"==b&&(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("p",{className:"text",children:"All Banners (EN)"}),(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"banner-table",children:[(0,gy.jsx)("th",{className:"banner-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"End"}),l.map((t=>(0,gy.jsxs)("tr",{className:"banner-table-row",children:[(0,gy.jsx)("td",{className:"banner-table-detail",children:t.rateups.map((t=>{const n=e.findIndex((e=>e.name===t));return-1!==n?(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("img",{src:e[n].photoUrl,className:"banner-table-img"}),(0,gy.jsx)("p",{children:t})]}):(0,gy.jsx)("p",{children:t})}))}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.endAt})]})))]})})]}),!1===f&&d.length>0&&"JP"==b&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"banner-table",children:[(0,gy.jsx)("th",{className:"banner-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"End (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (EN)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Add to Planner"}),d.map((t=>(0,gy.jsxs)("tr",{className:"banner-table-row",children:[(0,gy.jsx)("td",{className:"banner-table-detail",children:t.rateups.map((n=>{const r=e.findIndex((e=>e.name===n));return-1!==r?(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("img",{src:e[r].photoUrl,className:"banner-table-img"}),(0,gy.jsxs)("p",{children:[e[r].name," [",t.gachaType,"]"]})]}):null}))}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.endAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.globalStartAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:(0,gy.jsx)("button",{className:"add-remove-button",onClick:()=>{S(t)},children:"Add"})})]})))]})}),!1===f&&d.length>0&&"EN"==b&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"banner-table",children:[(0,gy.jsx)("th",{className:"banner-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (EN)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"End (EN)"}),d.map((t=>(0,gy.jsxs)("tr",{className:"banner-table-row",children:[(0,gy.jsx)("td",{className:"banner-table-detail",children:t.rateups.map((n=>{const r=e.findIndex((e=>e.name===n));return-1!==r?(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("img",{src:e[r].photoUrl,className:"banner-table-img"}),(0,gy.jsxs)("p",{children:[e[r].name," [",t.gachaType,"]"]})]}):null}))}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"banner-table-detail",children:t.endAt})]})))]})}),!1===f&&0==d.length&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsx)("h1",{className:"text",children:"No results found"})}),(0,gy.jsx)("p",{children:"API: https://api.ennead.cc/buruaka/banner and https://api.ennead.cc/buruaka/banner?region=japan"})]})},My=()=>{(0,t.useEffect)((()=>{s(),r(),localStorage.setItem("page","planner")}),[]);const[e,n,r]=Py(),[i,a,s]=Iy();return(0,gy.jsx)("div",{children:i.length>0&&(0,gy.jsx)("div",{className:"Planner",children:(0,gy.jsxs)(gy.Fragment,{children:[(0,gy.jsx)("h1",{}),(0,gy.jsxs)("div",{className:"banner-search-container",children:[(0,gy.jsxs)("p",{className:"planner-text",children:["Upcoming Planned Banners  : ",e.length]}),(0,gy.jsxs)("p",{className:"planner-text",children:["Projected Cost  : ",24e3*e.length," ",(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/3/3b/Currency_Icon_Gem.png",className:"pyro-img"})]})]}),(0,gy.jsx)("h1",{}),0!==e.length&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("table",{className:"banner-table",children:[(0,gy.jsx)("th",{className:"banner-table-header",children:"Rate ups"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"End (JP)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Start (EN)"}),(0,gy.jsx)("th",{className:"banner-table-header",children:"Planner"}),e.map((t=>(0,gy.jsxs)("tr",{className:"banner-table-row",children:[(0,gy.jsx)("td",{className:"banner-table-detail",children:t.rateups.map((e=>{const n=i.findIndex((t=>e===t.name));return 1!==n?(0,gy.jsxs)("div",{children:[(0,gy.jsx)("img",{src:i[n].photoUrl,className:"banner-table-img"}),(0,gy.jsxs)("p",{children:[e," [",t.gachaType,"]"]})]}):null}))}),(0,gy.jsx)("td",{className:"current-table-detail",children:t.startAt}),(0,gy.jsx)("td",{className:"current-table-detail",children:t.endAt}),(0,gy.jsx)("td",{className:"current-table-detail",children:t.globalStartAt}),(0,gy.jsx)("td",{children:(0,gy.jsx)("button",{className:"add-remove-button",onClick:()=>{(t=>{if(null===fy.currentUser)n((e=>{const n=e.filter((e=>e.id!==t));return localStorage.setItem("plannedBanners",JSON.stringify(n)),n}));else{const n=e.filter((e=>e.id!==t));uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s planned banners")),{plannedBanners:n}).then((()=>{r()}))}})(t.id)},children:"Remove"})})]})))]})}),0===e.length&&(0,gy.jsx)("h1",{children:"No upcoming banners..."}),(0,gy.jsx)("h1",{})]})})})},Dy=()=>{(0,t.useEffect)((()=>{fetch("https://api-blue-archive.vercel.app/api/characters?page=1&perPage=120").then((e=>e.json())).then((e=>{const t=[...e.data,...Cy].sort(((e,t)=>e.name.localeCompare(t.name)));n(t.map((e=>({...e,clicked:!1}))))}))}),[]);const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),h=$(),d=async()=>{if(a===o)try{await async function(e,t,n){const r=Zn(e),i=sr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ar),a=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lr(e),t})),s=await Cr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}(fy,"".concat(r,"@mail.com"),a),uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s characters")),{characters:e}),uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s planned banners")),{plannedBanners:[]}),uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite character")),{favoriteCharacter:{name:"Yuuka",school:"Millennium",photoUrl:"https://static.miraheze.org/bluearchivewiki/3/3e/Yuuka.png",damageType:"Explosive",clicked:!1}}),uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Millennium"}),h("/"),localStorage.setItem("page","collection")}catch(t){switch(t.code){case"auth/email-already-in-use":u("Username already in use");break;case"auth/weak-password":u("Password must atleast be 6 characters long")}console.log(t)}else u("Passwords do not match")};return(0,gy.jsxs)("div",{className:"register",children:[(0,gy.jsx)("p",{children:"Create an account to sync your data across multiple devices"}),(0,gy.jsxs)("div",{className:"register-container",children:[(0,gy.jsx)("p",{className:"register-prompt",children:"Username"}),(0,gy.jsx)("input",{onChange:e=>{i(e.target.value)},value:r,className:"register-value"}),(0,gy.jsx)("p",{className:"register-prompt",children:"Password"}),(0,gy.jsx)("input",{onChange:e=>{s(e.target.value)},value:a,type:"password",className:"register-value"}),(0,gy.jsx)("p",{className:"register-prompt",children:"Confirm Password"}),(0,gy.jsx)("input",{onChange:e=>{l(e.target.value)},value:o,type:"password",className:"register-value"}),(0,gy.jsx)("h1",{}),(0,gy.jsx)("p",{className:"register-error",children:c}),(0,gy.jsx)("button",{onClick:()=>{d()},className:"search-button",children:"Register"})]})]})},Ly=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)(""),o=$(),l=async()=>{try{await function(e,t,n){return Dr(Ue(e),br.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Lr(e),t}))}(fy,"".concat(e,"@mail.com"),r),o("/"),localStorage.setItem("page","collection")}catch(t){switch(t.code){case"auth/missing-password":case"auth/invalid-credential":s("Username or password is invalid");break;case"auth/invalid-email":s("Username does not exist")}console.log(t)}};return(0,gy.jsx)("div",{className:"signin",children:(0,gy.jsxs)("div",{className:"register-container",children:[(0,gy.jsx)("p",{className:"register-prompt",children:"Username"}),(0,gy.jsx)("input",{onChange:e=>{n(e.target.value)},value:e,className:"register-value"}),(0,gy.jsx)("p",{className:"register-prompt",children:"Password"}),(0,gy.jsx)("input",{onChange:e=>{i(e.target.value)},value:r,type:"password",className:"register-value"}),(0,gy.jsx)("h1",{}),(0,gy.jsx)("button",{onClick:()=>{l()},className:"search-button",children:"Sign in"}),(0,gy.jsx)("p",{children:a})]})})},Oy=e=>{let{handleSignOut:t,visibleConfirmation:n,setVisibleConfirmation:r}=e;const i=$();return(0,gy.jsx)("div",{children:!0===n&&(0,gy.jsx)("div",{className:"confirmation-background",children:(0,gy.jsxs)("div",{className:"confirmation-container",children:[(0,gy.jsx)("p",{className:"text-2",children:"Are you sure you would like to logout?"}),(0,gy.jsxs)("div",{className:"centered-container",children:[(0,gy.jsx)("button",{className:"confirmation-button",onClick:()=>{t(),i("/")},children:"Yes"}),(0,gy.jsx)("button",{className:"confirmation-button",onClick:()=>{r(!1)},children:"No"})]})]})})})},jy=()=>{const[e,n,r]=Iy(),[i,a,s]=Py();(0,t.useEffect)((()=>{r(),s(),T(),_(),E(),console.log(A)}),[]);const[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[b,w]=(0,t.useState)(""),[k,S]=(0,t.useState)(0),T=async()=>{const e=(await ly(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite character")))).get("favoriteCharacter");l(e)},_=async()=>{const e=(await ly(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")))).get("favoriteSchool");u(e)},E=async()=>{const e=(await ly(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s total pulls")))).get("pulls");S(e)},A=e.filter((e=>!0===e.clicked)).length/e.length*100;return(0,gy.jsxs)("div",{className:"Profile",children:[!0===h&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsx)("div",{className:"characters-container",children:e.map((e=>(0,gy.jsxs)("div",{children:[(0,gy.jsx)("button",{className:e.clicked?"character-button-clicked":"character-button-unclicked",onClick:()=>{d(!1),uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite character")),{favoriteCharacter:e}).then((()=>{T()}))},children:(0,gy.jsx)("img",{src:e.photoUrl,className:"collection-character-image"})}),(0,gy.jsx)("p",{className:e.clicked?"character-name-clicked":"character-name-unclicked",children:e.name})]})))})}),!0===p&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("div",{className:"characters-container",children:[(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Abydos"}).then((()=>{_()})),f(!1)},children:"Abydos"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Arius"}).then((()=>{_()})),f(!1)},children:"Arius"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Gehenna"}).then((()=>{_()})),f(!1)},children:"Gehenna"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Hyakkiyako"}).then((()=>{_()})),f(!1)},children:"Hyakkiyako"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Millennium"}).then((()=>{_()})),f(!1)},children:"Millennium"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"RedWinter"}).then((()=>{_()})),f(!1)},children:"RedWinter"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Shanhaijing"}).then((()=>{_()})),f(!1)},children:"Shanhaijing"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"SRT"}).then((()=>{_()})),f(!1)},children:"SRT"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Trinity"}).then((()=>{_()})),f(!1)},children:"Trinity"}),(0,gy.jsx)("button",{onClick:()=>{uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s favorite school")),{favoriteSchool:"Valkyrie"}).then((()=>{_()})),f(!1)},children:"Valkyrie"})]})}),null!==fy.currentUser&&0==h&&0==p&&(0,gy.jsx)("div",{className:"centered-container",children:(0,gy.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"fit-content"},children:[(0,gy.jsxs)("div",{className:"banner-search-container",children:[(0,gy.jsxs)("p",{className:"text",children:["Username: ",fy.currentUser.email.slice(0,-9)]}),(0,gy.jsxs)("div",{children:[(0,gy.jsx)("p",{className:"planner-text",children:"Favorite Student:"}),(0,gy.jsx)("img",{src:o.photoUrl,className:"profile-character-image"}),""===o&&(0,gy.jsx)("button",{className:"confirmation-button",onClick:()=>{d(!0)},children:"Set Student"}),""!==o&&(0,gy.jsx)(gy.Fragment,{children:(0,gy.jsx)("p",{className:"planner-text",children:o.name})}),(0,gy.jsx)("button",{className:"confirmation-button",onClick:()=>{d(!0)},children:"Set Student"})]}),(0,gy.jsxs)("div",{children:[(0,gy.jsx)("p",{className:"planner-text",children:"Favorite School: "}),(0,gy.jsxs)("div",{children:["Gehenna"===c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/bd/Gehenna.png/50px-Gehenna.png"}),"Abydos"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/91/Abydos.png/50px-Abydos.png"}),"Arius"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/93/Arius.png/50px-Arius.png"}),"Trinity"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/9/9c/Trinity.png/50px-Trinity.png"}),"Millennium"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/2/2a/Millennium.png/50px-Millennium.png"}),"SRT"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/5/5a/SRT.png/50px-SRT.png"}),"Valkyrie"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/d/d5/Valkyrie.png/50px-Valkyrie.png"}),"Shanhaijing"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/b/be/Shanhaijing.png/50px-Shanhaijing.png"}),"Hyakkiyako"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/3/36/Hyakkiyako.png/50px-Hyakkiyako.png"}),"RedWinter"==c&&(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/thumb/8/8b/Red_Winter.png/50px-Red_Winter.png"})]}),(0,gy.jsx)("button",{className:"confirmation-button",onClick:()=>{f(!0)},children:"Set School"})]}),e.length>0&&(0,gy.jsxs)("p",{className:"planner-text",children:["Owned Characters:",e.filter((e=>!0===e.clicked)).length," / ",e.length," (~ ",Math.round(A),"%)"]}),i.length>0&&(0,gy.jsxs)("p",{className:"planner-text",children:["Upcoming Banners:",i.length]})]}),(0,gy.jsx)("h1",{}),(0,gy.jsxs)("div",{className:"banner-search-container",children:[(0,gy.jsxs)("div",{children:[(0,gy.jsx)("p",{className:"planner-text",children:"Currently held pyroxenes: "}),(0,gy.jsx)("input",{className:"search-input",value:m,onChange:e=>{g(e.target.value)},placeholder:"Pyroxenes...."}),(0,gy.jsx)("p",{className:"planner-text",children:"Currently held 10-pull tickets"}),(0,gy.jsx)("input",{className:"search-input",value:y,onChange:e=>{v(e.target.value)},placeholder:"Tenfolds...."}),(0,gy.jsx)("p",{className:"planner-text",children:"Currently held single pull tickets"}),(0,gy.jsx)("input",{className:"search-input",value:b,onChange:e=>{w(e.target.value)},placeholder:"Tickets...."})]}),(0,gy.jsx)("h1",{}),(0,gy.jsx)("button",{onClick:()=>{const e=parseInt(m)+parseInt(1600*y)+parseInt(160*b);uy(xg(my,"".concat(fy.currentUser.uid,"'s collection"),"".concat(fy.currentUser.uid,"'s total pulls")),{pulls:e}).then((()=>{E()}))},className:"confirmation-button",children:"Submit"}),(0,gy.jsxs)("p",{className:"planner-text",children:["Current total: ",k,"  ",(0,gy.jsx)("img",{src:"https://static.miraheze.org/bluearchivewiki/3/3b/Currency_Icon_Gem.png",className:"pyro-img"})," (~",Math.round(k/160)," pulls)"]})]}),(0,gy.jsx)("h1",{})]})}),null===fy.currentUser&&(0,gy.jsx)("p",{children:"Please sign in"})]})};const Uy=function(){const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(""),o=()=>{!function(e){Ue(e).signOut()}(fy),n(!1),window.location.reload()};return(0,gy.jsx)("div",{className:"App",children:(0,gy.jsxs)(ky,{children:[(0,gy.jsx)(Oy,{visibleConfirmation:e,setVisibleConfirmation:n,handleSignOut:o}),(0,gy.jsx)(yy,{visibleConfirmation:e,setVisibleConfirmation:n,loggedin:r,setLoggedin:i,handleSignOut:o,page:a,setPage:s}),(0,gy.jsxs)(de,{children:[(0,gy.jsx)(ue,{path:"/",element:(0,gy.jsx)(xy,{})}),(0,gy.jsx)(ue,{path:"/search",element:(0,gy.jsx)(Ey,{})}),(0,gy.jsx)(ue,{path:"/banners",element:(0,gy.jsx)(Ry,{})}),(0,gy.jsx)(ue,{path:"/planner",element:(0,gy.jsx)(My,{})}),(0,gy.jsx)(ue,{path:"/signin",element:(0,gy.jsx)(Ly,{})}),(0,gy.jsx)(ue,{path:"/register",element:(0,gy.jsx)(Dy,{})}),(0,gy.jsx)(ue,{path:"/profile",element:(0,gy.jsx)(jy,{})})]})]})})};i.createRoot(document.getElementById("root")).render((0,gy.jsx)(t.StrictMode,{children:(0,gy.jsx)(Uy,{})}))})()})();
//# sourceMappingURL=main.e18fbe69.js.map